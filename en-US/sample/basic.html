<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Basic | KLineChart</title>
    <meta name="description" content="💹📈 可高度自定义的专业级轻量金融图表。">
    <link rel="preload stylesheet" href="/assets/style.294f755d.css" as="style">
    
    <script type="module" src="/assets/app.85d5c290.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.c401375a.js">
    <link rel="modulepreload" href="/assets/chunks/theme.3e7d3ec0.js">
    <link rel="modulepreload" href="/assets/chunks/Chart.68e0a929.js">
    <link rel="modulepreload" href="/assets/chunks/index.7607712b.js">
    <link rel="modulepreload" href="/assets/en-US_sample_basic.md.a20f4ddd.lean.js">
    <link rel="icon" type="image/svg+xml" href="/images/logo.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <script>/**
 * @license
 * KLineChart v9.5.4
 * Copyright (c) 2019 lihu.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */(function(m,U){typeof exports=="object"&&typeof module<"u"?U(exports):typeof define=="function"&&define.amd?define(["exports"],U):U((m=typeof globalThis<"u"?globalThis:m||self).klinecharts={})})(this,function(m){"use strict";function U(n,t){if(nt(n)||nt(t)){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=n[e],i=t[e];nt(i)&&nt(o)&&!ot(i)&&!ot(o)?U(o,i):z(t[e])&&(n[e]=t[e])}}}function te(n){if(!nt(n)||!ot(n))return n;var t;for(var e in t=ot(n)?[]:{},n)if(Object.prototype.hasOwnProperty.call(n,e)){var o=n[e];t[e]=nt(o)?te(o):o}return t}function ot(n){return Object.prototype.toString.call(n)==="[object Array]"}function Et(n){return typeof n=="function"}function nt(n){return typeof n=="object"}function It(n){return typeof n=="number"&&!isNaN(n)}function z(n){return n!=null}function Ce(n){return typeof n=="boolean"}function rt(n){return typeof n=="string"}var be,ee,ie,Te,oe,Xt,Dt,we,ne,Pt,bi=/\\(\\)?/g,Ti=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function W(n,t,e){if(z(n)){var o=[];t.replace(Ti,function(s){for(var l=[],u=1;arguments.length>u;u++)l[u-1]=arguments[u];var c=s;return z(l[1])?c=l[2].replace(bi,"$1"):z(l[0])&&(c=l[0].trim()),o.push(c),""});for(var i=n,r=0,a=o.length;z(i)&&a>r;)i=i?.[o[r++]];return z(i)?i:e??"--"}return e??"--"}function Ee(n,t,e){var o=n.format(new Date(t)).split(", "),i=o[0].split("/"),r=o[1].split(":"),a={YYYY:i[2],MM:i[0],DD:i[1],HH:r[0]==="24"?"00":r[0],mm:r[1],ss:r[2]};return e.replace(/YYYY|MM|DD|HH|mm|ss/g,function(s){return a[s]})}function Y(n,t){var e=+n;return It(e)?e.toFixed(t??2):"".concat(n)}function Ie(n){var t=+n;if(It(t)){if(t>1e9)return"".concat(+(t/1e9).toFixed(3),"B");if(t>1e6)return"".concat(+(t/1e6).toFixed(3),"M");if(t>1e3)return"".concat(+(t/1e3).toFixed(3),"K")}return"".concat(n)}function j(n,t){var e="".concat(n);if(t.length===0)return e;if(e.includes(".")){var o=e.split(".");return"".concat(o[0].replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(t)}),".").concat(o[1])}return e.replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(t)})}m.LineType=void 0,(be=m.LineType||(m.LineType={})).Dashed="dashed",be.Solid="solid",m.PolygonType=void 0,(ee=m.PolygonType||(m.PolygonType={})).Stroke="stroke",ee.Fill="fill",ee.StrokeFill="stroke_fill",m.TooltipShowRule=void 0,(ie=m.TooltipShowRule||(m.TooltipShowRule={})).Always="always",ie.FollowCross="follow_cross",ie.None="none",m.TooltipShowType=void 0,(Te=m.TooltipShowType||(m.TooltipShowType={})).Standard="standard",Te.Rect="rect",m.TooltipIconPosition=void 0,(oe=m.TooltipIconPosition||(m.TooltipIconPosition={})).Left="left",oe.Middle="middle",oe.Right="right",function(n){n.Fixed="fixed",n.Pointer="pointer"}(Xt||(Xt={})),m.CandleType=void 0,(Dt=m.CandleType||(m.CandleType={})).CandleSolid="candle_solid",Dt.CandleStroke="candle_stroke",Dt.CandleUpStroke="candle_up_stroke",Dt.CandleDownStroke="candle_down_stroke",Dt.Ohlc="ohlc",Dt.Area="area",m.YAxisPosition=void 0,(we=m.YAxisPosition||(m.YAxisPosition={})).Left="left",we.Right="right",m.YAxisType=void 0,(ne=m.YAxisType||(m.YAxisType={})).Normal="normal",ne.Percentage="percentage",ne.Log="log",m.FormatDateType=void 0,(Pt=m.FormatDateType||(m.FormatDateType={}))[Pt.Tooltip=0]="Tooltip",Pt[Pt.Crosshair=1]="Crosshair",Pt[Pt.XAxis=2]="XAxis";var wi="en-US",re=function(n,t){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])},re(n,t)};function F(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+t+" is not a constructor or null");function e(){this.constructor=n}re(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var _t,P=function(){return P=Object.assign||function(n){for(var t,e=1,o=arguments.length;o>e;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},P.apply(this,arguments)};function Ht(n,t,e,o){return new(e||(e=Promise))(function(i,r){function a(u){try{l(o.next(u))}catch(c){r(c)}}function s(u){try{l(o.throw(u))}catch(c){r(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof e?c:new e(function(h){h(c)})).then(a,s)}l((o=o.apply(n,t||[])).next())})}function jt(n,t){var e,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function s(l){return function(u){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(a=0)),a;)try{if(e=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){a=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&i[3]>c[1])){a.label=c[1];break}if(c[0]===6&&i[1]>a.label){a.label=i[1],i=c;break}if(i&&i[2]>a.label){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(n,a)}catch(h){c=[6,h],o=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function Lt(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],o=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var o,i,r=e.call(n),a=[];try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a}function De(n,t,e){if(e||arguments.length===2)for(var o,i=0,r=t.length;r>i;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}m.ActionType=void 0,(_t=m.ActionType||(m.ActionType={})).OnZoom="onZoom",_t.OnScroll="onScroll",_t.OnVisibleRangeChange="onVisibleRangeChange",_t.OnTooltipIconClick="onTooltipIconClick",_t.OnCrosshairChange="onCrosshairChange",_t.OnCandleBarClick="onCandleBarClick",_t.OnPaneDrag="onPaneDrag";var Zt,Ei=function(){function n(){this._callbacks=[]}return n.prototype.subscribe=function(t){var e;0>((e=this._callbacks.indexOf(t))!==null&&e!==void 0?e:-1)&&this._callbacks.push(t)},n.prototype.unsubscribe=function(t){var e;if(t!==void 0){var o=(e=this._callbacks.indexOf(t))!==null&&e!==void 0?e:-1;o>-1&&this._callbacks.splice(o,1)}else this._callbacks=[]},n.prototype.execute=function(t){this._callbacks.forEach(function(e){e(t)})},n.prototype.isEmpty=function(){return this._callbacks.length===0},n}(),ae=1,Pe=new Date().getTime();function Me(n){var t=new Date().getTime();return t===Pe?++ae:ae=1,Pe=t,"".concat(n??"").concat(t,"_").concat(ae)}function ut(n,t){var e,o=document.createElement(n),i=t??{};for(var r in i)o.style[r]=(e=i[r])!==null&&e!==void 0?e:"";return o}function xt(n){var t,e,o;return Math.ceil((o=(e=(t=n.ownerDocument)===null||t===void 0?void 0:t.defaultView)===null||e===void 0?void 0:e.devicePixelRatio)!==null&&o!==void 0?o:2)}function St(n,t,e){return"".concat(t??"normal"," ").concat(n??12,"px ").concat(e??"Helvetica Neue")}function Rt(n,t,e,o){if(Zt===void 0){var i=document.createElement("canvas"),r=xt(i);(Zt=i.getContext("2d")).scale(r,r)}return Zt.font=St(t,e,o),Math.round(Zt.measureText(n).width)}function se(n,t,e){var o=0,i=0;for(i=n.length-1;o!==i;){var r=Math.floor((i+o)/2),a=i-o,s=n[r][t];if(e===n[o][t])return o;if(e===n[i][t])return i;if(e===s)return r;if(e>s?o=r:i=r,2>=a)break}return o}function ke(n,t){return t==null&&(t=10),+(+n).toFixed(t=Math.min(Math.max(0,t),20))}function Ae(n,t,e){var o=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER];return n.forEach(function(i){var r,a;o[0]=Math.max((r=i[t])!==null&&r!==void 0?r:i,o[0]),o[1]=Math.min((a=i[e])!==null&&a!==void 0?a:i,o[1])}),o}function Bt(n){return Math.log(n)/Math.log(10)}function Ct(n){return Math.pow(10,n)}var le,Ii=1,Di=50,Pi=6,Mi=50,ki=function(){function n(t){this._dateTimeFormat=this._buildDateTimeFormat(),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalBarSpace=0,this._barSpace=Pi,this._offsetRightDistance=Mi,this._startScrollOffsetRightBarCount=0,this._minVisibleBarCount={left:2,right:2},this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._chartStore=t,this._gapBarSpace=this._calcGapBarSpace(),this._offsetRightBarCount=this._offsetRightDistance/this._barSpace}return n.prototype._calcGapBarSpace=function(){return Math.max(1,Math.min(Math.floor(.82*this._barSpace),Math.floor(this._barSpace)-1))},n.prototype.adjustVisibleRange=function(){var t,e=this._chartStore.getDataList(),o=e.length,i=this._totalBarSpace/this._barSpace,r=i-Math.min(this._minVisibleBarCount.left,o);this._offsetRightBarCount>r&&(this._offsetRightBarCount=r);var a=-o+Math.min(this._minVisibleBarCount.right,o);a>this._offsetRightBarCount&&(this._offsetRightBarCount=a);var s=Math.round(this._offsetRightBarCount+o+.5);s>o&&(s=o);var l=Math.round(s-i)-1;if(0>l&&(l=0),this._visibleRange={from:l,to:s,realFrom:this._offsetRightBarCount>0?Math.round(o+this._offsetRightBarCount-i)-1:l,realTo:s},this._chartStore.getActionStore().execute(m.ActionType.OnVisibleRangeChange,this._visibleRange),this._chartStore.adjustVisibleDataList(),l===0&&this._more&&!this._loading&&this._loadMoreCallback!==null){this._loading=!0;var u=e[0];this._loadMoreCallback((t=u?.timestamp)!==null&&t!==void 0?t:null)}},n.prototype.setMore=function(t){return this._more=t,this},n.prototype.setLoading=function(t){return this._loading=t,this},n.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},n.prototype._buildDateTimeFormat=function(t){var e={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};t!==void 0&&(e.timeZone=t);var o=null;try{o=new Intl.DateTimeFormat("en",e)}catch{}return o},n.prototype.setTimezone=function(t){var e=this._buildDateTimeFormat(t);e!==null&&(this._dateTimeFormat=e)},n.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},n.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:this._gapBarSpace/2}},n.prototype.setBarSpace=function(t,e){Ii>t||t>Di||this._barSpace===t||(this._barSpace=t,this._gapBarSpace=this._calcGapBarSpace(),e?.(),this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0))},n.prototype.setTotalBarSpace=function(t){return this._totalBarSpace!==t&&(this._totalBarSpace=t,this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0)),this},n.prototype.setOffsetRightDistance=function(t,e){return this._offsetRightDistance=t,this._offsetRightBarCount=t/this._barSpace,e!=null&&e&&(this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)),this},n.prototype.resetOffsetRightDistance=function(){this.setOffsetRightDistance(this._offsetRightDistance)},n.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},n.prototype.getOffsetRightDistance=function(){return Math.max(0,this._offsetRightBarCount*this._barSpace)},n.prototype.getOffsetRightBarCount=function(){return this._offsetRightBarCount},n.prototype.setOffsetRightBarCount=function(t){return this._offsetRightBarCount=t,this},n.prototype.setLeftMinVisibleBarCount=function(t){return this._minVisibleBarCount.left=t,this},n.prototype.setRightMinVisibleBarCount=function(t){return this._minVisibleBarCount.right=t,this},n.prototype.getVisibleRange=function(){return this._visibleRange},n.prototype.startScroll=function(){this._startScrollOffsetRightBarCount=this._offsetRightBarCount},n.prototype.scroll=function(t){if(this._scrollEnabled){var e=t/this._barSpace;this._chartStore.getActionStore().execute(m.ActionType.OnScroll),this._offsetRightBarCount=this._startScrollOffsetRightBarCount-e,this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)}},n.prototype.getDataByDataIndex=function(t){var e;return(e=this._chartStore.getDataList()[t])!==null&&e!==void 0?e:null},n.prototype.coordinateToFloatIndex=function(t){var e=this._chartStore.getDataList().length;return Math.round(1e6*(e+this._offsetRightBarCount-(this._totalBarSpace-t)/this._barSpace))/1e6},n.prototype.dataIndexToTimestamp=function(t){var e,o=this.getDataByDataIndex(t);return(e=o?.timestamp)!==null&&e!==void 0?e:null},n.prototype.timestampToDataIndex=function(t){var e=this._chartStore.getDataList();return e.length===0?0:se(e,"timestamp",t)},n.prototype.dataIndexToCoordinate=function(t){var e=this._chartStore.getDataList().length;return this._totalBarSpace-(e+this._offsetRightBarCount-t-.5)*this._barSpace},n.prototype.coordinateToDataIndex=function(t){return Math.ceil(this.coordinateToFloatIndex(t))-1},n.prototype.zoom=function(t,e){var o,i=this;if(this._zoomEnabled){if(e?.x===void 0){var r=this._chartStore.getTooltipStore().getCrosshair();e={x:(o=r?.x)!==null&&o!==void 0?o:this._totalBarSpace/2}}this._chartStore.getActionStore().execute(m.ActionType.OnZoom);var a=this.coordinateToFloatIndex(e.x);this.setBarSpace(this._barSpace+t*(this._barSpace/10),function(){i._offsetRightBarCount+=a-i.coordinateToFloatIndex(e?.x)})}},n.prototype.setZoomEnabled=function(t){return this._zoomEnabled=t,this},n.prototype.getZoomEnabled=function(){return this._zoomEnabled},n.prototype.setScrollEnabled=function(t){return this._scrollEnabled=t,this},n.prototype.getScrollEnabled=function(){return this._scrollEnabled},n.prototype.setLoadMoreCallback=function(t){return this._loadMoreCallback=t,this},n.prototype.clear=function(){this._more=!0,this._loading=!0,this._visibleRange={from:0,to:0,realFrom:0,realTo:0}},n}();function ue(n,t,e,o,i){var r,a=t.result,s=t.figures,l=t.styles,u=W(l,"circles",o.circles),c=u.length,h=W(l,"bars",o.bars),d=h.length,p=W(l,"lines",o.lines),v=p.length,g=0,f=0,y=0;s.forEach(function(_){var x;switch(_.type){case"circle":var S=u[g%c];r=P(P({},S),{color:S.noChangeColor}),g++;break;case"bar":var C=h[f%d];r=P(P({},C),{color:C.noChangeColor}),f++;break;case"line":r=p[y%v],y++}if(z(r)){var T=(x=_.styles)===null||x===void 0?void 0:x.call(_,{prev:{kLineData:n[e-1],indicatorData:a[e-1]},current:{kLineData:n[e],indicatorData:a[e]},next:{kLineData:n[e+1],indicatorData:a[e+1]}},t,o);i(_,P(P({},r),T))}})}m.IndicatorSeries=void 0,(le=m.IndicatorSeries||(m.IndicatorSeries={})).Normal="normal",le.Price="price",le.Volume="volume";var Fe=function(){function n(t){this.result=[],this._precisionFlag=!1;var e=t.name,o=t.shortName,i=t.series,r=t.calcParams,a=t.figures,s=t.precision,l=t.shouldOhlc,u=t.shouldFormatBigNumber,c=t.visible,h=t.minValue,d=t.maxValue,p=t.styles,v=t.extendData,g=t.regenerateFigures,f=t.createTooltipDataSource,y=t.draw;this.name=e,this.shortName=o??e,this.series=i??m.IndicatorSeries.Normal,this.precision=s??4,this.calcParams=r??[],this.figures=a??[],this.shouldOhlc=l!=null&&l,this.shouldFormatBigNumber=u!=null&&u,this.visible=c==null||c,this.minValue=h??null,this.maxValue=d??null,this.styles=p??{},this.extendData=v,this.regenerateFigures=g??null,this.createTooltipDataSource=f??null,this.draw=y??null}return n.prototype.setShortName=function(t){return this.shortName!==t&&(this.shortName=t,!0)},n.prototype.setSeries=function(t){return this.series!==t&&(this.series=t,!0)},n.prototype.setPrecision=function(t,e){var o=e!=null&&e,i=Math.floor(t);return!(i===this.precision||0>t||o&&(!o||this._precisionFlag))&&(this.precision=i,o||(this._precisionFlag=!0),!0)},n.prototype.setCalcParams=function(t){var e,o;return this.calcParams=t,this.figures=(o=(e=this.regenerateFigures)===null||e===void 0?void 0:e.call(this,t))!==null&&o!==void 0?o:this.figures,!0},n.prototype.setShouldOhlc=function(t){return this.shouldOhlc!==t&&(this.shouldOhlc=t,!0)},n.prototype.setShouldFormatBigNumber=function(t){return this.shouldFormatBigNumber!==t&&(this.shouldFormatBigNumber=t,!0)},n.prototype.setVisible=function(t){return this.visible!==t&&(this.visible=t,!0)},n.prototype.setStyles=function(t){return t!==null&&(U(this.styles,t),!0)},n.prototype.setExtendData=function(t){return this.extendData!==t&&(this.extendData=t,!0)},n.prototype.setFigures=function(t){return this.figures!==t&&(this.figures=t,!0)},n.prototype.setMinValue=function(t){return this.minValue!==t&&(this.minValue=t,!0)},n.prototype.setMaxValue=function(t){return this.maxValue!==t&&(this.maxValue=t,!0)},n.prototype.setRegenerateFigures=function(t){return this.regenerateFigures!==t&&(this.regenerateFigures=t,!0)},n.prototype.setCreateTooltipDataSource=function(t){return this.createTooltipDataSource!==t&&(this.createTooltipDataSource=t,!0)},n.prototype.setDraw=function(t){return this.draw!==t&&(this.draw=t,!0)},n.prototype.calcIndicator=function(t){return Ht(this,void 0,void 0,function(){var e;return jt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.calc(t,this)];case 1:return e=o.sent(),this.result=e,[2,!0];case 2:return o.sent(),[2,!1];case 3:return[2]}})})},n.extend=function(t){return function(e){function o(){return e.call(this,t)||this}return F(o,e),o.prototype.calc=function(i,r){return t.calc(i,r)},o}(n)},n}(),Ai={name:"AVP",shortName:"AVP",series:m.IndicatorSeries.Price,precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(n){var t=0,e=0;return n.map(function(o){var i,r,a={},s=(i=o?.turnover)!==null&&i!==void 0?i:0,l=(r=o?.volume)!==null&&r!==void 0?r:0;return t+=s,(e+=l)!==0&&(a.avp=t/e),a})}},Fi={name:"EMA",shortName:"EMA",series:m.IndicatorSeries.Price,calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(n){return n.map(function(t,e){return{key:"ema".concat(e+1),title:"EMA".concat(t,": "),type:"line"}})},calc:function(n,t){var e=t.calcParams,o=t.figures,i=0,r=[];return n.map(function(a,s){var l={},u=a.close;return i+=u,e.forEach(function(c,h){c-1>s||(r[h]=s>c-1?(2*u+(c-1)*r[h])/(c+1):i/c,l[o[h].key]=r[h])}),l})}},Li={name:"MA",shortName:"MA",series:m.IndicatorSeries.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regenerateFigures:function(n){return n.map(function(t,e){return{key:"ma".concat(e+1),title:"MA".concat(t,": "),type:"line"}})},calc:function(n,t){var e=t.calcParams,o=t.figures,i=[];return n.map(function(r,a){var s={},l=r.close;return e.forEach(function(u,c){var h;i[c]=((h=i[c])!==null&&h!==void 0?h:0)+l,u-1>a||(s[o[c].key]=i[c]/u,i[c]-=n[a-(u-1)].close)}),s})}},Ri={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(n){return n.map(function(t,e){var o=e+1;return{key:"rsi".concat(o),title:"RSI".concat(o,": "),type:"line"}})},calc:function(n,t){var e=t.calcParams,o=t.figures,i=[],r=[];return n.map(function(a,s){var l,u={},c=((l=n[s-1])!==null&&l!==void 0?l:a).close,h=a.close-c;return e.forEach(function(d,p){var v,g,f;if(h>0?i[p]=((v=i[p])!==null&&v!==void 0?v:0)+h:r[p]=((g=r[p])!==null&&g!==void 0?g:0)+Math.abs(h),s>=d-1){u[o[p].key]=r[p]!==0?100-100/(1+i[p]/r[p]):0;var y=n[s-(d-1)],_=(f=n[s-d])!==null&&f!==void 0?f:y,x=y.close-_.close;x>0?i[p]-=x:r[p]-=Math.abs(x)}}),u})}},Bi={name:"VOL",shortName:"VOL",series:m.IndicatorSeries.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(n,t,e){var o=n.current.kLineData;return{color:o.close>o.open?W(t.styles,"bars[0].upColor",e.bars[0].upColor):o.open>o.close?W(t.styles,"bars[0].downColor",e.bars[0].downColor):W(t.styles,"bars[0].noChangeColor",e.bars[0].noChangeColor)}}}],regenerateFigures:function(n){var t=n.map(function(e,o){return{key:"ma".concat(o+1),title:"MA".concat(e,": "),type:"line"}});return t.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e,o,i){var r=e.current.kLineData;return{color:r.close>r.open?W(o.styles,"bars[0].upColor",i.bars[0].upColor):r.open>r.close?W(o.styles,"bars[0].downColor",i.bars[0].downColor):W(o.styles,"bars[0].noChangeColor",i.bars[0].noChangeColor)}}}),t},calc:function(n,t){var e=t.calcParams,o=t.figures,i=[];return n.map(function(r,a){var s,l=(s=r.volume)!==null&&s!==void 0?s:0,u={volume:l};return e.forEach(function(c,h){var d,p;i[h]=((d=i[h])!==null&&d!==void 0?d:0)+l,c-1>a||(u[o[h].key]=i[h]/c,i[h]-=(p=n[a-(c-1)].volume)!==null&&p!==void 0?p:0)}),u})}},Oi={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(n){return n.map(function(t,e){return{key:"wr".concat(e+1),title:"WR".concat(e+1,": "),type:"line"}})},calc:function(n,t){var e=t.calcParams,o=t.figures;return n.map(function(i,r){var a={},s=i.close;return e.forEach(function(l,u){var c=l-1;if(r>=c){var h=Ae(n.slice(r-c,r+1),"high","low"),d=h[0],p=d-h[1];a[o[u].key]=p===0?0:(s-d)/p*100}}),a})}},Gt={},Vi=[Ai,{name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(n,t,e){var o,i,r,a,s,l=(i=(o=n.prev.indicatorData)===null||o===void 0?void 0:o.ao)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,u=(a=(r=n.current.indicatorData)===null||r===void 0?void 0:r.ao)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER;return{color:s=u>l?W(t.styles,"bars[0].upColor",e.bars[0].upColor):W(t.styles,"bars[0].downColor",e.bars[0].downColor),style:u>l?m.PolygonType.Stroke:m.PolygonType.Fill,borderColor:s}}}],calc:function(n,t){var e=t.calcParams,o=Math.max(e[0],e[1]),i=0,r=0,a=0,s=0;return n.map(function(l,u){var c,h={},d=(l.low+l.high)/2;return i+=d,r+=d,u<e[0]-1||(a=i/e[0],i-=((c=n[u-(e[0]-1)]).low+c.high)/2),u<e[1]-1||(s=r/e[1],r-=((c=n[u-(e[1]-1)]).low+c.high)/2),o-1>u||(h.ao=a-s),h})}},{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(n){return n.map(function(t,e){return{key:"bias".concat(e+1),title:"BIAS".concat(t,": "),type:"line"}})},calc:function(n,t){var e=t.calcParams,o=t.figures,i=[];return n.map(function(r,a){var s={},l=r.close;return e.forEach(function(u,c){var h;if(i[c]=((h=i[c])!==null&&h!==void 0?h:0)+l,a>=u-1){var d=i[c]/e[c];s[o[c].key]=(l-d)/d*100,i[c]-=n[a-(u-1)].close}}),s})}},{name:"BOLL",shortName:"BOLL",series:m.IndicatorSeries.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=e[0]-1,i=0;return n.map(function(r,a){var s={};if(i+=r.close,a>=o){s.mid=i/e[0];var l=function(u,c){var h=u.length,d=0;return u.forEach(function(p){var v=p.close-c;d+=v*v}),Math.sqrt((d=Math.abs(d))/h)}(n.slice(a-o,a+1),s.mid);s.up=s.mid+e[1]*l,s.dn=s.mid-e[1]*l,i-=n[a-o].close}return s})}},{name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=0,i=0,r=0,a=0;return n.map(function(s,l){var u,c,h={},d=s.high,p=s.low,v=s.open,g=((u=n[l-1])!==null&&u!==void 0?u:s).close;if(r+=d-v,a+=v-p,o+=d-g,i+=g-p,l>=e[0]-1){h.ar=a!==0?r/a*100:0,h.br=i!==0?o/i*100:0;var f=n[l-(e[0]-1)],y=f.high,_=f.low,x=f.open,S=((c=n[l-e[0]])!==null&&c!==void 0?c:n[l-(e[0]-1)]).close;o-=y-S,i-=S-_,r-=y-x,a-=x-_}return h})}},{name:"BBI",shortName:"BBI",series:m.IndicatorSeries.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=Math.max.apply(Math,De([],G(e),!1)),i=[],r=[];return n.map(function(a,s){var l={},u=a.close;if(e.forEach(function(h,d){var p;i[d]=((p=i[d])!==null&&p!==void 0?p:0)+u,h-1>s||(r[d]=i[d]/h,i[d]-=n[s-(h-1)].close)}),s>=o-1){var c=0;r.forEach(function(h){c+=h}),l.bbi=c/4}return l})}},{name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=e[0]-1,i=0,r=[];return n.map(function(a,s){var l={},u=(a.high+a.low+a.close)/3;if(i+=u,r.push(u),s>=o){var c=i/e[0],h=r.slice(s-o,s+1),d=0;h.forEach(function(v){d+=Math.abs(v-c)});var p=d/e[0];l.cci=p!==0?(u-c)/p/.015:0,i-=(n[s-o].high+n[s-o].low+n[s-o].close)/3}return l})}},{name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=Math.ceil(e[1]/2.5+1),i=Math.ceil(e[2]/2.5+1),r=Math.ceil(e[3]/2.5+1),a=Math.ceil(e[4]/2.5+1),s=0,l=[],u=0,c=[],h=0,d=[],p=0,v=[],g=[];return n.forEach(function(f,y){var _,x,S,C,T,b={},w=(_=n[y-1])!==null&&_!==void 0?_:f,E=(w.high+w.close+w.low+w.open)/4,D=Math.max(0,f.high-E),I=Math.max(0,E-f.low);e[0]-1>y||(b.cr=I!==0?D/I*100:0,s+=b.cr,u+=b.cr,h+=b.cr,p+=b.cr,e[0]+e[1]-2>y||(l.push(s/e[1]),e[0]+e[1]+o-3>y||(b.ma1=l[l.length-1-o]),s-=(x=g[y-(e[1]-1)].cr)!==null&&x!==void 0?x:0),e[0]+e[2]-2>y||(c.push(u/e[2]),e[0]+e[2]+i-3>y||(b.ma2=c[c.length-1-i]),u-=(S=g[y-(e[2]-1)].cr)!==null&&S!==void 0?S:0),e[0]+e[3]-2>y||(d.push(h/e[3]),e[0]+e[3]+r-3>y||(b.ma3=d[d.length-1-r]),h-=(C=g[y-(e[3]-1)].cr)!==null&&C!==void 0?C:0),e[0]+e[4]-2>y||(v.push(p/e[4]),e[0]+e[4]+a-3>y||(b.ma4=v[v.length-1-a]),p-=(T=g[y-(e[4]-1)].cr)!==null&&T!==void 0?T:0)),g.push(b)}),g}},{name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=Math.max(e[0],e[1]),i=0,r=0,a=0,s=[];return n.forEach(function(l,u){var c,h={},d=l.close;i+=d,r+=d;var p=0,v=0;if(e[0]-1>u||(p=i/e[0],i-=n[u-(e[0]-1)].close),e[1]-1>u||(v=r/e[1],r-=n[u-(e[1]-1)].close),u>=o-1){var g=p-v;h.dma=g,a+=g,o+e[2]-2>u||(h.ama=a/e[2],a-=(c=s[u-(e[2]-1)].dma)!==null&&c!==void 0?c:0)}s.push(h)}),s}},{name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=0,i=0,r=0,a=0,s=0,l=0,u=0,c=0,h=[];return n.forEach(function(d,p){var v,g,f={},y=(v=n[p-1])!==null&&v!==void 0?v:d,_=y.close,x=d.high,S=d.low,C=x-S,T=Math.abs(x-_),b=Math.abs(_-S),w=x-y.high,E=y.low-S,D=Math.max(Math.max(C,T),b),I=w>0&&w>E?w:0,M=E>0&&E>w?E:0;if(o+=D,i+=I,r+=M,p>=e[0]-1){p>e[0]-1?(a=a-a/e[0]+D,s=s-s/e[0]+I,l=l-l/e[0]+M):(a=o,s=i,l=r);var k=0,A=0;a!==0&&(k=100*s/a,A=100*l/a),f.pdi=k,f.mdi=A;var L=0;A+k!==0&&(L=Math.abs(A-k)/(A+k)*100),u+=L,2*e[0]-2>p||(f.adx=c=p>2*e[0]-2?(c*(e[0]-1)+L)/e[0]:u/e[0],2*e[0]+e[1]-3>p||(f.adxr=(((g=h[p-(e[1]-1)].adx)!==null&&g!==void 0?g:0)+c)/2))}h.push(f)}),h}},{name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=0,i=[];return n.map(function(r,a){var s,l={};if(a>0){var u=n[a-1],c=r.high,h=r.low,d=(s=r.volume)!==null&&s!==void 0?s:0,p=(c+h)/2-(u.high+u.low)/2;d===0||c-h==0?l.emv=0:l.emv=p/(d/1e8/(c-h)),o+=l.emv,i.push(l.emv),e[0]>a||(l.maEmv=o/e[0],o-=i[a-e[0]])}return l})}},Fi,{name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=0,i=[];return n.forEach(function(r,a){var s,l={};a<e[0]||(l.mtm=r.close-n[a-e[0]].close,o+=l.mtm,e[0]+e[1]-1>a||(l.maMtm=o/e[1],o-=(s=i[a-(e[1]-1)].mtm)!==null&&s!==void 0?s:0)),i.push(l)}),i}},Li,{name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(n,t,e){var o,i,r,a,s,l=(i=(o=n.prev.indicatorData)===null||o===void 0?void 0:o.macd)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,u=(a=(r=n.current.indicatorData)===null||r===void 0?void 0:r.macd)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER;return s=u>0?W(t.styles,"bars[0].upColor",e.bars[0].upColor):0>u?W(t.styles,"bars[0].downColor",e.bars[0].downColor):W(t.styles,"bars[0].noChangeColor",e.bars[0].noChangeColor),{style:u>l?m.PolygonType.Stroke:m.PolygonType.Fill,color:s,borderColor:s}}}],calc:function(n,t){var e,o,i=t.calcParams,r=0,a=0,s=0,l=0,u=Math.max(i[0],i[1]);return n.map(function(c,h){var d={},p=c.close;return r+=p,i[0]-1>h||(e=h>i[0]-1?(2*p+(i[0]-1)*e)/(i[0]+1):r/i[0]),i[1]-1>h||(o=h>i[1]-1?(2*p+(i[1]-1)*o)/(i[1]+1):r/i[1]),u-1>h||(d.dif=a=e-o,s+=a,u+i[2]-2>h||(d.macd=2*(a-(l=h>u+i[2]-2?(2*a+l*(i[2]-1))/(i[2]+1):s/i[2])),d.dea=l)),d})}},{name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=0,i=0,r=[];return n.forEach(function(a,s){var l,u,c,h,d=(l=n[s-1])!==null&&l!==void 0?l:a;d.close>a.close?i-=(u=a.volume)!==null&&u!==void 0?u:0:a.close>d.close&&(i+=(c=a.volume)!==null&&c!==void 0?c:0);var p={obv:i};o+=i,e[0]-1>s||(p.maObv=o/e[0],o-=(h=r[s-(e[0]-1)].obv)!==null&&h!==void 0?h:0),r.push(p)}),r}},{name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(n){var t=0;return n.map(function(e,o){var i,r,a={},s=(i=e.volume)!==null&&i!==void 0?i:1,l=((r=n[o-1])!==null&&r!==void 0?r:e).close,u=0,c=l*s;return c!==0&&(u=(e.close-l)/c),a.pvt=t+=u,a})}},{name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=0,i=0,r=[],a=[];return n.forEach(function(s,l){var u,c,h={},d=((u=n[l-1])!==null&&u!==void 0?u:s).close,p=s.close-d>0?1:0;r.push(p),o+=p,e[0]-1>l||(h.psy=o/e[0]*100,i+=h.psy,e[0]+e[1]-2>l||(h.maPsy=i/e[1],i-=(c=a[l-(e[1]-1)].psy)!==null&&c!==void 0?c:0),o-=r[l-(e[0]-1)]),a.push(h)}),a}},{name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=[],i=0;return n.forEach(function(r,a){var s,l,u={};if(a>=e[0]-1){var c=((s=n[a-e[0]])!==null&&s!==void 0?s:n[a-(e[0]-1)]).close;u.roc=c!==0?(r.close-c)/c*100:0,i+=u.roc,e[0]-1+e[1]-1>a||(u.maRoc=i/e[1],i-=(l=o[a-(e[1]-1)].roc)!==null&&l!==void 0?l:0)}o.push(u)}),o}},Ri,{name:"SMA",shortName:"SMA",series:m.IndicatorSeries.Price,calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(n,t){var e=t.calcParams,o=0,i=0;return n.map(function(r,a){var s={},l=r.close;return o+=l,e[0]-1>a||(s.sma=i=a>e[0]-1?(l*e[1]+i*(e[0]-e[1]+1))/(e[0]+1):o/e[0]),s})}},{name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=[];return n.forEach(function(i,r){var a,s,l,u,c={},h=i.close;if(r>=e[0]-1){var d=Ae(n.slice(r-(e[0]-1),r+1),"high","low"),p=d[1],v=d[0]-p;c.k=((e[1]-1)*((s=(a=o[r-1])===null||a===void 0?void 0:a.k)!==null&&s!==void 0?s:50)+(h-p)/(v===0?1:v)*100)/e[1],c.d=((e[2]-1)*((u=(l=o[r-1])===null||l===void 0?void 0:l.d)!==null&&u!==void 0?u:50)+c.k)/e[2],c.j=3*c.k-2*c.d}o.push(c)}),o}},{name:"SAR",shortName:"SAR",series:m.IndicatorSeries.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(n,t,e){var o,i,r=n.current,a=(i=(o=r.indicatorData)===null||o===void 0?void 0:o.sar)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,s=r.kLineData;return{color:(s?.high+s?.low)/2>a?W(t.styles,"circles[0].upColor",e.circles[0].upColor):W(t.styles,"circles[0].downColor",e.circles[0].downColor)}}}],calc:function(n,t){var e=t.calcParams,o=e[0]/100,i=e[1]/100,r=e[2]/100,a=o,s=-100,l=!1,u=0;return n.map(function(c,h){var d=u,p=c.high,v=c.low;if(l){(s===-100||p>s)&&(s=p,a=Math.min(a+i,r)),u=d+a*(s-d);var g=Math.min(n[Math.max(1,h)-1].low,v);u>c.low?(u=s,a=o,s=-100,l=!l):u>g&&(u=g)}else{(s===-100||s>v)&&(s=v,a=Math.min(a+i,r)),u=d+a*(s-d);var f=Math.max(n[Math.max(1,h)-1].high,p);c.high>u?(u=s,a=0,s=-100,l=!l):f>u&&(u=f)}return{sar:u}})}},{name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(n,t){var e,o,i,r=t.calcParams,a=0,s=0,l=0,u=0,c=[];return n.forEach(function(h,d){var p,v={},g=h.close;if(a+=g,d>=r[0]-1&&(s+=e=d>r[0]-1?(2*g+(r[0]-1)*e)/(r[0]+1):a/r[0],d>=2*r[0]-2&&(l+=o=d>2*r[0]-2?(2*e+(r[0]-1)*o)/(r[0]+1):s/r[0],d>=3*r[0]-3))){var f=void 0,y=0;d>3*r[0]-3?y=((f=(2*o+(r[0]-1)*i)/(r[0]+1))-i)/i*100:f=l/r[0],i=f,v.trix=y,u+=y,3*r[0]+r[1]-4>d||(v.maTrix=u/r[1],u-=(p=c[d-(r[1]-1)].trix)!==null&&p!==void 0?p:0)}c.push(v)}),c}},Bi,{name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(n,t){var e=t.calcParams,o=0,i=0,r=0,a=0,s=[];return n.forEach(function(l,u){var c,h,d,p,v,g={},f=l.close,y=((c=n[u-1])!==null&&c!==void 0?c:l).close,_=(h=l.volume)!==null&&h!==void 0?h:0;if(f>y?o+=_:y>f?i+=_:r+=_,u>=e[0]-1){var x=r/2;g.vr=i+x===0?0:(o+x)/(i+x)*100,a+=g.vr,e[0]+e[1]-2>u||(g.maVr=a/e[1],a-=(d=s[u-(e[1]-1)].vr)!==null&&d!==void 0?d:0);var S=n[u-(e[0]-1)],C=(p=n[u-e[0]])!==null&&p!==void 0?p:S,T=S.close,b=(v=S.volume)!==null&&v!==void 0?v:0;T>C.close?o-=b:C.close>T?i-=b:r-=b}s.push(g)}),s}},Oi];function Le(n){var t;return(t=Gt[n])!==null&&t!==void 0?t:null}Vi.forEach(function(n){Gt[n.name]=Fe.extend(n)});var ce,Ni=function(){function n(t){this._instances=new Map,this._chartStore=t}return n.prototype._overrideInstance=function(t,e){var o=e.shortName,i=e.series,r=e.calcParams,a=e.precision,s=e.figures,l=e.minValue,u=e.maxValue,c=e.shouldOhlc,h=e.shouldFormatBigNumber,d=e.visible,p=e.styles,v=e.extendData,g=e.regenerateFigures,f=e.createTooltipDataSource,y=e.draw,_=e.calc,x=!1;o!==void 0&&t.setShortName(o)&&(x=!0),i!==void 0&&t.setSeries(i)&&(x=!0);var S=!1;return r!==void 0&&t.setCalcParams(r)&&(x=!0,S=!0),s!==void 0&&t.setFigures(s)&&(x=!0,S=!0),l!==void 0&&t.setMinValue(l)&&(x=!0),u!==void 0&&t.setMinValue(u)&&(x=!0),a!==void 0&&t.setPrecision(a)&&(x=!0),c!==void 0&&t.setShouldOhlc(c)&&(x=!0),h!==void 0&&t.setShouldFormatBigNumber(h)&&(x=!0),d!==void 0&&t.setVisible(d)&&(x=!0),p!==void 0&&t.setStyles(p)&&(x=!0),v!==void 0&&t.setExtendData(v)&&(x=!0,S=!0),g!==void 0&&t.setRegenerateFigures(g)&&(x=!0),f!==void 0&&t.setCreateTooltipDataSource(f)&&(x=!0),y!==void 0&&t.setDraw(y)&&(x=!0),_!==void 0&&(t.calc=_,S=!0),[x,S]},n.prototype.addInstance=function(t,e,o){var i;return Ht(this,void 0,void 0,function(){var r,a,s,l;return jt(this,function(u){switch(u.label){case 0:return r=t.name,a=this._instances.get(e),(i=a?.has(r))!==null&&i!==void 0&&i?[4,Promise.reject(Error("Duplicate indicators."))]:[3,2];case 1:case 3:return[2,u.sent()];case 2:return a===void 0&&(a=new Map,this._instances.set(e,a)),s=Le(r),l=new s,this._overrideInstance(l,t),o||a.clear(),a.set(r,l),[4,l.calcIndicator(this._chartStore.getDataList())]}})})},n.prototype.getInstances=function(t){var e;return(e=this._instances.get(t))!==null&&e!==void 0?e:new Map},n.prototype.removeInstance=function(t,e){var o=!1,i=this._instances.get(t);return i!==void 0&&(e!==void 0?i.has(e)&&(i.delete(e),o=!0):(i.clear(),o=!0),i.size===0&&this._instances.delete(t)),o},n.prototype.hasInstances=function(t){return this._instances.has(t)},n.prototype.calcInstance=function(t,e){var o;return Ht(this,void 0,void 0,function(){var i,r,a,s=this;return jt(this,function(l){switch(l.label){case 0:return i=[],t!==void 0?e!==void 0?(r=this._instances.get(e),(o=r?.has(t))!==null&&o!==void 0&&o&&(a=r?.get(t),i.push(a.calcIndicator(this._chartStore.getDataList())))):this._instances.forEach(function(u){if(u.has(t)){var c=u?.get(t);i.push(c.calcIndicator(s._chartStore.getDataList()))}}):this._instances.forEach(function(u){u.forEach(function(c){i.push(c.calcIndicator(s._chartStore.getDataList()))})}),[4,Promise.all(i)];case 1:return[2,l.sent().includes(!0)]}})})},n.prototype.getInstanceByPaneId=function(t,e){var o;if(t!==void 0){var i=this._instances.get(t);return e!==void 0?(o=i?.get(e))!==null&&o!==void 0?o:null:i??null}return this._instances},n.prototype.setSeriesPrecision=function(t){this._instances.forEach(function(e){e.forEach(function(o){o.series===m.IndicatorSeries.Price&&o.setPrecision(t.price,!0),o.series===m.IndicatorSeries.Volume&&o.setPrecision(t.volume,!0)})})},n.prototype.override=function(t,e){return Ht(this,void 0,void 0,function(){var o,i,r,a,s,l,u=this;return jt(this,function(c){switch(c.label){case 0:return o=t.name,i=new Map,e!==null?(r=this._instances.get(e))!==void 0&&i.set(e,r):i=this._instances,a=!1,s=[],i.forEach(function(h){var d=h.get(o);if(d!==void 0){var p=u._overrideInstance(d,t);p[1]?s.push(d.calcIndicator(u._chartStore.getDataList())):p[0]&&(a=!0)}}),[4,Promise.all(s)];case 1:return l=c.sent(),[2,[a,l.includes(!0)]]}})})},n}(),Wi=function(){function n(t){this._crosshair={},this._activeIcon=null,this._chartStore=t}return n.prototype.setCrosshair=function(t,e){var o,i,r=this._chartStore.getDataList(),a=t??{},s=r[i=a.x!==void 0?0>(o=this._chartStore.getTimeScaleStore().coordinateToDataIndex(a.x))?0:o>r.length-1?r.length-1:o:o=r.length-1],l=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(o),u=this._crosshair.x,c=this._crosshair.y,h=this._crosshair.paneId;this._crosshair=P(P({},a),{realX:l,kLineData:s,realDataIndex:o,dataIndex:i}),u===a.x&&c===a.y&&h===a.paneId||(s!==null&&this._chartStore.getChart().crosshairChange(this._crosshair),e!=null&&e||this._chartStore.getChart().updatePane(1))},n.prototype.recalculateCrosshair=function(t){this.setCrosshair(this._crosshair,t)},n.prototype.getCrosshair=function(){return this._crosshair},n.prototype.setActiveIcon=function(t){this._activeIcon=t??null},n.prototype.getActiveIcon=function(){return this._activeIcon},n.prototype.clear=function(){this.setCrosshair({},!0),this.setActiveIcon()},n}();m.OverlayMode=void 0,(ce=m.OverlayMode||(m.OverlayMode={})).Normal="normal",ce.WeakMagnet="weak_magnet",ce.StrongMagnet="strong_magnet";var Re=1,Mt="overlay_figure_",zi=Number.MAX_SAFE_INTEGER,Be=function(){function n(t){this.currentStep=Re,this.points=[],this._prevPressedPoint=null,this._prevPressedPoints=[];var e=t.mode,o=t.modeSensitivity,i=t.extendData,r=t.styles,a=t.totalStep,s=t.lock,l=t.visible,u=t.zLevel,c=t.needDefaultPointFigure,h=t.needDefaultXAxisFigure,d=t.needDefaultYAxisFigure,p=t.createPointFigures,v=t.createXAxisFigures,g=t.createYAxisFigures,f=t.performEventPressedMove,y=t.performEventMoveForDrawing,_=t.onDrawStart,x=t.onDrawing,S=t.onDrawEnd,C=t.onClick,T=t.onDoubleClick,b=t.onRightClick,w=t.onPressedMoveStart,E=t.onPressedMoving,D=t.onPressedMoveEnd,I=t.onMouseEnter,M=t.onMouseLeave,k=t.onRemoved,A=t.onSelected,L=t.onDeselected;this.name=t.name,this.totalStep=a===void 0||2>a?1:a,this.lock=s!=null&&s,this.visible=l==null||l,this.zLevel=u??0,this.needDefaultPointFigure=c!=null&&c,this.needDefaultXAxisFigure=h!=null&&h,this.needDefaultYAxisFigure=d!=null&&d,this.mode=e??m.OverlayMode.Normal,this.modeSensitivity=o??8,this.extendData=i,this.styles=r??{},this.createPointFigures=p??null,this.createXAxisFigures=v??null,this.createYAxisFigures=g??null,this.performEventPressedMove=f??null,this.performEventMoveForDrawing=y??null,this.onDrawStart=_??null,this.onDrawing=x??null,this.onDrawEnd=S??null,this.onClick=C??null,this.onDoubleClick=T??null,this.onRightClick=b??null,this.onPressedMoveStart=w??null,this.onPressedMoving=E??null,this.onPressedMoveEnd=D??null,this.onMouseEnter=I??null,this.onMouseLeave=M??null,this.onRemoved=k??null,this.onSelected=A??null,this.onDeselected=L??null}return n.prototype.setId=function(t){return this.id===void 0&&(this.id=t,!0)},n.prototype.setGroupId=function(t){return this.groupId===void 0&&(this.groupId=t,!0)},n.prototype.setDefaultZLevel=function(t){return this.defaultZLevel===void 0&&(this.defaultZLevel=t,!0)},n.prototype.setPaneId=function(t){this.paneId=t},n.prototype.setExtendData=function(t){return t!==this.extendData&&(this.extendData=t,!0)},n.prototype.setStyles=function(t){return t!==null&&(U(this.styles,t),!0)},n.prototype.setPoints=function(t){if(t.length>0){var e=void 0;if(this.points=De([],G(t),!1),this.totalStep-1>t.length?(this.currentStep=t.length+1,e=t.length):(this.currentStep=-1,e=this.totalStep-1),this.performEventMoveForDrawing!==null)for(var o=0;e>o;o++)this.performEventMoveForDrawing({currentStep:o+2,mode:this.mode,points:this.points,performPointIndex:o,performPoint:this.points[o]});return this.currentStep===-1&&this.performEventPressedMove!==null&&this.performEventPressedMove({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}),!0}return!1},n.prototype.setLock=function(t){return this.lock!==t&&(this.lock=t,!0)},n.prototype.setVisible=function(t){return this.visible!==t&&(this.visible=t,!0)},n.prototype.resetZLevel=function(){this.zLevel=this.defaultZLevel},n.prototype.setZLevel=function(t){return this.zLevel!==t&&(this.zLevel=t,!0)},n.prototype.setMode=function(t){return this.mode!==t&&(this.mode=t,!0)},n.prototype.setModeSensitivity=function(t){return this.modeSensitivity!==t&&(this.modeSensitivity=t,!0)},n.prototype.setOnDrawStartCallback=function(t){return this.onDrawStart!==t&&(this.onDrawStart=t,!0)},n.prototype.setOnDrawingCallback=function(t){return this.onDrawing!==t&&(this.onDrawing=t,!0)},n.prototype.setOnDrawEndCallback=function(t){return this.onDrawEnd!==t&&(this.onDrawEnd=t,!0)},n.prototype.setOnClickCallback=function(t){return this.onClick!==t&&(this.onClick=t,!0)},n.prototype.setOnDoubleClickCallback=function(t){return this.onDoubleClick!==t&&(this.onDoubleClick=t,!0)},n.prototype.setOnRightClickCallback=function(t){return this.onRightClick!==t&&(this.onRightClick=t,!0)},n.prototype.setOnPressedMoveStartCallback=function(t){return this.onPressedMoveStart!==t&&(this.onPressedMoveStart=t,!0)},n.prototype.setOnPressedMovingCallback=function(t){return this.onPressedMoving!==t&&(this.onPressedMoving=t,!0)},n.prototype.setOnPressedMoveEndCallback=function(t){return this.onPressedMoveEnd!==t&&(this.onPressedMoveEnd=t,!0)},n.prototype.setOnMouseEnterCallback=function(t){return this.onMouseEnter!==t&&(this.onMouseEnter=t,!0)},n.prototype.setOnMouseLeaveCallback=function(t){return this.onMouseLeave!==t&&(this.onMouseLeave=t,!0)},n.prototype.setOnRemovedCallback=function(t){return this.onRemoved!==t&&(this.onRemoved=t,!0)},n.prototype.setOnSelectedCallback=function(t){return this.onSelected!==t&&(this.onSelected=t,!0)},n.prototype.setOnDeselectedCallback=function(t){return this.onDeselected!==t&&(this.onDeselected=t,!0)},n.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=-1:this.currentStep++},n.prototype.forceComplete=function(){this.currentStep=-1},n.prototype.isDrawing=function(){return this.currentStep!==-1},n.prototype.isStart=function(){return this.currentStep===Re},n.prototype.eventMoveForDrawing=function(t){var e,o=this.currentStep-1,i={};t.timestamp!==void 0&&(i.timestamp=t.timestamp),t.dataIndex!==void 0&&(i.dataIndex=t.dataIndex),t.value!==void 0&&(i.value=t.value),this.points[o]=i,(e=this.performEventMoveForDrawing)===null||e===void 0||e.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:o,performPoint:i})},n.prototype.eventPressedPointMove=function(t,e){var o;t.dataIndex!==void 0&&(this.points[e].dataIndex=t.dataIndex,this.points[e].timestamp=t.timestamp),t.value!==void 0&&(this.points[e].value=t.value),(o=this.performEventPressedMove)===null||o===void 0||o.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:e,performPoint:this.points[e]})},n.prototype.startPressedMove=function(t){this._prevPressedPoint=P({},t),this._prevPressedPoints=te(this.points)},n.prototype.eventPressedOtherMove=function(t,e){var o,i;this._prevPressedPoint!==null&&(t.dataIndex!==void 0&&this._prevPressedPoint.dataIndex!==void 0&&(o=t.dataIndex-this._prevPressedPoint.dataIndex),t.value!==void 0&&this._prevPressedPoint.value!==void 0&&(i=t.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(r){var a;r.dataIndex===void 0&&r.timestamp!==void 0&&(r.dataIndex=e.timestampToDataIndex(r.timestamp));var s=P({},r);return o!==void 0&&r.dataIndex!==void 0&&(s.dataIndex=r.dataIndex+o,s.timestamp=(a=e.dataIndexToTimestamp(s.dataIndex))!==null&&a!==void 0?a:void 0),i!==void 0&&r.value!==void 0&&(s.value=r.value+i),s}))},n.extend=function(t){return function(e){function o(){return e.call(this,t)||this}return F(o,e),o}(n)},n}(),Yi={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates,e=n.precision,o=n.thousandsSeparator,i=n.overlay.points;if(t.length>0){var r=[],a=[],s=n.bounding.width;if(t.length>1&&i[0].value!==void 0&&i[1].value!==void 0){var l=t[0].y-t[1].y,u=i[0].value-i[1].value;[1,.786,.618,.5,.382,.236,0].forEach(function(c){var h,d=t[1].y+l*c,p=j((((h=i[1].value)!==null&&h!==void 0?h:0)+u*c).toFixed(e.price),o);r.push({coordinates:[{x:0,y:d},{x:s,y:d}]}),a.push({x:0,y:d,text:"".concat(p," (").concat((100*c).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:r},{type:"text",isCheckEvent:!1,attrs:a}]}return[]}},Xi={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates,e={x:0,y:t[0].y};return t[1]!==void 0&&t[1].x>t[0].x&&(e.x=n.bounding.width),[{type:"line",attrs:{coordinates:[t[0],e]}}]},performEventPressedMove:function(n){var t=n.points,e=n.performPoint;t[0].value=e.value,t[1].value=e.value},performEventMoveForDrawing:function(n){n.currentStep===2&&(n.points[0].value=n.performPoint.value)}},he=function(){function n(){this._children=[],this._callbacks=new Map}return n.prototype.registerEvent=function(t,e){return this._callbacks.set(t,e),this},n.prototype.onEvent=function(t,e,o){var i=this._callbacks.get(t);return!(i===void 0||!this.checkEventOn(e))&&i(e,o)},n.prototype.checkEventOn=function(t){var e,o;try{for(var i=Lt(this._children),r=i.next();!r.done;r=i.next())if(r.value.checkEventOn(t))return!0}catch(a){e={error:a}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(e)throw e.error}}return!1},n.prototype.dispatchEvent=function(t,e,o){var i=this._children.length-1;if(i>-1){for(var r=i;r>-1;r--)if(this._children[r].dispatchEvent(t,e,o))return!0}return this.onEvent(t,e,o)},n.prototype.addChild=function(t){return this._children.push(t),this},n.prototype.clear=function(){this._children=[]},n}(),X=2,Oe=function(n){function t(e){var o=n.call(this)||this;return o.attrs=e.attrs,o.styles=e.styles,o}return F(t,n),t.prototype.checkEventOn=function(e){return this.checkEventOnImp(e,this.attrs,this.styles)},t.prototype.draw=function(e){this.drawImp(e,this.attrs,this.styles)},t.extend=function(e){var o=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return F(r,i),r.prototype.checkEventOnImp=function(a,s,l){return e.checkEventOn(a,s,l)},r.prototype.drawImp=function(a,s,l){e.draw(a,s,l)},r}(t);return o},t}(he);function Ve(n,t){return Math.sqrt(Math.pow(n.x+t.x,2)+Math.pow(n.y+t.y,2))}function Hi(n){var t=Ve(n[0],n[1]),e=t+Ve(n[1],n[2]),o=[n[2].x-n[0].x,n[2].y-n[0].y];return[{x:n[1].x-.5*o[0]*t/e,y:n[1].y-.5*o[1]*t/e},{x:n[1].x+.5*o[0]*t/e,y:n[1].y+.5*o[1]*t/e}]}function Ne(n,t){var e=t.coordinates;if(e.length>1)for(var o=1;e.length>o;o++){var i=e[o-1],r=e[o];if(i.x===r.x){if(X+X>Math.abs(i.y-n.y)+Math.abs(r.y-n.y)-Math.abs(i.y-r.y)&&X>Math.abs(n.x-i.x))return!0}else{var a=Ut(i,r),s=de(a,n),l=Math.abs(s-n.y);if(X+X>Math.abs(i.x-n.x)+Math.abs(r.x-n.x)-Math.abs(i.x-r.x)&&X*X>l*l/(a[0]*a[0]+1))return!0}}return!1}function de(n,t){return n!=null?t.x*n[0]+n[1]:t.y}function Ot(n,t,e){return de(Ut(n,t),e)}function Ut(n,t){var e=n.x-t.x;if(e!==0){var o=(n.y-t.y)/e;return[o,n.y-o*n.x]}return null}function We(n,t,e){var o=t.coordinates,i=o.length;if(i>1){var r=e.style,a=r===void 0?m.LineType.Solid:r,s=e.smooth,l=e.size,u=e.color,c=u===void 0?"currentColor":u,h=e.dashedValue,d=h===void 0?[2,2]:h;if(n.lineWidth=l===void 0?1:l,n.strokeStyle=c,n.setLineDash(a===m.LineType.Dashed?d:[]),n.beginPath(),n.moveTo(o[0].x,o[0].y),s!=null&&s){for(var p=[],v=1;i-1>v;v++)p=p.concat(Hi([o[v-1],o[v],o[v+1]]));n.quadraticCurveTo(p[0].x,p[0].y,o[1].x,o[1].y);for(var g=2;i-1>g;g++)n.bezierCurveTo(p[2*(g-2)+1].x,p[2*(g-2)+1].y,p[2*(g-1)].x,p[2*(g-1)].y,o[g].x,o[g].y);n.quadraticCurveTo(p[2*(g-2)+1].x,p[2*(g-2)+1].y,o[g].x,o[g].y)}else for(g=1;o.length>g;g++)n.lineTo(o[g].x,o[g].y);n.stroke(),n.closePath()}}var ji={name:"line",checkEventOn:Ne,draw:function(n,t,e){We(n,t,e)}};function ze(n,t,e){var o=e??0,i=[];if(n.length>1)if(n[0].x===n[1].x){var r=t.height;if(i.push({coordinates:[{x:n[0].x,y:0},{x:n[0].x,y:r}]}),n.length>2){i.push({coordinates:[{x:n[2].x,y:0},{x:n[2].x,y:r}]});for(var a=n[0].x-n[2].x,s=0;o>s;s++){var l=a*(s+1);i.push({coordinates:[{x:n[0].x+l,y:0},{x:n[0].x+l,y:r}]})}}}else{var u=t.width,c=Ut(n[0],n[1]),h=c[0],d=c[1];if(i.push({coordinates:[{x:0,y:0*h+d},{x:u,y:u*h+d}]}),n.length>2){var p=n[2].y-h*n[2].x;for(i.push({coordinates:[{x:0,y:0*h+p},{x:u,y:u*h+p}]}),a=d-p,s=0;o>s;s++){var v=d+a*(s+1);i.push({coordinates:[{x:0,y:0*h+v},{x:u,y:u*h+v}]})}}}return i}function Zi(n,t){if(n.length>1){var e=void 0;return e=n[0].x===n[1].x&&n[0].y!==n[1].y?n[1].y>n[0].y?{x:n[0].x,y:t.height}:{x:n[0].x,y:0}:n[0].x>n[1].x?{x:0,y:Ot(n[0],n[1],{x:0,y:n[0].y})}:{x:t.width,y:Ot(n[0],n[1],{x:t.width,y:n[0].y})},{coordinates:[n[0],e]}}return[]}var Gi={name:"simpleAnnotation",totalStep:2,styles:{text:{borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"},line:{style:m.LineType.Dashed}},createPointFigures:function(n){var t,e,o=n.overlay,i=n.coordinates;z(o.extendData)&&(e=Et(o.extendData)?o.extendData(o):(t=o.extendData)!==null&&t!==void 0?t:"");var r=i[0].x,a=i[0].y-6,s=a-50,l=s-5;return[{type:"line",attrs:{coordinates:[{x:r,y:a},{x:r,y:s}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:r,y:s},{x:r-4,y:l},{x:r+4,y:l}]},ignoreEvent:!0},{type:"text",attrs:{x:r,y:l,text:e??"",align:"center",baseline:"bottom"},ignoreEvent:!0}]}},Ui={name:"simpleTag",totalStep:2,styles:{text:{borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"}},createPointFigures:function(n){var t=n.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:n.bounding.width,y:t[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(n){var t,e,o,i,r,a=n.overlay,s=n.coordinates,l=n.bounding,u=n.yAxis,c=n.precision;return(t=u?.isFromZero())!==null&&t!==void 0&&t?(o="left",i=0):(o="right",i=l.width),z(a.extendData)&&(r=Et(a.extendData)?a.extendData(a):(e=a.extendData)!==null&&e!==void 0?e:""),z(r)||a.points[0].value===void 0||(r=Y(a.points[0].value,c.price)),{type:"text",attrs:{x:i,y:s[0].y,text:r??"",align:o,baseline:"middle"}}}},Vt={};function Ki(n){var t;return(t=Vt[n])!==null&&t!==void 0?t:null}function Ye(n){var t={width:0,height:0,left:0,right:0,top:0,bottom:0};return n!==void 0&&U(t,n),t}[Yi,Xi,{name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates,e=[];return t.length===2&&e.push({coordinates:t}),[{type:"line",attrs:e}]},performEventPressedMove:function(n){var t=n.points,e=n.performPoint;t[0].value=e.value,t[1].value=e.value},performEventMoveForDrawing:function(n){n.currentStep===2&&(n.points[0].value=n.performPoint.value)}},{name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates;return[{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:n.bounding.width,y:t[0].y}]}}]}},{name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:ze(n.coordinates,n.bounding)}]}},{name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:ze(n.coordinates,n.bounding,1)}]}},{name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates,e=n.thousandsSeparator,o=n.overlay.points[0].value;return[{type:"line",attrs:{coordinates:[t[0],{x:n.bounding.width,y:t[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:t[0].x,y:t[0].y,text:j((o===void 0?0:o).toFixed(n.precision.price),e),baseline:"bottom"}}]}},{name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:Zi(n.coordinates,n.bounding)}]}},{name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates;return t.length===2?[{type:"line",attrs:{coordinates:t}}]:[]}},{name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates,e=n.bounding;return t.length===2?t[0].x===t[1].x?[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:e.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Ot(t[0],t[1],{x:0,y:t[0].y})},{x:e.width,y:Ot(t[0],t[1],{x:e.width,y:t[0].y})}]}}]:[]}},{name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates;if(t.length===2){var e={x:t[0].x,y:0};return t[1].y>t[0].y&&(e.y=n.bounding.height),[{type:"line",attrs:{coordinates:[t[0],e]}}]}return[]},performEventPressedMove:function(n){var t=n.points,e=n.performPoint;t[0].timestamp=e.timestamp,t[0].dataIndex=e.dataIndex,t[1].timestamp=e.timestamp,t[1].dataIndex=e.dataIndex},performEventMoveForDrawing:function(n){var t=n.points,e=n.performPoint;n.currentStep===2&&(t[0].timestamp=e.timestamp,t[0].dataIndex=e.dataIndex)}},{name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates;return t.length===2?[{type:"line",attrs:{coordinates:t}}]:[]},performEventPressedMove:function(n){var t=n.points,e=n.performPoint;t[0].timestamp=e.timestamp,t[0].dataIndex=e.dataIndex,t[1].timestamp=e.timestamp,t[1].dataIndex=e.dataIndex},performEventMoveForDrawing:function(n){var t=n.points,e=n.performPoint;n.currentStep===2&&(t[0].timestamp=e.timestamp,t[0].dataIndex=e.dataIndex)}},{name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var t=n.coordinates;return[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:n.bounding.height}]}}]}},Gi,Ui].forEach(function(n){Vt[n.name]=Be.extend(n)});var K="main",ct="xAxis",ht="yAxis",Nt="separator",Xe=function(n){function t(e,o){var i=n.call(this)||this;return i._bounding=Ye(),i._pane=o,i._init(e),i}return F(t,n),t.prototype._init=function(e){if(this._container=ut("div",this.getContainerStyle()),this.insertBefore()){var o=e.lastChild;o!==null?e.insertBefore(this._container,o):e.appendChild(this._container)}else e.appendChild(this._container);this.initDom(this._container)},t.prototype.setBounding=function(e){return U(this._bounding,e),this},t.prototype.getContainer=function(){return this._container},t.prototype.getBounding=function(){return this._bounding},t.prototype.getPane=function(){return this._pane},t.prototype.update=function(e){this.updateImp(this._container,this._bounding,e??3)},t.prototype.insertBefore=function(){return!1},t}(he),qi=function(n){function t(e,o){var i,r,a,s=n.call(this,e,o)||this;return s._dragFlag=!1,s._dragStartY=0,s._topPaneHeight=0,s._currentPaneHeight=0,s._pressedMouseMoveEvent=(i=s._pressedTouchMouseMoveEvent,r=20,a=0,function(){var l=Date.now();l-a>(r??20)&&(i.apply(this,arguments),a=l)}),s.registerEvent("touchStartEvent",s._mouseDownEvent.bind(s)).registerEvent("touchMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("touchEndEvent",s._mouseUpEvent.bind(s)).registerEvent("mouseDownEvent",s._mouseDownEvent.bind(s)).registerEvent("mouseUpEvent",s._mouseUpEvent.bind(s)).registerEvent("pressedMouseMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("mouseEnterEvent",s._mouseEnterEvent.bind(s)).registerEvent("mouseLeaveEvent",s._mouseLeaveEvent.bind(s)),s}return F(t,n),t.prototype.getName=function(){return Nt},t.prototype.checkEventOn=function(){return!0},t.prototype._mouseDownEvent=function(e){var o,i;this._dragFlag=!0,this._dragStartY=e.pageY;var r=this.getPane();return this._topPaneHeight=(i=(o=r.getTopPane())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,this._currentPaneHeight=r.getBounding().height,!0},t.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._mouseLeaveEvent()},t.prototype._pressedTouchMouseMoveEvent=function(e){var o=e.pageY-this._dragStartY,i=this.getPane(),r=i.getTopPane(),a=0>o;if(r!==null&&i.getOptions().dragEnabled){var s=void 0,l=void 0,u=void 0,c=void 0;a?(s=r,l=i,u=this._topPaneHeight,c=this._currentPaneHeight):(s=i,l=r,u=this._currentPaneHeight,c=this._topPaneHeight);var h=s.getOptions().minHeight;if(u>h){var d=Math.max(u-Math.abs(o),h),p=u-d;s.setBounding({height:d}),l.setBounding({height:c+p});var v=i.getChart();v.getChartStore().getActionStore().execute(m.ActionType.OnPaneDrag,{paneId:i.getId}),v.adjustPaneViewport(!0,!0,!0,!0,!0)}}return!0},t.prototype._mouseEnterEvent=function(){var e=this.getPane();if(e.getOptions().dragEnabled){var o=e.getChart().getStyles().separator;return this._moveDom.style.background=o.activeBackgroundColor,!0}return!1},t.prototype._mouseLeaveEvent=function(){return!this._dragFlag&&(this._moveDom.style.background="",!0)},t.prototype.getContainerStyle=function(){return{margin:"0",padding:"0",position:"relative",boxSizing:"border-box"}},t.prototype.insertBefore=function(){return!0},t.prototype.initDom=function(e){this._moveDom=ut("div",{width:"100%",height:"".concat(7,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"}),e.appendChild(this._moveDom)},t.prototype.updateImp=function(e,o,i){if(i===4||i===2){var r=this.getPane().getChart().getStyles().separator;this._moveDom.style.top="".concat(-Math.floor((7-r.size)/2),"px"),this._moveDom.style.height="".concat(7,"px");var a=r.fill;e.style.backgroundColor=r.color,e.style.height="".concat(r.size,"px"),e.style.marginLeft="".concat(a?0:o.left,"px"),e.style.width=a?"100%":"".concat(o.width,"px")}},t.prototype.getImage=function(){var e=this.getPane().getChart().getStyles().separator,o=this.getContainer().offsetWidth,i=e.size,r=ut("canvas",{width:"".concat(o,"px"),height:"".concat(i,"px"),boxSizing:"border-box"}),a=r.getContext("2d"),s=xt(r);return r.width=o*s,r.height=i*s,a.scale(s,s),a.fillStyle=e.color,a.fillRect(this.getBounding().left,0,o,i),r},t}(Xe),$i=30,R={CANDLE:"candle_pane",INDICATOR:"indicator_pane_",XAXIS:"xaxis_pane"},He=function(){function n(t,e,o,i,r){this._yAxisWidget=null,this._separatorWidget=null,this._axis=this.createAxisComponent(),this._bounding=Ye(),this._options={minHeight:$i,dragEnabled:!0,gap:{top:.2,bottom:.1},axisOptions:{scrollZoomEnabled:!0}},this._chart=e,this._id=o,this._topPane=i??null,this._bottomPane=r??null,this._init(t)}return n.prototype._init=function(t){this._container=t,this._seriesContainer=ut("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"}),this._separatorWidget=this.createSeparatorWidget(t);var e=t.lastChild;e!==null?t.insertBefore(this._seriesContainer,e):t.appendChild(this._seriesContainer),this._mainWidget=this.createMainWidget(this._seriesContainer),this._yAxisWidget=this.createYAxisWidget(this._seriesContainer)},n.prototype.getContainer=function(){return this._seriesContainer},n.prototype.getId=function(){return this._id},n.prototype.setOptions=function(t){var e,o,i,r,a;return U(this._options,t),this.getId()===R.XAXIS?(r=this.getMainWidget().getContainer(),a="ew-resize"):(r=(e=this.getYAxisWidget())===null||e===void 0?void 0:e.getContainer(),a="ns-resize"),r.style.cursor=(i=(o=t.axisOptions)===null||o===void 0?void 0:o.scrollZoomEnabled)===null||i===void 0||i?a:"default",this},n.prototype.getOptions=function(){return this._options},n.prototype.getChart=function(){return this._chart},n.prototype.getAxisComponent=function(){return this._axis},n.prototype.setBounding=function(t,e,o){var i,r,a;U(this._bounding,t);var s=0;if(this._separatorWidget!==null){s=this._chart.getStyles().separator.size;var l=P(P({},t),{height:7});t.top!==void 0&&(l.top=t.top-Math.floor((7-s)/2)),this._separatorWidget.setBounding(l)}var u={};return t.height!==void 0&&(u.height=t.height-s),t.top!==void 0&&(u.top=t.top+s),this._mainWidget.setBounding(u),(i=this._yAxisWidget)===null||i===void 0||i.setBounding(u),e!==void 0&&(this._mainWidget.setBounding(e),(r=this._separatorWidget)===null||r===void 0||r.setBounding(e)),o!==void 0&&((a=this._yAxisWidget)===null||a===void 0||a.setBounding(o)),this},n.prototype.getTopPane=function(){return this._topPane},n.prototype.setTopPane=function(t){return this._topPane=t,this},n.prototype.getBottomPane=function(){return this._bottomPane},n.prototype.setBottomPane=function(t){return this._bottomPane=t,this},n.prototype.getBounding=function(){return this._bounding},n.prototype.getMainWidget=function(){return this._mainWidget},n.prototype.getYAxisWidget=function(){return this._yAxisWidget},n.prototype.getSeparatorWidget=function(){return this._separatorWidget},n.prototype.update=function(t){var e,o;this._bounding.width!==this._seriesContainer.offsetWidth&&(this._seriesContainer.style.width="".concat(this._bounding.width,"px"));var i=this._mainWidget.getBounding().height;i!==this._seriesContainer.offsetHeight&&(this._seriesContainer.style.height="".concat(i,"px"));var r=t??3;this._mainWidget.update(r),(e=this._yAxisWidget)===null||e===void 0||e.update(r),(o=this._separatorWidget)===null||o===void 0||o.update(r)},n.prototype.getImage=function(t){var e=this._bounding,o=e.width,i=e.height,r=ut("canvas",{width:"".concat(o,"px"),height:"".concat(i,"px"),boxSizing:"border-box"}),a=r.getContext("2d"),s=xt(r);r.width=o*s,r.height=i*s,a.scale(s,s);var l=0;if(this._separatorWidget!=null){var u=this.getChart().getStyles().separator.size;l=u,a.drawImage(this._separatorWidget.getImage(),0,0,o,u)}var c=this._mainWidget.getBounding();if(a.drawImage(this._mainWidget.getImage(t),c.left,l,c.width,c.height),this._yAxisWidget!==null){var h=this._yAxisWidget.getBounding();a.drawImage(this._yAxisWidget.getImage(t),h.left,l,h.width,h.height)}return r},n.prototype.destroy=function(){this._container.removeChild(this._seriesContainer),this._separatorWidget!==null&&this._container.removeChild(this._separatorWidget.getContainer())},n.prototype.createSeparatorWidget=function(t){return null},n.prototype.createYAxisWidget=function(t){return null},n}(),Ji=function(){function n(t){this._instances=new Map,this._counter=new Map,this._progressInstanceInfo=null,this._pressedInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._hoverInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._clickInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._chartStore=t}return n.prototype._overrideInstance=function(t,e){var o=e.id,i=e.groupId,r=e.points,a=e.styles,s=e.lock,l=e.visible,u=e.zLevel,c=e.mode,h=e.modeSensitivity,d=e.extendData,p=e.onDrawStart,v=e.onDrawing,g=e.onDrawEnd,f=e.onClick,y=e.onDoubleClick,_=e.onRightClick,x=e.onPressedMoveStart,S=e.onPressedMoving,C=e.onPressedMoveEnd,T=e.onMouseEnter,b=e.onMouseLeave,w=e.onRemoved,E=e.onSelected,D=e.onDeselected,I=!1,M=!1;return o!==void 0&&t.setId(o),i!==void 0&&t.setGroupId(i),r!==void 0&&t.setPoints(r)&&(I=!0),a!==void 0&&t.setStyles(a)&&(I=!0),s!==void 0&&t.setLock(s),l!==void 0&&t.setVisible(l)&&(I=!0),u!==void 0&&t.setZLevel(u)&&(I=!0,M=!0),c!==void 0&&t.setMode(c),h!==void 0&&t.setModeSensitivity(h),d!==void 0&&t.setExtendData(d)&&(I=!0),p!==void 0&&t.setOnDrawStartCallback(p),v!==void 0&&t.setOnDrawingCallback(v),g!==void 0&&t.setOnDrawEndCallback(g),f!==void 0&&t.setOnClickCallback(f),y!==void 0&&t.setOnDoubleClickCallback(y),_!==void 0&&t.setOnRightClickCallback(_),x!==void 0&&t.setOnPressedMoveStartCallback(x),S!==void 0&&t.setOnPressedMovingCallback(S),C!==void 0&&t.setOnPressedMoveEndCallback(C),T!==void 0&&t.setOnMouseEnterCallback(T),b!==void 0&&t.setOnMouseLeaveCallback(b),w!==void 0&&t.setOnRemovedCallback(w),E!==void 0&&t.setOnSelectedCallback(E),D!==void 0&&t.setOnDeselectedCallback(D),[I,M]},n.prototype.getInstanceById=function(t){var e,o;try{for(var i=Lt(this._instances),r=i.next();!r.done;r=i.next()){var a=r.value[1].find(function(s){return s.id===t});if(a!==void 0)return a}}catch(s){e={error:s}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(e)throw e.error}}return this._progressInstanceInfo!==null&&this._progressInstanceInfo.instance.id===t?this._progressInstanceInfo.instance:null},n.prototype._sort=function(t){var e;t!==void 0?(e=this._instances.get(t))===null||e===void 0||e.sort(function(o,i){return o.defaultZLevel-i.defaultZLevel}).sort(function(o,i){return o.zLevel-i.zLevel}):this._instances.forEach(function(o){o.sort(function(i,r){return i.defaultZLevel-r.defaultZLevel}).sort(function(i,r){return i.zLevel-r.zLevel})})},n.prototype.addInstances=function(t,e,o){var i=this,r=t.map(function(a){var s,l,u,c,h,d=(s=a.id)!==null&&s!==void 0?s:Me("overlay_");if(i.getInstanceById(d)===null){var p=Ki(a.name);if(p!==null){var v=new p,g=((l=i._counter.get(e))!==null&&l!==void 0?l:0)+1;i._counter.set(e,g),v.setDefaultZLevel(g),v.setPaneId(e);var f=(u=a.groupId)!==null&&u!==void 0?u:d;return a.id=d,a.groupId=f,i._overrideInstance(v,a),v.isDrawing()?i._progressInstanceInfo={paneId:e,instance:v,appointPaneFlag:o}:(i._instances.has(e)||i._instances.set(e,[]),(c=i._instances.get(e))===null||c===void 0||c.push(v)),v.isStart()&&((h=v.onDrawStart)===null||h===void 0||h.call(v,{overlay:v})),d}}return null});return r.some(function(a){return a!==null})&&(this._sort(),this._chartStore.getChart().updatePane(1,e)),r},n.prototype.getProgressInstanceInfo=function(){return this._progressInstanceInfo},n.prototype.progressInstanceComplete=function(){var t;if(this._progressInstanceInfo!==null){var e=this._progressInstanceInfo,o=e.instance,i=e.paneId;o.isDrawing()||(this._instances.has(i)||this._instances.set(i,[]),(t=this._instances.get(i))===null||t===void 0||t.push(o),this._sort(i),this._progressInstanceInfo=null)}},n.prototype.updateProgressInstanceInfo=function(t,e){this._progressInstanceInfo!==null&&(e!==void 0&&e&&(this._progressInstanceInfo.appointPaneFlag=e),this._progressInstanceInfo.paneId=t,this._progressInstanceInfo.instance.setPaneId(t))},n.prototype.getInstances=function(t){var e;if(t===void 0){var o=[];return this._instances.forEach(function(i){o=o.concat(i)}),o}return(e=this._instances.get(t))!==null&&e!==void 0?e:[]},n.prototype.override=function(t){var e=this,o=t.id,i=t.groupId,r=t.name,a=!1,s=!1,l=function(h){var d=e._overrideInstance(h,t);d[0]&&(a=!0),d[1]&&(s=!0)};if(o!==void 0){var u=this.getInstanceById(o);u!==null&&l(u)}else if(this._instances.forEach(function(h){h.forEach(function(d){(r!==void 0&&d.name===r||i!==void 0&&d.groupId===i||r===void 0&&i===void 0)&&l(d)})}),this._progressInstanceInfo!==null){var c=this._progressInstanceInfo.instance;(r!==void 0&&c.name===r||i!==void 0&&c.groupId===i||r===void 0&&i===void 0)&&l(c)}s&&this._sort(),a&&this._chartStore.getChart().updatePane(1)},n.prototype.removeInstance=function(t){var e,o,i,r=function(p,v){if(p.id!==void 0){if(v.id!==p.id)return!1}else if(p.groupId!==void 0){if(v.groupId!==p.groupId)return!1}else if(p.name!==void 0&&v.name!==p.name)return!1;return!0},a=[];if(this._progressInstanceInfo!==null){var s=this._progressInstanceInfo.instance;(t===void 0||t!==void 0&&r(t,s))&&(a.push(this._progressInstanceInfo.paneId),(i=s.onRemoved)===null||i===void 0||i.call(s,{overlay:s}),this._progressInstanceInfo=null)}if(t!==void 0){var l=new Map,u=function(p){var v=p[1].filter(function(g){var f;return!r(t,g)||(a.includes(p[0])||a.push(p[0]),(f=g.onRemoved)===null||f===void 0||f.call(g,{overlay:g}),!1)});v.length>0&&l.set(p[0],v)};try{for(var c=Lt(this._instances),h=c.next();!h.done;h=c.next())u(h.value)}catch(p){e={error:p}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(e)throw e.error}}this._instances=l}else this._instances.forEach(function(p,v){a.push(v),p.forEach(function(g){var f;(f=g.onRemoved)===null||f===void 0||f.call(g,{overlay:g})})}),this._instances.clear();if(a.length>0){var d=this._chartStore.getChart();a.forEach(function(p){d.updatePane(1,p)}),d.updatePane(1,R.XAXIS)}},n.prototype.setPressedInstanceInfo=function(t){this._pressedInstanceInfo=t},n.prototype.getPressedInstanceInfo=function(){return this._pressedInstanceInfo},n.prototype.setHoverInstanceInfo=function(t,e){var o,i,r=this._hoverInstanceInfo,a=r.instance,s=r.figureKey,l=r.figureIndex;if((a?.id!==((o=t.instance)===null||o===void 0?void 0:o.id)||r.figureType!==t.figureType||l!==t.figureIndex)&&(this._hoverInstanceInfo=t,a?.id!==((i=t.instance)===null||i===void 0?void 0:i.id))){var u=!1,c=!1;a!==null&&(c=!0,a.resetZLevel(),Et(a.onMouseLeave)&&(a.onMouseLeave(P({overlay:a,figureKey:s,figureIndex:l},e)),u=!0)),t.instance!==null&&(c=!0,t.instance.setZLevel(zi),Et(t.instance.onMouseEnter)&&(t.instance.onMouseEnter(P({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},e)),u=!0)),c&&this._sort(),u||this._chartStore.getChart().updatePane(1)}},n.prototype.getHoverInstanceInfo=function(){return this._hoverInstanceInfo},n.prototype.setClickInstanceInfo=function(t,e){var o,i,r,a,s,l,u,c,h,d=this._clickInstanceInfo,p=d.paneId,v=d.instance,g=d.figureType,f=d.figureKey,y=d.figureIndex;if((i=(o=t.instance)===null||o===void 0?void 0:o.isDrawing())!==null&&i!==void 0&&i||(a=(r=t.instance)===null||r===void 0?void 0:r.onClick)===null||a===void 0||a.call(r,P({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},e)),(v?.id!==((s=t.instance)===null||s===void 0?void 0:s.id)||g!==t.figureType||y!==t.figureIndex)&&(this._clickInstanceInfo=t,v?.id!==((l=t.instance)===null||l===void 0?void 0:l.id))){(u=v?.onDeselected)===null||u===void 0||u.call(v,P({overlay:v,figureKey:f,figureIndex:y},e)),(h=(c=t.instance)===null||c===void 0?void 0:c.onSelected)===null||h===void 0||h.call(c,P({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},e));var _=this._chartStore.getChart();_.updatePane(1,t.paneId),p!==t.paneId&&_.updatePane(1,p),_.updatePane(1,R.XAXIS)}},n.prototype.getClickInstanceInfo=function(){return this._clickInstanceInfo},n.prototype.isEmpty=function(){return this._instances.size===0&&this._progressInstanceInfo===null},n.prototype.isDrawing=function(){var t,e;return this._progressInstanceInfo!==null&&(e=(t=this._progressInstanceInfo)===null||t===void 0?void 0:t.instance.isDrawing())!==null&&e!==void 0&&e},n}(),Qi=function(){function n(){this._actions=new Map}return n.prototype.execute=function(t,e){var o;(o=this._actions.get(t))===null||o===void 0||o.execute(e)},n.prototype.subscribe=function(t,e){var o;this._actions.has(t)||this._actions.set(t,new Ei),(o=this._actions.get(t))===null||o===void 0||o.subscribe(e)},n.prototype.unsubscribe=function(t,e){var o=this._actions.get(t);o!==void 0&&(o.unsubscribe(e),o.isEmpty()&&this._actions.delete(t))},n.prototype.has=function(t){var e=this._actions.get(t);return e!==void 0&&!e.isEmpty()},n}(),je={light:{grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},dark:{grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}}};function Ze(n){var t;return(t=je[n])!==null&&t!==void 0?t:null}var to=function(){function n(t,e){this._styles={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:m.LineType.Dashed,dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:m.LineType.Dashed,dashedValue:[2,2]}},candle:{type:m.CandleType.CandleSolid,bar:{upColor:"#2DC08E",downColor:"#F92855",noChangeColor:"#888888",upBorderColor:"#2DC08E",downBorderColor:"#F92855",noChangeBorderColor:"#888888",upWickColor:"#2DC08E",downWickColor:"#F92855",noChangeWickColor:"#888888"},area:{lineSize:2,lineColor:"#1677FF",value:"close",backgroundColor:[{offset:0,color:"rgba(22, 119, 255, 0.01)"},{offset:1,color:"rgba(22, 119, 255, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#2DC08E",downColor:"#F92855",noChangeColor:"#888888",line:{show:!0,style:m.LineType.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:m.PolygonType.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:m.LineType.Solid,borderSize:0,borderDashedValue:[2,2],color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:m.TooltipShowRule.Always,showType:m.TooltipShowType.Standard,custom:null,defaultValue:"n/a",rect:{position:Xt.Fixed,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:8,offsetLeft:10,offsetTop:8,offsetRight:10,offsetBottom:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}},indicator:{ohlc:{upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"},bars:[{style:m.PolygonType.Fill,borderStyle:m.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"}],lines:[{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#FF9600"},{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#935EBD"},{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#1677FF"},{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#E11D74"},{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#01C5C4"}],circles:[{style:m.PolygonType.Fill,borderStyle:m.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"}],lastValueMark:{show:!1,text:{show:!1,style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderColor:"transparent",borderSize:1,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{showRule:m.TooltipShowRule.Always,showType:m.TooltipShowType.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}},xAxis:{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},yAxis:{show:!0,size:"auto",type:m.YAxisType.Normal,position:m.YAxisPosition.Right,inside:!1,reverse:!1,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:"rgba(33, 150, 243, 0.08)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:m.LineType.Dashed,dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:"#686D76",borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}},vertical:{show:!0,line:{show:!0,style:m.LineType.Dashed,dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#686D76",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}}},overlay:{point:{color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:m.LineType.Solid,smooth:!1,color:"#1677FF",size:1,dashedValue:[2,2]},rect:{style:m.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderRadius:0,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},polygon:{style:m.PolygonType.Fill,color:"#1677FF",borderColor:"#1677FF",borderSize:1,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},circle:{style:m.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},arc:{style:m.LineType.Solid,color:"#1677FF",size:1,dashedValue:[2,2]},text:{style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:0,borderRadius:2,borderColor:"#1677FF",paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,backgroundColor:"transparent"},rectText:{style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"}}},this._customApi={formatDate:Ee,formatBigNumber:Ie},this._locale=wi,this._precision={price:2,volume:0},this._thousandsSeparator=",",this._dataList=[],this._timeScaleStore=new ki(this),this._indicatorStore=new Ni(this),this._overlayStore=new Ji(this),this._tooltipStore=new Wi(this),this._actionStore=new Qi,this._visibleDataList=[],this._chart=t,this.setOptions(e)}return n.prototype.adjustVisibleDataList=function(){this._visibleDataList=[];for(var t=this._timeScaleStore.getVisibleRange(),e=t.to,o=t.from;e>o;o++){var i=this._dataList[o],r=this._timeScaleStore.dataIndexToCoordinate(o);this._visibleDataList.push({dataIndex:o,x:r,data:i})}},n.prototype.setOptions=function(t){if(t!==void 0){var e=t.locale,o=t.timezone,i=t.styles,r=t.customApi;e!==void 0&&(this._locale=e),o!==void 0&&this._timeScaleStore.setTimezone(o),i!==void 0&&(rt(i)?U(this._styles,Ze(i)):U(this._styles,i)),r!==void 0&&U(this._customApi,r),t.thousandsSeparator!==void 0&&(this._thousandsSeparator=t.thousandsSeparator)}return this},n.prototype.getStyles=function(){return this._styles},n.prototype.getLocale=function(){return this._locale},n.prototype.getCustomApi=function(){return this._customApi},n.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},n.prototype.getPrecision=function(){return this._precision},n.prototype.setPrecision=function(t){return this._precision=t,this._indicatorStore.setSeriesPrecision(t),this},n.prototype.getDataList=function(){return this._dataList},n.prototype.getVisibleDataList=function(){return this._visibleDataList},n.prototype.addData=function(t,e,o){if(ot(t)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(o==null||o);var i=this._dataList.length===0;this._dataList=t.concat(this._dataList),i&&this._timeScaleStore.resetOffsetRightDistance(),this._timeScaleStore.adjustVisibleRange()}else if(e<this._dataList.length)this._dataList[e]=t,this.adjustVisibleDataList();else{this._dataList.push(t);var r=this._timeScaleStore.getOffsetRightBarCount();0>r&&this._timeScaleStore.setOffsetRightBarCount(--r),this._timeScaleStore.adjustVisibleRange()}this._tooltipStore.recalculateCrosshair(!0)},n.prototype.clear=function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear(),this._tooltipStore.clear()},n.prototype.getTimeScaleStore=function(){return this._timeScaleStore},n.prototype.getIndicatorStore=function(){return this._indicatorStore},n.prototype.getOverlayStore=function(){return this._overlayStore},n.prototype.getTooltipStore=function(){return this._tooltipStore},n.prototype.getActionStore=function(){return this._actionStore},n.prototype.getChart=function(){return this._chart},n}();function pe(n){return window.requestAnimationFrame==null?window.setTimeout(n,20):window.requestAnimationFrame(n)}function Kt(n){window.cancelAnimationFrame==null&&window.clearTimeout(n),window.cancelAnimationFrame(n)}var kt=-1,ve=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._mainRequestAnimationId=kt,e._overlayRequestAnimationId=kt,e}return F(t,n),t.prototype.getContainerStyle=function(){return{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box"}},t.prototype.initDom=function(e){this._mainCanvas=ut("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._mainCtx=this._mainCanvas.getContext("2d"),this._overlayCanvas=ut("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._overlayCtx=this._overlayCanvas.getContext("2d"),e.appendChild(this._mainCanvas),e.appendChild(this._overlayCanvas)},t.prototype._optimalUpdateMain=function(e,o){var i=this;this._mainRequestAnimationId!==kt&&(Kt(this._mainRequestAnimationId),this._mainRequestAnimationId=kt),this._mainRequestAnimationId=pe(function(){if(e!==i._mainCanvas.offsetWidth||o!==i._mainCanvas.offsetHeight){i._mainCtx.clearRect(0,0,i._mainCanvas.offsetWidth,i._mainCanvas.offsetHeight);var r=xt(i._mainCanvas),a=Math.floor(e*r),s=Math.floor(o*r);i._mainCanvas.style.width="".concat(e,"px"),i._mainCanvas.style.height="".concat(o,"px"),i._mainCanvas.width=a,i._mainCanvas.height=s,i._mainCtx.scale(r,r)}else i._mainCtx.clearRect(0,0,i._mainCanvas.offsetWidth,i._mainCanvas.offsetHeight);i.updateMain(i._mainCtx)})},t.prototype._optimalUpdateOverlay=function(e,o){var i=this;this._overlayRequestAnimationId!==kt&&(Kt(this._overlayRequestAnimationId),this._overlayRequestAnimationId=kt),this._overlayRequestAnimationId=pe(function(){if(e!==i._overlayCanvas.offsetWidth||o!==i._overlayCanvas.offsetHeight){i._overlayCtx.clearRect(0,0,i._overlayCanvas.offsetWidth,i._overlayCanvas.offsetHeight);var r=xt(i._overlayCanvas),a=Math.floor(e*r),s=Math.floor(o*r);i._overlayCanvas.style.width="".concat(e,"px"),i._overlayCanvas.style.height="".concat(o,"px"),i._overlayCanvas.width=a,i._overlayCanvas.height=s,i._overlayCtx.scale(r,r)}else i._overlayCtx.clearRect(0,0,i._overlayCanvas.offsetWidth,i._overlayCanvas.offsetHeight);i.updateOverlay(i._overlayCtx)})},t.prototype.updateImp=function(e,o,i){var r=o.width,a=o.height;e.style.left="".concat(o.left,"px");var s=i;switch(r===e.offsetWidth&&a===e.offsetHeight||(e.style.width="".concat(r,"px"),e.style.height="".concat(a,"px"),s=3),s){case 0:this._optimalUpdateMain(r,a);break;case 1:this._optimalUpdateOverlay(r,a);break;case 3:case 4:this._optimalUpdateMain(r,a),this._optimalUpdateOverlay(r,a)}},t.prototype.getImage=function(e){var o=this.getBounding(),i=o.width,r=o.height,a=ut("canvas",{width:"".concat(i,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),l=xt(a);return a.width=i*l,a.height=r*l,s.scale(l,l),s.drawImage(this._mainCanvas,0,0,i,r),e&&s.drawImage(this._overlayCanvas,0,0,i,r),a},t}(Xe);function Ge(n,t){var e=n.x-t.x,o=n.y-t.y,i=t.r;return!(e*e+o*o>i*i)}function Ue(n,t,e){var o=t.x,i=t.y,r=t.r,a=e.style,s=a===void 0?m.PolygonType.Fill:a,l=e.color,u=e.borderSize,c=u===void 0?1:u,h=e.borderColor,d=h===void 0?"currentColor":h,p=e.borderStyle,v=p===void 0?m.LineType.Solid:p,g=e.borderDashedValue,f=g===void 0?[2,2]:g;s!==m.PolygonType.Fill&&e.style!==m.PolygonType.StrokeFill||(n.fillStyle=l===void 0?"currentColor":l,n.beginPath(),n.arc(o,i,r,0,2*Math.PI),n.closePath(),n.fill()),s!==m.PolygonType.Stroke&&e.style!==m.PolygonType.StrokeFill||(n.strokeStyle=d,n.lineWidth=c,n.setLineDash(v===m.LineType.Dashed?f:[]),n.beginPath(),n.arc(o,i,r,0,2*Math.PI),n.closePath(),n.stroke())}var eo={name:"circle",checkEventOn:Ge,draw:function(n,t,e){Ue(n,t,e)}};function Ke(n,t){for(var e=!1,o=t.coordinates,i=0,r=o.length-1;o.length>i;r=i++)o[i].y>n.y!=o[r].y>n.y&&(o[r].x-o[i].x)*(n.y-o[i].y)/(o[r].y-o[i].y)+o[i].x>n.x&&(e=!e);return e}function qe(n,t,e){var o=t.coordinates,i=e.style,r=i===void 0?m.PolygonType.Fill:i,a=e.color,s=e.borderSize,l=s===void 0?1:s,u=e.borderColor,c=u===void 0?"currentColor":u,h=e.borderStyle,d=h===void 0?m.LineType.Solid:h,p=e.borderDashedValue,v=p===void 0?[2,2]:p;if(r===m.PolygonType.Fill||e.style===m.PolygonType.StrokeFill){n.fillStyle=a===void 0?"currentColor":a,n.beginPath(),n.moveTo(o[0].x,o[0].y);for(var g=1;o.length>g;g++)n.lineTo(o[g].x,o[g].y);n.closePath(),n.fill()}if(r===m.PolygonType.Stroke||e.style===m.PolygonType.StrokeFill){for(n.strokeStyle=c,n.lineWidth=l,n.setLineDash(d===m.LineType.Dashed?v:[]),n.beginPath(),n.moveTo(o[0].x,o[0].y),g=1;o.length>g;g++)n.lineTo(o[g].x,o[g].y);n.closePath(),n.stroke()}}var io={name:"polygon",checkEventOn:Ke,draw:function(n,t,e){qe(n,t,e)}};function $e(n){return n==="transparent"}function Je(n,t){var e=t.x,o=t.width;2*X>o&&(e-=X,o=2*X);var i=t.y,r=t.height;return 2*X>r&&(i-=X,r=2*X),!(e>n.x||n.x>e+o||i>n.y||n.y>i+r)}function ge(n,t,e){var o=t.x,i=t.y,r=t.width,a=t.height,s=e.style,l=s===void 0?m.PolygonType.Fill:s,u=e.color,c=u===void 0?"transparent":u,h=e.borderSize,d=h===void 0?1:h,p=e.borderColor,v=p===void 0?"transparent":p,g=e.borderStyle,f=g===void 0?m.LineType.Solid:g,y=e.borderRadius,_=y===void 0?0:y,x=e.borderDashedValue,S=x===void 0?[2,2]:x;if(l===m.PolygonType.Fill||e.style===m.PolygonType.StrokeFill){var C=!0;rt(c)&&(C=!$e(c)),C&&(n.fillStyle=c,n.beginPath(),n.moveTo(o+_,i),n.arcTo(o+r,i,o+r,i+a,_),n.arcTo(o+r,i+a,o,i+a,_),n.arcTo(o,i+a,o,i,_),n.arcTo(o,i,o+r,i,_),n.closePath(),n.fill())}l!==m.PolygonType.Stroke&&e.style!==m.PolygonType.StrokeFill||$e(v)||0>d||(n.strokeStyle=v,n.lineWidth=d,n.setLineDash(f===m.LineType.Dashed?S:[]),n.beginPath(),n.moveTo(o+_,i),n.arcTo(o+r,i,o+r,i+a,_),n.arcTo(o+r,i+a,o,i+a,_),n.arcTo(o,i+a,o,i,_),n.arcTo(o,i,o+r,i,_),n.closePath(),n.stroke())}var oo={name:"rect",checkEventOn:Je,draw:function(n,t,e){ge(n,t,e)}};function Qe(n,t){var e,o,i=t.size,r=i===void 0?12:i,a=t.paddingLeft,s=t.paddingTop,l=s===void 0?0:s,u=t.paddingRight,c=u===void 0?0:u,h=t.paddingBottom,d=h===void 0?0:h,p=t.weight,v=n.x,g=n.y,f=n.align,y=f===void 0?"left":f,_=n.baseline,x=_===void 0?"top":_,S=n.width,C=n.height,T=S??(a===void 0?0:a)+Rt(n.text,r,p===void 0?"normal":p,t.family)+c,b=C??l+r+d;switch(y){case"left":case"start":e=v;break;case"right":case"end":e=v-T;break;default:e=v-T/2}switch(x){case"top":case"hanging":o=g;break;case"bottom":case"ideographic":case"alphabetic":o=g-b;break;default:o=g-b/2}return{x:e,y:o,width:T,height:b}}function ti(n,t,e){var o=Qe(t,e),i=o.x,r=o.y;return!(i>n.x||n.x>i+o.width||r>n.y||n.y>r+o.height)}function fe(n,t,e){var o=t.text,i=e.color,r=i===void 0?"currentColor":i,a=e.size,s=a===void 0?12:a,l=e.family,u=e.weight,c=e.paddingLeft,h=c===void 0?0:c,d=e.paddingTop,p=d===void 0?0:d,v=e.paddingRight,g=v===void 0?0:v,f=Qe(t,e);ge(n,f,P(P({},e),{color:e.backgroundColor})),n.textAlign="left",n.textBaseline="top",n.font=St(s,u,l),n.fillStyle=r,n.fillText(o,f.x+h,f.y+p,f.width-h-g)}var ei={name:"text",checkEventOn:function(n,t,e){return ti(n,t,e)},draw:function(n,t,e){fe(n,t,e)}},no=fe;function ii(n,t){if(Math.abs(Math.sqrt((h=(u=n).x-(c=t).x)*h+(d=u.y-c.y)*d)-t.r)<X){var e=t.r,o=t.startAngle,i=t.endAngle,r=e*Math.cos(o)+t.x,a=e*Math.sin(o)+t.y,s=e*Math.cos(i)+t.x,l=e*Math.sin(i)+t.y;return!(n.x>Math.max(r,s)+X||Math.min(r,s)-X>n.x||n.y>Math.max(a,l)+X||Math.min(a,l)-X>n.y)}var u,c,h,d;return!1}function oi(n,t,e){var o=t.x,i=t.y,r=t.r,a=t.startAngle,s=t.endAngle,l=e.style,u=l===void 0?m.LineType.Solid:l,c=e.size,h=e.color,d=h===void 0?"currentColor":h,p=e.dashedValue,v=p===void 0?[2,2]:p;n.lineWidth=c===void 0?1:c,n.strokeStyle=d,n.setLineDash(u===m.LineType.Dashed?v:[]),n.beginPath(),n.arc(o,i,r,a,s),n.stroke(),n.closePath()}var ro={name:"arc",checkEventOn:ii,draw:function(n,t,e){oi(n,t,e)}},Wt={};[eo,ji,io,oo,ei,ei,ro].forEach(function(n){Wt[n.name]=Oe.extend(n)});var dt=function(n){function t(e){var o=n.call(this)||this;return o._widget=e,o}return F(t,n),t.prototype.getWidget=function(){return this._widget},t.prototype.createFigure=function(e,o,i,r){var a=function(u){var c;return(c=Wt[u])!==null&&c!==void 0?c:null}(e);if(a!==null){var s=new a({name:e,attrs:o,styles:i});if(r!==void 0){for(var l in r)r.hasOwnProperty(l)&&s.registerEvent(l,r[l]);this.addChild(s)}return s}return null},t.prototype.draw=function(e){this.clear(),this.drawImp(e)},t}(he),ao=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o,i=this,r=this.getWidget(),a=this.getWidget().getPane(),s=a.getChart(),l=r.getBounding(),u=s.getStyles().grid;if(u.show){e.save(),e.globalCompositeOperation="destination-over";var c=u.horizontal;c.show&&a.getAxisComponent().getTicks().forEach(function(d){var p;(p=i.createFigure("line",{coordinates:[{x:0,y:d.coord},{x:l.width,y:d.coord}]},c))===null||p===void 0||p.draw(e)});var h=u.vertical;h.show&&((o=s.getPaneById(R.XAXIS))===null||o===void 0?void 0:o.getAxisComponent()).getTicks().forEach(function(d){var p;(p=i.createFigure("line",{coordinates:[{x:d.coord,y:0},{x:d.coord,y:l.height}]},h))===null||p===void 0||p.draw(e)}),e.restore()}},t}(dt),me=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.eachChildren=function(e){var o=this.getWidget().getPane().getChart().getChartStore(),i=o.getVisibleDataList(),r=o.getTimeScaleStore().getBarSpace();i.forEach(function(a,s){e(a,r,s)})},t}(dt),ni=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._boundCandleBarClickEvent=function(o){return function(){return e.getWidget().getPane().getChart().getChartStore().getActionStore().execute(m.ActionType.OnCandleBarClick,o),!1}},e}return F(t,n),t.prototype.drawImp=function(e){var o=this,i=this.getWidget().getPane(),r=i.getId()===R.CANDLE,a=i.getChart().getChartStore(),s=this.getCandleBarOptions(a);if(s!==null){var l=i.getAxisComponent();this.eachChildren(function(u,c){o._drawCandleBar(e,l,u,c,s,r)})}},t.prototype.getCandleBarOptions=function(e){var o=e.getStyles().candle;return{type:o.type,styles:o.bar}},t.prototype._drawCandleBar=function(e,o,i,r,a,s){var l,u,c,h=this,d=i.data,p=i.x,v=d.open,g=d.high,f=d.low,y=d.close,_=r.halfGapBar,x=r.gapBar,S=a.type,C=a.styles;y>v?(l=C.upColor,u=C.upBorderColor,c=C.upWickColor):v>y?(l=C.downColor,u=C.downBorderColor,c=C.downWickColor):(l=C.noChangeColor,u=C.noChangeBorderColor,c=C.noChangeWickColor);var T=o.convertToPixel(v),b=o.convertToPixel(y),w=[T,b,o.convertToPixel(g),o.convertToPixel(f)];w.sort(function(I,M){return I-M});var E=Math.max(1,w[2]-w[1]),D=[];S!==m.CandleType.Ohlc?(D.push({name:"rect",attrs:{x:p-.5,y:w[0],width:1,height:w[1]-w[0]},styles:{color:c}}),D.push(S===m.CandleType.CandleStroke||S===m.CandleType.CandleUpStroke&&y>v||S===m.CandleType.CandleDownStroke&&v>y?{name:"rect",attrs:{x:p-_+.5,y:w[1],width:x-1,height:E},styles:{style:m.PolygonType.Stroke,borderColor:u}}:{name:"rect",attrs:{x:p-_+.5,y:w[1],width:x-1,height:E},styles:{style:m.PolygonType.StrokeFill,color:l,borderColor:u}}),D.push({name:"rect",attrs:{x:p-.5,y:w[2],width:1,height:w[3]-w[2]},styles:{color:c}})):D=[{name:"rect",attrs:{x:p-.5,y:w[0],width:1,height:w[3]-w[0]},styles:{color:l}},{name:"rect",attrs:{x:p-_,y:T,width:_,height:1},styles:{color:l}},{name:"rect",attrs:{x:p,y:b,width:_,height:1},styles:{color:l}}],D.forEach(function(I){var M,k,A=I.attrs,L=I.styles;s&&(k={mouseClickEvent:h._boundCandleBarClickEvent(i)}),(M=h.createFigure("rect",A,L,k))===null||M===void 0||M.draw(e)})},t}(me),so=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.getCandleBarOptions=function(e){var o,i,r=this.getWidget().getPane();if(!r.getAxisComponent().isInCandle()){var a=e.getIndicatorStore().getInstances(r.getId());try{for(var s=Lt(a),l=s.next();!l.done;l=s.next()){var u=l.value[1];if(u.shouldOhlc&&u.visible){var c=u.styles,h=e.getStyles().indicator,d=W(c,"ohlc.upColor",h.ohlc.upColor),p=W(c,"ohlc.downColor",h.ohlc.downColor),v=W(c,"ohlc.noChangeColor",h.ohlc.noChangeColor);return{type:m.CandleType.Ohlc,styles:{upColor:d,downColor:p,noChangeColor:v,upBorderColor:d,downBorderColor:p,noChangeBorderColor:v,upWickColor:d,downWickColor:p,noChangeWickColor:v}}}}}catch(g){o={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}return null},t.prototype.drawImp=function(e){var o,i=this;n.prototype.drawImp.call(this,e);var r=this.getWidget(),a=r.getPane(),s=a.getChart(),l=r.getBounding(),u=(o=s.getPaneById(R.XAXIS))===null||o===void 0?void 0:o.getAxisComponent(),c=a.getAxisComponent(),h=s.getChartStore(),d=h.getDataList(),p=h.getTimeScaleStore(),v=p.getVisibleRange(),g=h.getIndicatorStore().getInstances(a.getId()),f=h.getStyles().indicator;g.forEach(function(y){var _;if(y.visible){var x=!1;if(y.draw!==null&&(e.save(),x=(_=y.draw({ctx:e,kLineDataList:d,indicator:y,visibleRange:v,bounding:l,barSpace:p.getBarSpace(),defaultStyles:f,xAxis:u,yAxis:c}))!==null&&_!==void 0&&_,e.restore()),!x){var S=y.result;i.eachChildren(function(C,T){var b,w,E,D=T.halfGapBar,I=T.gapBar,M=C.dataIndex,k=C.x,A=u.convertToPixel(M-1),L=u.convertToPixel(M+1),V=(b=S[M-1])!==null&&b!==void 0?b:{},O=(w=S[M])!==null&&w!==void 0?w:{},Z=(E=S[M+1])!==null&&E!==void 0?E:{},q={x:A},J={x:k},N={x:L};y.figures.forEach(function(B){var H=B.key;q[H]=c.convertToPixel(V[H]),J[H]=c.convertToPixel(O[H]),N[H]=c.convertToPixel(Z[H])}),ue(d,y,M,f,function(B,H){var $,Q,ft;if(z(O[B.key])){var at=J[B.key],st=($=B.attrs)===null||$===void 0?void 0:$.call(B,{coordinate:{prev:q,current:J,next:N},bounding:l,barSpace:T,xAxis:u,yAxis:c});if(!z(st))switch(B.type){case"circle":st={x:k,y:at,r:D};break;case"rect":case"bar":var mt=(Q=B.baseValue)!==null&&Q!==void 0?Q:c.getExtremum().min,pt=c.convertToPixel(mt),tt=Math.abs(pt-at);mt!==O[B.key]&&(tt=Math.max(1,tt)),st={x:k-D,y:at>pt?pt:at,width:I,height:tt};break;case"line":It(J[B.key])&&It(N[B.key])&&(st={coordinates:[{x:J.x,y:J[B.key]},{x:N.x,y:N[B.key]}]})}if(z(st)){var Jt=B.type;(ft=i.createFigure(Jt==="bar"?"rect":Jt,st,H))===null||ft===void 0||ft.draw(e)}}})})}}})},t}(ni),lo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o=this.getWidget(),i=o.getPane(),r=o.getBounding(),a=o.getPane().getChart().getChartStore(),s=a.getTooltipStore().getCrosshair(),l=a.getStyles().crosshair;if(s.paneId!==void 0&&l.show){if(s.paneId===i.getId()){var u=s.y;this._drawLine(e,[{x:0,y:u},{x:r.width,y:u}],l.horizontal)}var c=s.realX;this._drawLine(e,[{x:c,y:0},{x:c,y:r.height}],l.vertical)}},t.prototype._drawLine=function(e,o,i){var r;if(i.show){var a=i.line;a.show&&((r=this.createFigure("line",{coordinates:o},a))===null||r===void 0||r.draw(e))}},t}(dt),ri=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._boundIconClickEvent=function(o,i){return function(){return e.getWidget().getPane().getChart().getChartStore().getActionStore().execute(m.ActionType.OnTooltipIconClick,P(P({},o),{iconId:i})),!0}},e._boundIconMouseMoveEvent=function(o,i){return function(){return e.getWidget().getPane().getChart().getChartStore().getTooltipStore().setActiveIcon(P(P({},o),{iconId:i})),!0}},e}return F(t,n),t.prototype.drawImp=function(e){var o=this.getWidget(),i=o.getPane(),r=i.getChart().getChartStore(),a=r.getTooltipStore().getCrosshair();if(a.kLineData!==void 0){var s=o.getBounding(),l=r.getCustomApi(),u=r.getThousandsSeparator(),c=r.getIndicatorStore().getInstances(i.getId()),h=r.getTooltipStore().getActiveIcon(),d=r.getStyles().indicator;this.drawIndicatorTooltip(e,i.getId(),r.getDataList(),a,h,c,l,u,s,d)}},t.prototype.drawIndicatorTooltip=function(e,o,i,r,a,s,l,u,c,h,d){var p=this,v=h.tooltip,g=0;if(this.isDrawTooltip(r,v)){var f=v.text,y=0,_=d??0,x=0;s.forEach(function(S){var C=p.getIndicatorTooltipData(i,r,S,l,u,h),T=C.name,b=C.calcParamsText,w=C.values,E=T.length>0,D=w.length>0;if(E||D){var I=G(p.classifyTooltipIcons(C.icons),3),M=I[1],k=I[2],A=G(p.drawStandardTooltipIcons(e,c,{paneId:o,indicatorName:S.name,iconId:""},a,I[0],y,_,x),4);if(y=A[0],_=A[1],g+=A[3],x=A[2],E){var L=T;b.length>0&&(L="".concat(L).concat(b));var V=G(p.drawStandardTooltipLabels(e,c,[{title:{text:"",color:f.color},value:{text:L,color:f.color}}],y,_,x,f),4);y=V[0],_=V[1],g+=V[3],x=V[2]}var O=G(p.drawStandardTooltipIcons(e,c,{paneId:o,indicatorName:S.name,iconId:""},a,M,y,_,x),4);if(y=O[0],_=O[1],g+=O[3],x=O[2],D){var Z=G(p.drawStandardTooltipLabels(e,c,w,y,_,x,f),4);y=Z[0],_=Z[1],g+=Z[3],x=Z[2]}var q=G(p.drawStandardTooltipIcons(e,c,{paneId:o,indicatorName:S.name,iconId:""},a,k,y,_,x),4);y=0,g+=q[3],_=q[1]+q[2],x=0}})}return g},t.prototype.drawStandardTooltipIcons=function(e,o,i,r,a,s,l,u){var c=this,h=s,d=l,p=0,v=0,g=0;return a.length>0&&(a.forEach(function(f){var y=f.marginLeft,_=f.marginTop,x=f.marginRight,S=f.marginBottom,C=f.paddingLeft,T=f.paddingTop,b=f.paddingRight,w=f.paddingBottom,E=f.size,D=f.icon;e.font=St(E,"normal",f.fontFamily),p+=y+C+e.measureText(D).width+b+x,v=Math.max(v,_+T+E+w+S)}),h+p>o.width?(h=a[0].marginLeft,d+=u,g=v):g=Math.max(0,v-u),a.forEach(function(f){var y,_=f.marginRight,x=f.paddingLeft,S=f.paddingRight,C=f.icon,T=r?.paneId===i.paneId&&r?.indicatorName===i.indicatorName&&r?.iconId===f.id;(y=c.createFigure("text",{text:C,x:h+=f.marginLeft,y:d+f.marginTop},{paddingLeft:x,paddingTop:f.paddingTop,paddingRight:S,paddingBottom:f.paddingBottom,color:T?f.activeColor:f.color,size:f.size,family:f.fontFamily,backgroundColor:T?f.activeBackgroundColor:f.backgroundColor},{mouseClickEvent:c._boundIconClickEvent(i,f.id),mouseMoveEvent:c._boundIconMouseMoveEvent(i,f.id)}))===null||y===void 0||y.draw(e),h+=x+e.measureText(C).width+S+_})),[h,d,Math.max(u,v),g]},t.prototype.drawStandardTooltipLabels=function(e,o,i,r,a,s,l){var u=this,c=r,h=a,d=0,p=0,v=s;if(i.length>0){var g=l.marginLeft,f=l.marginTop,y=l.marginRight,_=l.marginBottom,x=l.size,S=l.family,C=l.weight;e.font=St(x,C,S),i.forEach(function(T){var b,w,E=T.title,D=T.value,I=e.measureText(E.text).width,M=e.measureText(D.text).width,k=x+f+_;c+g+(I+M)+y>o.width?(c=g,h+=k,p+=k):(c+=g,p+=Math.max(0,k-v)),v=d=Math.max(v,k),E.text.length>0&&((b=u.createFigure("text",{x:c,y:h+f,text:E.text},{color:E.color,size:x,family:S,weight:C}))===null||b===void 0||b.draw(e),c+=I),(w=u.createFigure("text",{x:c,y:h+f,text:D.text},{color:D.color,size:x,family:S,weight:C}))===null||w===void 0||w.draw(e),c+=M+y})}return[c,h,d,p]},t.prototype.isDrawTooltip=function(e,o){var i=o.showRule;return i===m.TooltipShowRule.Always||i===m.TooltipShowRule.FollowCross&&e.paneId!==void 0},t.prototype.getIndicatorTooltipData=function(e,o,i,r,a,s){var l,u,c,h=s.tooltip,d=h.showName?i.shortName:"",p="",v=i.calcParams;v.length>0&&h.showParams&&(p="(".concat(v.join(","),")"));var g={name:d,calcParamsText:p,values:[],icons:h.icons},f=o.dataIndex,y=(l=i.result)!==null&&l!==void 0?l:[],_=[];if(i.visible){var x=(u=y[f])!==null&&u!==void 0?u:{};ue(e,i,f,s,function(A,L){if(A.title!==void 0){var V=L.color,O=x[A.key];z(O)&&(O=Y(O,i.precision),i.shouldFormatBigNumber&&(O=r.formatBigNumber(O))),_.push({title:{text:A.title,color:V},value:{text:j(O??h.defaultValue,a),color:V}})}}),g.values=_}if(i.createTooltipDataSource!==null){var S=this.getWidget(),C=S.getPane(),T=C.getChart().getChartStore(),b=i.createTooltipDataSource({kLineDataList:e,indicator:i,visibleRange:T.getTimeScaleStore().getVisibleRange(),bounding:S.getBounding(),crosshair:o,defaultStyles:s,xAxis:(c=C.getChart().getPaneById(R.XAXIS))===null||c===void 0?void 0:c.getAxisComponent(),yAxis:C.getAxisComponent()}),w=b.name,E=b.calcParamsText,D=b.values,I=b.icons;if(w!==void 0&&h.showName&&(g.name=w),E!==void 0&&h.showParams&&(g.calcParamsText=E),I!==void 0&&(g.icons=I),D!==void 0&&i.visible){var M=[],k=s.tooltip.text.color;D.forEach(function(A){var L={text:"",color:k};nt(A.title)?L=A.title:L.text=A.title;var V={text:"",color:k};nt(A.value)?V=A.value:V.text=A.value,V.text=j(V.text,a),M.push({title:L,value:V})}),g.values=M}}return g},t.prototype.classifyTooltipIcons=function(e){var o=[],i=[],r=[];return e.forEach(function(a){switch(a.position){case m.TooltipIconPosition.Left:o.push(a);break;case m.TooltipIconPosition.Middle:i.push(a);break;case m.TooltipIconPosition.Right:r.push(a)}}),[o,i,r]},t}(dt),ai=function(n){function t(e){var o=n.call(this,e)||this;return o._initEvent(),o}return F(t,n),t.prototype._initEvent=function(){var e=this,o=this.getWidget().getPane(),i=o.getId(),r=o.getChart().getChartStore().getOverlayStore();this.registerEvent("mouseMoveEvent",function(a){var s,l=r.getProgressInstanceInfo();if(l!==null){var u=l.instance,c=l.paneId;u.isStart()&&(r.updateProgressInstanceInfo(i),c=i);var h=u.points.length-1,d="".concat(Mt,"point_").concat(h);return u.isDrawing()&&c===i&&(u.eventMoveForDrawing(e._coordinateToPoint(l.instance,a)),(s=u.onDrawing)===null||s===void 0||s.call(u,P({overlay:u,figureKey:d,figureIndex:h},a))),e._figureMouseMoveEvent(u,1,d,h,0)(a)}return r.setHoverInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},a),!1}).registerEvent("mouseClickEvent",function(a){var s,l,u=r.getProgressInstanceInfo();if(u!==null){var c=u.instance,h=u.paneId;c.isStart()&&(r.updateProgressInstanceInfo(i,!0),h=i);var d=c.points.length-1,p="".concat(Mt,"point_").concat(d);return c.isDrawing()&&h===i&&(c.eventMoveForDrawing(e._coordinateToPoint(c,a)),(s=c.onDrawing)===null||s===void 0||s.call(c,P({overlay:c,figureKey:p,figureIndex:d},a)),c.nextStep(),c.isDrawing()||(r.progressInstanceComplete(),(l=c.onDrawEnd)===null||l===void 0||l.call(c,P({overlay:c,figureKey:p,figureIndex:d},a)))),e._figureMouseClickEvent(c,1,p,d,0)(a)}return r.setClickInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},a),!1}).registerEvent("mouseDoubleClickEvent",function(a){var s,l=r.getProgressInstanceInfo();if(l!==null){var u=l.instance,c=l.paneId;if(u.isDrawing()&&c===i&&(u.forceComplete(),!u.isDrawing())){r.progressInstanceComplete();var h=u.points.length-1,d="".concat(Mt,"point_").concat(h);(s=u.onDrawEnd)===null||s===void 0||s.call(u,P({overlay:u,figureKey:d,figureIndex:h},a))}var p=u.points.length-1;return e._figureMouseClickEvent(u,1,"".concat(Mt,"point_").concat(p),p,0)(a)}return!1}).registerEvent("mouseRightClickEvent",function(a){var s=r.getProgressInstanceInfo();if(s!==null){var l=s.instance;if(l.isDrawing()){var u=l.points.length-1;return e._figureMouseRightClickEvent(l,1,"".concat(Mt,"point_").concat(u),u,0)(a)}}return!1}).registerEvent("mouseUpEvent",function(a){var s,l=r.getPressedInstanceInfo(),u=l.instance;return u!==null&&((s=u.onPressedMoveEnd)===null||s===void 0||s.call(u,P({overlay:u,figureKey:l.figureKey,figureIndex:l.figureIndex},a))),r.setPressedInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1}),!1}).registerEvent("pressedMouseMoveEvent",function(a){var s,l,u=r.getPressedInstanceInfo(),c=u.instance,h=u.figureType,d=u.figureIndex;if(c!==null){if(!(c.lock||(l=(s=c.onPressedMoving)===null||s===void 0?void 0:s.call(c,P({overlay:c,figureIndex:d,figureKey:u.figureKey},a)))!==null&&l!==void 0&&l)){var p=e._coordinateToPoint(c,a);h===1?c.eventPressedPointMove(p,d):c.eventPressedOtherMove(p,e.getWidget().getPane().getChart().getChartStore().getTimeScaleStore())}return!0}return!1})},t.prototype._createFigureEvents=function(e,o,i,r,a,s){var l;if(!e.isDrawing()){var u=[];if(s!==void 0&&(Ce(s)?s&&(u=["mouseClickEvent","mouseDoubleClickEvent","mouseRightClickEvent","tapEvent","doubleTapEvent","mouseDownEvent","touchStartEvent","mouseMoveEvent","touchMoveEvent"]):u=s),u.length===0)return{mouseMoveEvent:this._figureMouseMoveEvent(e,o,i,r,a),mouseDownEvent:this._figureMouseDownEvent(e,o,i,r,a),mouseClickEvent:this._figureMouseClickEvent(e,o,i,r,a),mouseRightClickEvent:this._figureMouseRightClickEvent(e,o,i,r,a),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(e,o,i,r,a)};l={},u.includes("mouseMoveEvent")||u.includes("touchMoveEvent")||(l.mouseMoveEvent=this._figureMouseMoveEvent(e,o,i,r,a)),u.includes("mouseDownEvent")||u.includes("touchStartEvent")||(l.mouseDownEvent=this._figureMouseDownEvent(e,o,i,r,a)),u.includes("mouseClickEvent")||u.includes("tapEvent")||(l.mouseClickEvent=this._figureMouseClickEvent(e,o,i,r,a)),u.includes("mouseDoubleClickEvent")||u.includes("doubleTapEvent")||(l.mouseDoubleClickEvent=this._figureMouseDoubleClickEvent(e,o,i,r,a)),u.includes("mouseRightClickEvent")||(l.mouseRightClickEvent=this._figureMouseRightClickEvent(e,o,i,r,a))}return l},t.prototype._figureMouseMoveEvent=function(e,o,i,r,a){var s=this;return function(l){var u=s.getWidget().getPane();return u.getChart().getChartStore().getOverlayStore().setHoverInstanceInfo({paneId:u.getId(),instance:e,figureType:o,figureKey:i,figureIndex:r,attrsIndex:a},l),!0}},t.prototype._figureMouseDownEvent=function(e,o,i,r,a){var s=this;return function(l){var u,c=s.getWidget().getPane(),h=c.getId(),d=c.getChart().getChartStore().getOverlayStore();return e.startPressedMove(s._coordinateToPoint(e,l)),(u=e.onPressedMoveStart)===null||u===void 0||u.call(e,P({overlay:e,figureIndex:r,figureKey:i},l)),d.setPressedInstanceInfo({paneId:h,instance:e,figureType:o,figureKey:i,figureIndex:r,attrsIndex:a}),!0}},t.prototype._figureMouseClickEvent=function(e,o,i,r,a){var s=this;return function(l){var u=s.getWidget().getPane(),c=u.getId();return u.getChart().getChartStore().getOverlayStore().setClickInstanceInfo({paneId:c,instance:e,figureType:o,figureKey:i,figureIndex:r,attrsIndex:a},l),!0}},t.prototype._figureMouseDoubleClickEvent=function(e,o,i,r,a){return function(s){var l;return(l=e.onDoubleClick)===null||l===void 0||l.call(e,P(P({},s),{figureIndex:r,figureKey:i,overlay:e})),!0}},t.prototype._figureMouseRightClickEvent=function(e,o,i,r,a){var s=this;return function(l){var u,c;return(c=(u=e.onRightClick)===null||u===void 0?void 0:u.call(e,P({overlay:e,figureIndex:r,figureKey:i},l)))!==null&&c!==void 0&&c||s.getWidget().getPane().getChart().getChartStore().getOverlayStore().removeInstance(e),!0}},t.prototype._coordinateToPoint=function(e,o){var i,r,a={},s=this.getWidget().getPane(),l=s.getChart(),u=s.getId(),c=l.getChartStore().getTimeScaleStore();if(this.coordinateToPointTimestampDataIndexFlag()){var h=((i=l.getPaneById(R.XAXIS))===null||i===void 0?void 0:i.getAxisComponent()).convertFromPixel(o.x),d=(r=c.dataIndexToTimestamp(h))!==null&&r!==void 0?r:void 0;a.dataIndex=h,a.timestamp=d}if(this.coordinateToPointValueFlag()){var p=s.getAxisComponent(),v=p.convertFromPixel(o.y);if(e.mode!==m.OverlayMode.Normal&&u===R.CANDLE&&a.dataIndex!==void 0){var g=c.getDataByDataIndex(a.dataIndex);if(g!==null){var f=e.modeSensitivity;if(v>g.high)if(e.mode===m.OverlayMode.WeakMagnet){var y=p.convertToPixel(g.high);p.convertFromPixel(y-f)>v&&(v=g.high)}else v=g.high;else if(g.low>v)if(e.mode===m.OverlayMode.WeakMagnet){var _=p.convertToPixel(g.low);v>p.convertFromPixel(_-f)&&(v=g.low)}else v=g.low;else{var x=Math.max(g.open,g.close),S=Math.min(g.open,g.close);v=v>x?g.high-v>v-x?x:g.high:S>v?S-v>v-g.low?g.low:S:v-S>x-v?x:S}}}a.value=v}return a},t.prototype.coordinateToPointValueFlag=function(){return!0},t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},t.prototype.dispatchEvent=function(e,o,i){return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()?this.onEvent(e,o,i):n.prototype.dispatchEvent.call(this,e,o,i)},t.prototype.checkEventOn=function(){return!0},t.prototype.drawImp=function(e){var o,i=this,r=this.getWidget(),a=r.getPane(),s=a.getId(),l=a.getChart(),u=a.getAxisComponent(),c=(o=l.getPaneById(R.XAXIS))===null||o===void 0?void 0:o.getAxisComponent(),h=r.getBounding(),d=l.getChartStore(),p=d.getCustomApi(),v=d.getThousandsSeparator(),g=d.getTimeScaleStore(),f=g.getDateTimeFormat(),y=g.getBarSpace(),_=d.getPrecision(),x=d.getStyles().overlay,S=d.getOverlayStore(),C=S.getHoverInstanceInfo(),T=S.getClickInstanceInfo();this.getCompleteOverlays(S,s).forEach(function(E){E.visible&&i._drawOverlay(e,E,h,y,_,f,p,v,x,c,u,C,T,g)});var b=S.getProgressInstanceInfo();if(b!==null){var w=this.getProgressOverlay(b,s);w!==null&&w.visible&&this._drawOverlay(e,w,h,y,_,f,p,v,x,c,u,C,T,g)}},t.prototype._drawOverlay=function(e,o,i,r,a,s,l,u,c,h,d,p,v,g){var f=o.points.map(function(_){var x,S,C=_.dataIndex;_.timestamp!==void 0&&(C=g.timestampToDataIndex(_.timestamp));var T={x:0,y:0};return C!==void 0&&(T.x=(x=h?.convertToPixel(C))!==null&&x!==void 0?x:0),_.value!==void 0&&(T.y=(S=d?.convertToPixel(_.value))!==null&&S!==void 0?S:0),T});if(f.length>0){var y=[].concat(this.getFigures(o,f,i,r,a,u,s,c,h,d));this.drawFigures(e,o,y,c)}this.drawDefaultFigures(e,o,f,i,a,s,l,u,c,h,d,p,v)},t.prototype.drawFigures=function(e,o,i,r){var a=this;i.forEach(function(s,l){var u=s.type,c=s.styles,h=s.ignoreEvent;[].concat(s.attrs).forEach(function(d,p){var v,g,f,y=a._createFigureEvents(o,2,(v=s.key)!==null&&v!==void 0?v:"",l,p,h),_=P(P(P({},r[u]),(g=o.styles)===null||g===void 0?void 0:g[u]),c);(f=a.createFigure(u,d,_,y))===null||f===void 0||f.draw(e)})})},t.prototype.getCompleteOverlays=function(e,o){return e.getInstances(o)},t.prototype.getProgressOverlay=function(e,o){return e.paneId===o?e.instance:null},t.prototype.getFigures=function(e,o,i,r,a,s,l,u,c,h){var d,p;return(p=(d=e.createPointFigures)===null||d===void 0?void 0:d.call(e,{overlay:e,coordinates:o,bounding:i,barSpace:r,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:h}))!==null&&p!==void 0?p:[]},t.prototype.drawDefaultFigures=function(e,o,i,r,a,s,l,u,c,h,d,p,v){var g,f,y=this;if(o.needDefaultPointFigure&&(((g=p.instance)===null||g===void 0?void 0:g.id)===o.id&&p.figureType!==0||((f=v.instance)===null||f===void 0?void 0:f.id)===o.id&&v.figureType!==0)){var _=o.styles,x=P(P({},c.point),_?.point);i.forEach(function(S,C){var T,b,w,E=S.x,D=S.y,I=x.radius,M=x.color,k=x.borderColor,A=x.borderSize;((T=p.instance)===null||T===void 0?void 0:T.id)===o.id&&p.figureType===1&&p.figureIndex===C&&(I=x.activeRadius,M=x.activeColor,k=x.activeBorderColor,A=x.activeBorderSize),(b=y.createFigure("circle",{x:E,y:D,r:I+A},{color:k},y._createFigureEvents(o,1,"".concat(Mt,"point_").concat(C),C,0)))===null||b===void 0||b.draw(e),(w=y.createFigure("circle",{x:E,y:D,r:I},{color:M}))===null||w===void 0||w.draw(e)})}},t}(dt),si=function(n){function t(e,o){var i=n.call(this,e,o)||this;return i._gridView=new ao(i),i._indicatorView=new so(i),i._crosshairLineView=new lo(i),i._tooltipView=i.createTooltipView(),i._overlayView=new ai(i),i.addChild(i._tooltipView),i.addChild(i._overlayView),i.getContainer().style.cursor="crosshair",i.registerEvent("mouseMoveEvent",function(){return o.getChart().getChartStore().getTooltipStore().setActiveIcon(),!1}),i}return F(t,n),t.prototype.getName=function(){return K},t.prototype.updateMain=function(e){this.updateMainContent(e),this._indicatorView.draw(e),this._gridView.draw(e)},t.prototype.createTooltipView=function(){return new ri(this)},t.prototype.updateMainContent=function(e){},t.prototype.updateOverlay=function(e){this._overlayView.draw(e),this._crosshairLineView.draw(e),this._tooltipView.draw(e)},t}(ve),uo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o,i,r=this.getWidget(),a=r.getPane(),s=a.getChart(),l=r.getBounding(),u=a.getAxisComponent(),c=s.getStyles().candle.area,h=[],d=[],p=Number.MAX_SAFE_INTEGER;this.eachChildren(function(S,C,T){var b=S.x,w=C.halfGapBar,E=S.data[c.value];if(It(E)){var D=u.convertToPixel(E);if(T===0){var I=b-w;d.push({x:I,y:l.height}),d.push({x:I,y:D}),h.push({x:I,y:D})}h.push({x:b,y:D}),d.push({x:b,y:D}),p=Math.min(p,D)}});var v=d.length;if(v>0){var g=d[v-1],f=g.x;h.push({x:f,y:g.y}),d.push({x:f,y:g.y}),d.push({x:f,y:l.height})}if(h.length>0&&((o=this.createFigure("line",{coordinates:h},{color:c.lineColor,size:c.lineSize}))===null||o===void 0||o.draw(e)),d.length>0){var y=c.backgroundColor,_=void 0;if(ot(y)){var x=e.createLinearGradient(0,l.height,0,p);try{y.forEach(function(S){x.addColorStop(S.offset,S.color)})}catch{}_=x}else _=y;(i=this.createFigure("polygon",{coordinates:d},{color:_}))===null||i===void 0||i.draw(e)}},t}(me),co=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o=this.getWidget().getPane(),i=o.getChart().getChartStore(),r=i.getStyles().candle.priceMark,a=r.high,s=r.low;if(r.show&&(a.show||s.show)){var l=i.getThousandsSeparator(),u=i.getPrecision(),c=o.getAxisComponent(),h=Number.MIN_SAFE_INTEGER,d=0,p=Number.MAX_SAFE_INTEGER,v=0;this.eachChildren(function(y){var _=y.data,x=y.x;_.high>h&&(h=_.high,d=x),p>_.low&&(p=_.low,v=x)});var g=c.convertToPixel(h),f=c.convertToPixel(p);a.show&&h!==Number.MIN_SAFE_INTEGER&&this._drawMark(e,j(Y(h,u.price),l),{x:d,y:g},f>g?[-2,-5]:[2,5],a),s.show&&p!==Number.MAX_SAFE_INTEGER&&this._drawMark(e,j(Y(p,u.price),l),{x:v,y:f},f>g?[2,5]:[-2,-5],s)}},t.prototype._drawMark=function(e,o,i,r,a){var s,l,u,c,h,d,p=i.x,v=i.y+r[0];(s=this.createFigure("line",{coordinates:[{x:p-2,y:v+r[0]},{x:p,y:v},{x:p+2,y:v+r[0]}]},{color:a.color}))===null||s===void 0||s.draw(e),p>this.getWidget().getBounding().width/2?(h=(c=p-5)-a.textOffset,d="right"):(d="left",h=(c=p+5)+a.textOffset);var g=v+r[1];(l=this.createFigure("line",{coordinates:[{x:p,y:v},{x:p,y:g},{x:c,y:g}]},{color:a.color}))===null||l===void 0||l.draw(e),(u=this.createFigure("text",{x:h,y:g,text:o,align:d,baseline:"middle"},{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}))===null||u===void 0||u.draw(e)},t}(me),ho=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o,i=this.getWidget(),r=i.getPane(),a=i.getBounding(),s=r.getChart().getChartStore(),l=s.getStyles().candle.priceMark,u=l.last,c=u.line;if(l.show&&u.show&&c.show){var h=r.getAxisComponent(),d=s.getDataList(),p=d[d.length-1];if(p!=null){var v=p.close,g=p.open,f=h.convertToNicePixel(v);(o=this.createFigure("line",{coordinates:[{x:0,y:f},{x:a.width,y:f}]},{style:c.style,color:v>g?u.upColor:g>v?u.downColor:u.noChangeColor,size:c.size,dashedValue:c.dashedValue}))===null||o===void 0||o.draw(e)}}},t}(dt),qt={"zh-CN":{time:"\u65F6\u95F4\uFF1A",open:"\u5F00\uFF1A",high:"\u9AD8\uFF1A",low:"\u4F4E\uFF1A",close:"\u6536\uFF1A",volume:"\u6210\u4EA4\u91CF\uFF1A",change:"\u6DA8\u5E45\uFF1A"},"en-US":{time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",change:"Change: "}},po=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o,i=this.getWidget(),r=i.getPane(),a=r.getId(),s=r.getChart().getChartStore(),l=s.getTooltipStore().getCrosshair();if(l.kLineData!==void 0){var u=i.getBounding(),c=(o=r.getYAxisWidget())===null||o===void 0?void 0:o.getBounding(),h=s.getDataList(),d=s.getPrecision(),p=s.getLocale(),v=s.getCustomApi(),g=s.getThousandsSeparator(),f=s.getTooltipStore().getActiveIcon(),y=s.getIndicatorStore().getInstances(r.getId()),_=s.getTimeScaleStore().getDateTimeFormat(),x=s.getStyles(),S=x.candle,C=x.indicator;if(S.tooltip.showType===m.TooltipShowType.Rect&&C.tooltip.showType===m.TooltipShowType.Rect){var T=this.isDrawTooltip(l,S.tooltip),b=this.isDrawTooltip(l,C.tooltip);this._drawRectTooltip(e,h,y,u,c,l,d,_,p,v,g,T,b,x,0)}else if(S.tooltip.showType===m.TooltipShowType.Standard&&C.tooltip.showType===m.TooltipShowType.Standard){var w=this._drawCandleStandardTooltip(e,h,a,u,l,f,d,_,p,v,g,S);this.drawIndicatorTooltip(e,a,h,l,f,y,v,g,u,C,w)}else if(S.tooltip.showType===m.TooltipShowType.Rect&&C.tooltip.showType===m.TooltipShowType.Standard){var E=this.drawIndicatorTooltip(e,a,h,l,f,y,v,g,u,C,0);T=this.isDrawTooltip(l,S.tooltip),this._drawRectTooltip(e,h,y,u,c,l,d,_,p,v,g,T,!1,x,E)}else{var D=this._drawCandleStandardTooltip(e,h,a,u,l,f,d,_,p,v,g,S);b=this.isDrawTooltip(l,C.tooltip),this._drawRectTooltip(e,h,y,u,c,l,d,_,p,v,g,!1,b,x,D)}}},t.prototype._drawCandleStandardTooltip=function(e,o,i,r,a,s,l,u,c,h,d,p){var v,g,f,y=p.tooltip,_=y.text,x=0;if(this.isDrawTooltip(a,y)){var S=(v=a.dataIndex)!==null&&v!==void 0?v:0,C=this._getCandleTooltipData({prev:(g=o[S-1])!==null&&g!==void 0?g:null,current:a.kLineData,next:(f=o[S+1])!==null&&f!==void 0?f:null},l,u,c,h,d,p),T=0,b=0,w=0,E=G(this.classifyTooltipIcons(y.icons),3),D=E[1],I=E[2],M=G(this.drawStandardTooltipIcons(e,r,{paneId:i,indicatorName:"",iconId:""},s,E[0],T,b,0),4);x+=M[3];var k=G(this.drawStandardTooltipIcons(e,r,{paneId:i,indicatorName:"",iconId:""},s,D,T=M[0],b=M[1],w=M[2]),4);if(T=k[0],b=k[1],x+=k[3],w=k[2],C.length>0){var A=G(this.drawStandardTooltipLabels(e,r,C,T,b,w,_),4);T=A[0],b=A[1],x+=A[3],w=A[2]}var L=G(this.drawStandardTooltipIcons(e,r,{paneId:i,indicatorName:"",iconId:""},s,I,T,b,w),4);T=L[0],b=L[1],x+=L[3],w=L[2]}return x},t.prototype._drawRectTooltip=function(e,o,i,r,a,s,l,u,c,h,d,p,v,g,f){var y,_,x,S,C,T=this,b=g.candle,w=g.indicator,E=b.tooltip,D=w.tooltip;if(p||v){var I=(y=s.dataIndex)!==null&&y!==void 0?y:0,M=this._getCandleTooltipData({prev:(_=o[I-1])!==null&&_!==void 0?_:null,current:s.kLineData,next:(x=o[I+1])!==null&&x!==void 0?x:null},l,u,c,h,d,b),k=E.text,A=k.marginLeft,L=k.marginRight,V=k.marginTop,O=k.marginBottom,Z=k.size,q=k.weight,J=k.family,N=E.rect,B=N.position,H=N.paddingLeft,$=N.paddingRight,Q=N.paddingTop,ft=N.paddingBottom,at=N.offsetLeft,st=N.offsetRight,mt=N.offsetTop,pt=N.offsetBottom,tt=N.borderSize,Jt=N.borderRadius,ko=N.borderColor,Ao=N.color,zt=0,bt=0,yt=0;p&&(e.font=St(Z,q,J),M.forEach(function(gt){var et=gt.value,it="".concat(gt.title.text).concat(et.text),lt=e.measureText(it).width+A+L;zt=Math.max(zt,lt)}),yt+=(O+V+Z)*M.length);var Tt=D.text,gi=Tt.marginLeft,fi=Tt.marginRight,mi=Tt.marginTop,yi=Tt.marginBottom,Yt=Tt.size,xe=Tt.weight,Se=Tt.family,_i=[];if(v&&(e.font=St(Yt,xe,Se),i.forEach(function(gt){var et,it=(et=T.getIndicatorTooltipData(o,s,gt,h,d,w).values)!==null&&et!==void 0?et:[];_i.push(it),it.forEach(function(lt){var wt=lt.value,Qt="".concat(lt.title.text).concat(wt.text),Ro=e.measureText(Qt).width+gi+fi;zt=Math.max(zt,Ro),yt+=mi+yi+Yt})})),(bt+=zt)!==0&&yt!==0){bt+=2*tt+H+$,yt+=2*tt+Q+ft;var xi=B===Xt.Pointer&&s.paneId===R.CANDLE,Si=((S=s.realX)!==null&&S!==void 0?S:0)>r.width/2,vt=0;if(xi){var Ci=s.realX;vt=Si?Ci-st-bt:Ci+at}else Si?(vt=at,g.yAxis.inside&&g.yAxis.position===m.YAxisPosition.Left&&(vt+=a.width)):(vt=r.width-st-bt,g.yAxis.inside&&g.yAxis.position===m.YAxisPosition.Right&&(vt-=a.width));var At=f+mt;xi&&((At=s.y-yt/2)+yt>r.height-pt&&(At=r.height-pt-yt),f+mt>At&&(At=f+mt)),(C=this.createFigure("rect",{x:vt,y:At,width:bt,height:yt},{style:m.PolygonType.StrokeFill,color:Ao,borderColor:ko,borderSize:tt,borderRadius:Jt}))===null||C===void 0||C.draw(e);var Fo=vt+tt+H+A,Ft=At+tt+Q;if(p&&M.forEach(function(gt){var et,it,lt=gt.title;(et=T.createFigure("text",{x:Fo,y:Ft+=V,text:lt.text},{color:lt.color,size:Z,family:J,weight:q}))===null||et===void 0||et.draw(e);var wt=gt.value;(it=T.createFigure("text",{x:vt+bt-tt-L-$,y:Ft,text:wt.text,align:"right"},{color:wt.color,size:Z,family:J,weight:q}))===null||it===void 0||it.draw(e),Ft+=Z+O}),v){var Lo=vt+tt+H+gi;_i.forEach(function(gt){gt.forEach(function(et){var it,lt,wt=et.title,Qt=et.value;(it=T.createFigure("text",{x:Lo,y:Ft+=mi,text:wt.text},{color:wt.color,size:Yt,family:Se,weight:xe}))===null||it===void 0||it.draw(e),(lt=T.createFigure("text",{x:vt+bt-tt-fi-$,y:Ft,text:Qt.text,align:"right"},{color:Qt.color,size:Yt,family:Se,weight:xe}))===null||lt===void 0||lt.draw(e),Ft+=Yt+yi})})}}}},t.prototype._getCandleTooltipData=function(e,o,i,r,a,s,l){var u,c,h,d,p,v=l.tooltip,g=v.text.color,f=e.current,y=(c=(u=e.prev)===null||u===void 0?void 0:u.close)!==null&&c!==void 0?c:f.close,_=f.close-y,x=o.price,S=o.volume,C={"{time}":a.formatDate(i,f.timestamp,"YYYY-MM-DD HH:mm",m.FormatDateType.Tooltip),"{open}":j(Y(f.open,x),s),"{high}":j(Y(f.high,x),s),"{low}":j(Y(f.low,x),s),"{close}":j(Y(f.close,x),s),"{volume}":j(a.formatBigNumber(Y((h=f.volume)!==null&&h!==void 0?h:v.defaultValue,S)),s),"{change}":y===0?v.defaultValue:"".concat(Y(_/y*100),"%")};return((p=Et(v.custom)?(d=v.custom)===null||d===void 0?void 0:d.call(v,e,l):v.custom)!==null&&p!==void 0?p:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}]).map(function(T){var b,w=T.title,E=T.value,D={text:"",color:""};nt(w)?D=P({},w):(D.text=w,D.color=g),D.text=function(A,L){var V,O;return(O=(V=qt[L])===null||V===void 0?void 0:V[A])!==null&&O!==void 0?O:A}(D.text,r);var I={text:v.defaultValue,color:""};nt(E)?I=P({},E):(I.text=E,I.color=g);var M=I.text.match(/{(\S*)}/);if(M!==null&&M.length>1){var k="{".concat(M[1],"}");I.text=I.text.replace(k,(b=C[k])!==null&&b!==void 0?b:v.defaultValue),k==="{change}"&&(I.color=_===0?l.priceMark.last.noChangeColor:_>0?l.priceMark.last.upColor:l.priceMark.last.downColor)}return{title:D,value:I}})},t}(ri),vo=function(n){function t(e,o){var i=n.call(this,e,o)||this;return i._candleBarView=new ni(i),i._candleAreaView=new uo(i),i._candleHighLowPriceView=new co(i),i._candleLastPriceLineView=new ho(i),i.addChild(i._candleBarView),i}return F(t,n),t.prototype.updateMainContent=function(e){this.getPane().getChart().getStyles().candle.type!==m.CandleType.Area?(this._candleBarView.draw(e),this._candleHighLowPriceView.draw(e)):this._candleAreaView.draw(e),this._candleLastPriceLineView.draw(e)},t.prototype.createTooltipView=function(){return new po(this)},t}(si),li=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o,i=this,r=this.getWidget(),a=r.getPane(),s=r.getBounding(),l=a.getAxisComponent(),u=this.getAxisStyles(a.getChart().getStyles());if(u.show){u.axisLine.show&&((o=this.createFigure("line",this.createAxisLine(s,u),u.axisLine))===null||o===void 0||o.draw(e));var c=l.getTicks();u.tickLine.show&&this.createTickLines(c,s,u).forEach(function(h){var d;(d=i.createFigure("line",h,u.tickLine))===null||d===void 0||d.draw(e)}),u.tickText.show&&this.createTickTexts(c,s,u).forEach(function(h){var d;(d=i.createFigure("text",h,u.tickText))===null||d===void 0||d.draw(e)})}},t}(dt),go=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.getAxisStyles=function(e){return e.yAxis},t.prototype.createAxisLine=function(e,o){var i,r=this.getWidget().getPane().getAxisComponent(),a=o.axisLine.size;return{coordinates:[{x:i=r.isFromZero()?a/2:e.width-a,y:0},{x:i,y:e.height}]}},t.prototype.createTickLines=function(e,o,i){var r=this.getWidget().getPane().getAxisComponent(),a=i.axisLine,s=i.tickLine,l=0,u=0;return r.isFromZero()?(l=0,a.show&&(l+=a.size),u=l+s.length):(l=o.width,a.show&&(l-=a.size),u=l-s.length),e.map(function(c){return{coordinates:[{x:l,y:c.coord},{x:u,y:c.coord}]}})},t.prototype.createTickTexts=function(e,o,i){var r=this.getWidget().getPane().getAxisComponent(),a=i.axisLine,s=i.tickLine,l=i.tickText,u=0;r.isFromZero()?(u=l.marginStart,a.show&&(u+=a.size),s.show&&(u+=s.length)):(u=o.width-l.marginEnd,a.show&&(u-=a.size),s.show&&(u-=s.length));var c=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return e.map(function(h){return{x:u,y:h.coord,text:h.text,align:c,baseline:"middle"}})},t}(li),fo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o,i=this.getWidget(),r=i.getPane(),a=i.getBounding(),s=r.getChart().getChartStore(),l=s.getStyles().candle.priceMark,u=l.last,c=u.text;if(l.show&&u.show&&c.show){var h=s.getPrecision(),d=r.getAxisComponent(),p=s.getDataList(),v=s.getVisibleDataList(),g=p[p.length-1];if(g!==void 0){var f=g.close,y=g.open,_=d.convertToNicePixel(f),x=void 0;x=f>y?u.upColor:y>f?u.downColor:u.noChangeColor;var S=void 0;if(d.getType()===m.YAxisType.Percentage){var C=v[0].data.close;S="".concat(((f-C)/C*100).toFixed(2),"%")}else S=Y(f,h.price);S=j(S,s.getThousandsSeparator());var T=void 0,b=void 0;d.isFromZero()?(T=0,b="left"):(T=a.width,b="right"),(o=this.createFigure("text",{x:T,y:_,text:S,align:b,baseline:"middle"},P(P({},c),{backgroundColor:x})))===null||o===void 0||o.draw(e)}}},t}(dt),mo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o=this,i=this.getWidget(),r=i.getPane(),a=i.getBounding(),s=r.getChart().getChartStore(),l=s.getCustomApi(),u=s.getStyles().indicator,c=u.lastValueMark,h=c.text;if(c.show){var d=r.getAxisComponent(),p=s.getDataList(),v=p.length-1,g=s.getIndicatorStore().getInstances(r.getId()),f=s.getThousandsSeparator();g.forEach(function(y){var _=y.result[v];if(_!==void 0&&y.visible){var x=y.precision;ue(p,y,v,u,function(S,C){var T,b=_[S.key];if(z(b)){var w=d.convertToNicePixel(b),E=Y(b,x);y.shouldFormatBigNumber&&(E=l.formatBigNumber(E)),E=j(E,f);var D=void 0,I=void 0;d.isFromZero()?(D=0,I="left"):(D=a.width,I="right"),(T=o.createFigure("text",{x:D,y:w,text:E,align:I,baseline:"middle"},P(P({},h),{backgroundColor:C.color})))===null||T===void 0||T.draw(e)}})}})}},t}(dt),ui=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},t.prototype.drawDefaultFigures=function(e,o,i,r,a,s,l,u,c,h,d,p,v){this.drawFigures(e,o,this.getDefaultFigures(o,i,r,a,s,l,u,h,d,v),c)},t.prototype.getDefaultFigures=function(e,o,i,r,a,s,l,u,c,h){var d,p,v=[];if(e.needDefaultYAxisFigure&&e.id===((d=h.instance)===null||d===void 0?void 0:d.id)&&h.paneId===this.getWidget().getPane().getId()){var g,f,y=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER;(p=c?.isFromZero())!==null&&p!==void 0&&p?(g="left",f=0):(g="right",f=i.width),o.forEach(function(x,S){var C=e.points[S];if(C.value!==void 0){y=Math.min(y,x.y),_=Math.max(_,x.y);var T=j(Y(C.value,r.price),l);v.push({type:"text",attrs:{x:f,y:x.y,text:T,align:g,baseline:"middle"},ignoreEvent:!0})}}),o.length>1&&v.unshift({type:"rect",attrs:{x:0,y,width:i.width,height:_-y},ignoreEvent:!0})}return v},t.prototype.getFigures=function(e,o,i,r,a,s,l,u,c,h){var d,p;return(p=(d=e.createYAxisFigures)===null||d===void 0?void 0:d.call(e,{overlay:e,coordinates:o,bounding:i,barSpace:r,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:h}))!==null&&p!==void 0?p:[]},t}(ai),ci=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.drawImp=function(e){var o,i=this.getWidget(),r=i.getPane(),a=i.getBounding(),s=i.getPane().getChart().getChartStore(),l=s.getTooltipStore().getCrosshair(),u=s.getStyles().crosshair;if(l.paneId!==void 0&&this.compare(l,r.getId())&&u.show){var c=this.getDirectionStyles(u),h=c.text;if(c.show&&h.show){var d=r.getAxisComponent(),p=this.getText(l,s,d);e.font=St(h.size,h.weight,h.family),(o=this.createFigure("text",this.getTextAttrs(p,e.measureText(p).width,l,a,d,h),h))===null||o===void 0||o.draw(e)}}},t.prototype.compare=function(e,o){return e.paneId===o},t.prototype.getDirectionStyles=function(e){return e.horizontal},t.prototype.getText=function(e,o,i){var r,a,s,l=i,u=i.convertFromPixel(e.y);if(l.getType()===m.YAxisType.Percentage){var c=(a=(r=o.getVisibleDataList()[0])===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{};s="".concat(((u-c.close)/c.close*100).toFixed(2),"%")}else{var h=o.getIndicatorStore().getInstances(e.paneId),d=0,p=!1;l.isInCandle()?d=o.getPrecision().price:h.forEach(function(v){d=Math.max(v.precision,d),p||(p=v.shouldFormatBigNumber)}),s=Y(u,d),p&&(s=o.getCustomApi().formatBigNumber(s))}return j(s,o.getThousandsSeparator())},t.prototype.getTextAttrs=function(e,o,i,r,a,s){var l,u;return a.isFromZero()?(l=0,u="left"):(l=r.width,u="right"),{x:l,y:i.y,text:e,align:u,baseline:"middle"}},t}(dt),yo=function(n){function t(e,o){var i=n.call(this,e,o)||this;return i._yAxisView=new go(i),i._candleLastPriceLabelView=new fo(i),i._indicatorLastValueView=new mo(i),i._overlayYAxisView=new ui(i),i._crosshairHorizontalLabelView=new ci(i),i.getContainer().style.cursor="ns-resize",i.addChild(i._overlayYAxisView),i}return F(t,n),t.prototype.getName=function(){return ht},t.prototype.updateMain=function(e){this._yAxisView.draw(e),this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(e),this._indicatorLastValueView.draw(e)},t.prototype.updateOverlay=function(e){this._overlayYAxisView.draw(e),this._crosshairHorizontalLabelView.draw(e)},t}(ve),hi=function(){function n(t){this._extremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._prevExtremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=t}return n.prototype.getParent=function(){return this._parent},n.prototype.buildTicks=function(t){return this._autoCalcTickFlag&&(this._extremum=this.calcExtremum()),!(this._prevExtremum.min===this._extremum.min&&this._prevExtremum.max===this._extremum.max&&!t)&&(this._prevExtremum=this._extremum,this._ticks=this.optimalTicks(this._calcTicks()),!0)},n.prototype.getTicks=function(){return this._ticks},n.prototype.getScrollZoomEnabled=function(){var t;return(t=this.getParent().getOptions().axisOptions.scrollZoomEnabled)===null||t===void 0||t},n.prototype.setExtremum=function(t){this._autoCalcTickFlag=!1,this._extremum=t},n.prototype.getExtremum=function(){return this._extremum},n.prototype.setAutoCalcTickFlag=function(t){this._autoCalcTickFlag=t},n.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},n.prototype._calcTicks=function(){var t=this._extremum,e=t.realMin,o=t.realMax,i=t.realRange,r=[];if(i>=0){var a=G(this._calcTickInterval(i),2),s=a[0],l=a[1],u=ke(Math.ceil(e/s)*s,l),c=ke(Math.floor(o/s)*s,l),h=0,d=u;if(s!==0)for(;c>=d;){var p=d.toFixed(l);r[h]={text:p,coord:0,value:p},++h,d+=s}}return r},n.prototype._calcTickInterval=function(t){var e,o,i,r,a=(o=Math.floor(Bt(e=t/8)),i=Ct(o),e=(1.5>(r=e/i)?1:2.5>r?2:3.5>r?3:4.5>r?4:5.5>r?5:6.5>r?6:8)*i,-20>o?e:+e.toFixed(0>o?-o:0)),s=function(l){var u=""+l,c=u.indexOf("e");if(c>0){var h=+u.slice(c+1);return 0>h?-h:0}var d=u.indexOf(".");return 0>d?0:u.length-1-d}(a);return[a,s]},n}(),_o=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.calcExtremum=function(){var e,o,i,r,a,s=this.getParent(),l=s.getChart(),u=l.getChartStore(),c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER,d=[],p=!1,v=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER;u.getIndicatorStore().getInstances(s.getId()).forEach(function(B){var H,$,Q;p||(p=(H=B.shouldOhlc)!==null&&H!==void 0&&H),f=Math.min(f,B.precision),B.minValue!==null&&(v=Math.min(v,B.minValue)),B.maxValue!==null&&(g=Math.max(g,B.maxValue)),d.push({figures:($=B.figures)!==null&&$!==void 0?$:[],result:(Q=B.result)!==null&&Q!==void 0?Q:[]})});var y=4,_=this.isInCandle();if(_){var x=u.getPrecision().price;y=f!==Number.MAX_SAFE_INTEGER?Math.min(f,x):x}else f!==Number.MAX_SAFE_INTEGER&&(y=f);var S=u.getVisibleDataList(),C=l.getStyles().candle,T=C.type===m.CandleType.Area,b=C.area.value,w=_&&!T||!_&&p;S.forEach(function(B){var H=B.dataIndex,$=B.data;if(w&&(c=Math.min(c,$.low),h=Math.max(h,$.high)),_&&T){var Q=$[b];c=Math.min(c,Q),h=Math.max(h,Q)}d.forEach(function(ft){var at,st=(at=ft.result[H])!==null&&at!==void 0?at:{};ft.figures.forEach(function(mt){var pt=st[mt.key];z(pt)&&(c=Math.min(c,pt),h=Math.max(h,pt))})})}),c!==Number.MAX_SAFE_INTEGER&&h!==Number.MIN_SAFE_INTEGER?(c=Math.min(v,c),h=Math.max(g,h)):(c=0,h=10);var E,D=this.getType();switch(D){case m.YAxisType.Percentage:var I=(e=S[0])===null||e===void 0?void 0:e.data;I?.close!==void 0&&(c=(c-I.close)/I.close*100,h=(h-I.close)/I.close*100),E=.01;break;case m.YAxisType.Log:c=Bt(c),h=Bt(h),E=.05*Ct(-y);break;default:E=Ct(-y)}if(c===h||E>Math.abs(c-h)){var M=v===c,k=g===h;c=M?c:k?c-8*E:c-4*E,h=k?h:M?h+8*E:h+4*E}var A=(i=(o=this.getParent().getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,L=s.getOptions().gap,V=(r=L?.top)!==null&&r!==void 0?r:.2;1>V||(V/=A);var O=(a=L?.bottom)!==null&&a!==void 0?a:.1;1>O||(O/=A);var Z,q,J,N=Math.abs(h-c);return N=Math.abs((h+=N*V)-(c-=N*O)),D===m.YAxisType.Log?(Z=Ct(c),q=Ct(h),J=Math.abs(q-Z)):(Z=c,q=h,J=N),{min:c,max:h,range:N,realMin:Z,realMax:q,realRange:J}},t.prototype._innerConvertToPixel=function(e){var o,i,r=(i=(o=this.getParent().getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,a=this.getExtremum(),s=(e-a.min)/a.range;return this.isReverse()?Math.round(s*r):Math.round((1-s)*r)},t.prototype.isInCandle=function(){return this.getParent().getName()==="candle"},t.prototype.getType=function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.type:m.YAxisType.Normal},t.prototype.getPosition=function(){return this.getParent().getChart().getStyles().yAxis.position},t.prototype.isReverse=function(){return!!this.isInCandle()&&this.getParent().getChart().getStyles().yAxis.reverse},t.prototype.isFromZero=function(){var e=this.getParent().getChart().getStyles().yAxis,o=e.inside;return e.position===m.YAxisPosition.Left&&o||e.position===m.YAxisPosition.Right&&!o},t.prototype.optimalTicks=function(e){var o,i,r=this,a=this.getParent(),s=(i=(o=a.getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,l=a.getChart().getChartStore(),u=l.getCustomApi(),c=[],h=this.getType(),d=l.getIndicatorStore().getInstances(a.getId()),p=l.getThousandsSeparator(),v=0,g=!1;this.isInCandle()?v=l.getPrecision().price:d.forEach(function(_){v=Math.max(v,_.precision),g||(g=_.shouldFormatBigNumber)});var f,y=l.getStyles().xAxis.tickText.size;return e.forEach(function(_){var x,S=_.value,C=r._innerConvertToPixel(+S);switch(h){case m.YAxisType.Percentage:x="".concat(Y(S,2),"%");break;case m.YAxisType.Log:C=r._innerConvertToPixel(Bt(+S)),x=Y(S,v);break;default:x=Y(S,v),g&&(x=u.formatBigNumber(S))}x=j(x,p),C>y&&s-y>C&&(f!==void 0&&Math.abs(f-C)>2*y||f===void 0)&&(c.push({text:x,coord:C,value:S}),f=C)}),c},t.prototype.getAutoSize=function(){var e=this.getParent(),o=e.getChart(),i=o.getStyles(),r=i.yAxis,a=r.size;if(a!=="auto")return a;var s=o.getChartStore(),l=s.getCustomApi(),u=0;if(r.show&&(r.axisLine.show&&(u+=r.axisLine.size),r.tickLine.show&&(u+=r.tickLine.length),r.tickText.show)){var c=0;this.getTicks().forEach(function(S){c=Math.max(c,Rt(S.text,r.tickText.size,r.tickText.weight,r.tickText.family))}),u+=r.tickText.marginStart+r.tickText.marginEnd+c}var h=i.crosshair,d=0;if(h.show&&h.horizontal.show&&h.horizontal.text.show){var p=s.getIndicatorStore().getInstances(e.getId()),v=0,g=!1;p.forEach(function(S){v=Math.max(S.precision,v),g||(g=S.shouldFormatBigNumber)});var f=2;if(this.getType()!==m.YAxisType.Percentage)if(this.isInCandle()){var y=s.getPrecision().price,_=i.indicator.lastValueMark;f=_.show&&_.text.show?Math.max(v,y):y}else f=v;var x=Y(this.getExtremum().max,f);g&&(x=l.formatBigNumber(x)),d+=h.horizontal.text.paddingLeft+h.horizontal.text.paddingRight+2*h.horizontal.text.borderSize+Rt(x,h.horizontal.text.size,h.horizontal.text.weight,h.horizontal.text.family)}return Math.max(u,d)},t.prototype.convertFromPixel=function(e){var o,i,r,a=(i=(o=this.getParent().getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,s=this.getExtremum(),l=s.min,u=s.range,c=(this.isReverse()?e/a:1-e/a)*u+l;switch(this.getType()){case m.YAxisType.Percentage:var h=(r=this.getParent().getChart().getChartStore().getVisibleDataList()[0])===null||r===void 0?void 0:r.data;return h?.close!==void 0?h.close*c/100+h.close:0;case m.YAxisType.Log:return Ct(c);default:return c}},t.prototype.convertToRealValue=function(e){var o=e;return this.getType()===m.YAxisType.Log&&(o=Ct(e)),o},t.prototype.convertToPixel=function(e){var o,i=e;switch(this.getType()){case m.YAxisType.Percentage:var r=(o=this.getParent().getChart().getChartStore().getVisibleDataList()[0])===null||o===void 0?void 0:o.data;r?.close!==void 0&&(i=(e-r.close)/r.close*100);break;case m.YAxisType.Log:i=Bt(e);break;default:i=e}return this._innerConvertToPixel(i)},t.prototype.convertToNicePixel=function(e){var o,i,r=(i=(o=this.getParent().getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,a=this.convertToPixel(e);return Math.round(Math.max(.05*r,Math.min(a,.98*r)))},t}(hi),di=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.getName=function(){return"indicator"},t.prototype.createAxisComponent=function(){return new _o(this)},t.prototype.createMainWidget=function(e){return new si(e,this)},t.prototype.createSeparatorWidget=function(e){return new qi(e,this)},t.prototype.createYAxisWidget=function(e){return new yo(e,this)},t}(He),xo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.getName=function(){return"candle"},t.prototype.createMainWidget=function(e){return new vo(e,this)},t.prototype.createSeparatorWidget=function(){return null},t}(di),So=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.getAxisStyles=function(e){return e.xAxis},t.prototype.createAxisLine=function(e,o){var i=o.axisLine.size/2;return{coordinates:[{x:0,y:i},{x:e.width,y:i}]}},t.prototype.createTickLines=function(e,o,i){var r=i.tickLine,a=i.axisLine.size;return e.map(function(s){return{coordinates:[{x:s.coord,y:0},{x:s.coord,y:a+r.length}]}})},t.prototype.createTickTexts=function(e,o,i){var r=i.tickText,a=i.axisLine.size,s=i.tickLine.length;return e.map(function(l){return{x:l.coord,y:a+s+r.marginStart,text:l.text,align:"center",baseline:"top"}})},t}(li),Co=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},t.prototype.coordinateToPointValueFlag=function(){return!1},t.prototype.getCompleteOverlays=function(e){return e.getInstances()},t.prototype.getProgressOverlay=function(e){return e.instance},t.prototype.getDefaultFigures=function(e,o,i,r,a,s,l,u,c,h){var d,p=[];if(e.needDefaultXAxisFigure&&e.id===((d=h.instance)===null||d===void 0?void 0:d.id)){var v=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;o.forEach(function(f,y){v=Math.min(v,f.x),g=Math.max(g,f.x);var _=e.points[y];if(_.timestamp!==void 0){var x=s.formatDate(a,_.timestamp,"YYYY-MM-DD HH:mm",m.FormatDateType.Crosshair);p.push({type:"text",attrs:{x:f.x,y:0,text:x,align:"center"},ignoreEvent:!0})}}),o.length>1&&p.unshift({type:"rect",attrs:{x:v,y:0,width:g-v,height:i.height},ignoreEvent:!0})}return p},t.prototype.getFigures=function(e,o,i,r,a,s,l,u,c,h){var d,p;return(p=(d=e.createXAxisFigures)===null||d===void 0?void 0:d.call(e,{overlay:e,coordinates:o,bounding:i,barSpace:r,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:h}))!==null&&p!==void 0?p:[]},t}(ui),bo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.compare=function(e){return e.kLineData!==void 0&&e.dataIndex===e.realDataIndex},t.prototype.getDirectionStyles=function(e){return e.vertical},t.prototype.getText=function(e,o){var i,r=(i=e.kLineData)===null||i===void 0?void 0:i.timestamp;return o.getCustomApi().formatDate(o.getTimeScaleStore().getDateTimeFormat(),r,"YYYY-MM-DD HH:mm",m.FormatDateType.Crosshair)},t.prototype.getTextAttrs=function(e,o,i,r,a,s){var l,u=i.realX,c="center";return 0>u-o/2-s.paddingLeft?(l=0,c="left"):u+o/2+s.paddingRight>r.width?(l=r.width,c="right"):l=u,{x:l,y:0,text:e,align:c,baseline:"top"}},t}(ci),To=function(n){function t(e,o){var i=n.call(this,e,o)||this;return i._xAxisView=new So(i),i._overlayXAxisView=new Co(i),i._crosshairVerticalLabelView=new bo(i),i.getContainer().style.cursor="ew-resize",i.addChild(i._overlayXAxisView),i}return F(t,n),t.prototype.getName=function(){return ct},t.prototype.updateMain=function(e){this._xAxisView.draw(e)},t.prototype.updateOverlay=function(e){this._overlayXAxisView.draw(e),this._crosshairVerticalLabelView.draw(e)},t}(ve),wo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.calcExtremum=function(){var e=this.getParent().getChart().getChartStore().getTimeScaleStore().getVisibleRange(),o=e.from,i=e.to,r=i-1,a=i-o;return{min:o,max:r,range:a,realMin:o,realMax:r,realRange:a}},t.prototype.optimalTicks=function(e){var o,i,r=this.getParent().getChart(),a=r.getChartStore(),s=a.getCustomApi().formatDate,l=[],u=e.length,c=a.getDataList();if(u>0){var h=a.getTimeScaleStore().getDateTimeFormat(),d=r.getStyles().xAxis.tickText,p=Rt("00-00 00:00",d.size,d.weight,d.family),v=this.convertToPixel(parseInt(e[0].value,10)),g=1;if(u>1){var f=this.convertToPixel(parseInt(e[1].value,10)),y=Math.abs(f-v);p>y&&(g=Math.ceil(p/y))}for(var _=0;u>_;_+=g){var x=parseInt(e[_].value,10),S=c[x].timestamp,C=s(h,S,"HH:mm",m.FormatDateType.XAxis);_!==0&&(C=(o=this._optimalTickLabel(s,h,S,c[parseInt(e[_-g].value,10)].timestamp))!==null&&o!==void 0?o:C);var T=this.convertToPixel(x);l.push({text:C,coord:T,value:S})}if(l.length===1)l[0].text=s(h,l[0].value,"YYYY-MM-DD HH:mm",m.FormatDateType.XAxis);else{var b=l[0].value,w=l[1].value;if(l[2]!==void 0){var E=l[2].text;/^[0-9]{2}-[0-9]{2}$/.test(E)?l[0].text=s(h,b,"MM-DD",m.FormatDateType.XAxis):/^[0-9]{4}-[0-9]{2}$/.test(E)?l[0].text=s(h,b,"YYYY-MM",m.FormatDateType.XAxis):/^[0-9]{4}$/.test(E)&&(l[0].text=s(h,b,"YYYY",m.FormatDateType.XAxis))}else l[0].text=(i=this._optimalTickLabel(s,h,b,w))!==null&&i!==void 0?i:l[0].text}}return l},t.prototype._optimalTickLabel=function(e,o,i,r){var a=e(o,i,"YYYY",m.FormatDateType.XAxis),s=e(o,i,"YYYY-MM",m.FormatDateType.XAxis),l=e(o,i,"MM-DD",m.FormatDateType.XAxis);return a!==e(o,r,"YYYY",m.FormatDateType.XAxis)?a:s!==e(o,r,"YYYY-MM",m.FormatDateType.XAxis)?s:l!==e(o,r,"MM-DD",m.FormatDateType.XAxis)?l:null},t.prototype.getAutoSize=function(){var e=this.getParent().getChart().getStyles(),o=e.xAxis,i=o.size;if(i!=="auto")return i;var r=e.crosshair,a=0;o.show&&(o.axisLine.show&&(a+=o.axisLine.size),o.tickLine.show&&(a+=o.tickLine.length),o.tickText.show&&(a+=o.tickText.marginStart+o.tickText.marginEnd+o.tickText.size));var s=0;return r.show&&r.vertical.show&&r.vertical.text.show&&(s+=r.vertical.text.paddingTop+r.vertical.text.paddingBottom+2*r.vertical.text.borderSize+r.vertical.text.size),Math.max(a,s)},t.prototype.convertTimestampFromPixel=function(e){var o=this.getParent().getChart().getChartStore().getTimeScaleStore(),i=o.coordinateToDataIndex(e);return o.dataIndexToTimestamp(i)},t.prototype.convertTimestampToPixel=function(e){var o=this.getParent().getChart().getChartStore().getTimeScaleStore(),i=o.timestampToDataIndex(e);return o.dataIndexToCoordinate(i)},t.prototype.convertFromPixel=function(e){return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(e)},t.prototype.convertToPixel=function(e){return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(e)},t}(hi),Eo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return F(t,n),t.prototype.getName=function(){return"xAxis"},t.prototype.createAxisComponent=function(){return new wo(this)},t.prototype.createMainWidget=function(e){return new To(e,this)},t}(He);function pi(){var n;return typeof window<"u"&&((n=window.navigator.userAgent.toLowerCase().indexOf("firefox"))!==null&&n!==void 0?n:-1)>-1}function ye(){return typeof window<"u"&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var _e,Io=function(){function n(t,e,o){var i=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:-1/0,y:1/0},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:-1/0,y:1/0},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!ye(),this._onFirefoxOutsideMouseUp=function(r){i._mouseUpHandler(r)},this._onMobileSafariDoubleClick=function(r){i._firesTouchEvents(r)?(++i._tapCount,i._tapTimeoutId!==null&&i._tapCount>1&&(30>i._mouseTouchMoveWithDownInfo(i._getCoordinate(r),i._tapCoordinate).manhattanDistance&&!i._cancelTap&&i._processEvent(i._makeCompatEvent(r),i._handler.doubleTapEvent),i._resetTapTimeout())):(++i._clickCount,i._clickTimeoutId!==null&&i._clickCount>1&&(5>i._mouseTouchMoveWithDownInfo(i._getCoordinate(r),i._clickCoordinate).manhattanDistance&&!i._cancelClick&&i._processEvent(i._makeCompatEvent(r),i._handler.mouseDoubleClickEvent),i._resetClickTimeout()))},this._target=t,this._handler=e,this._options=o,this._init()}return n.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},n.prototype._mouseEnterHandler=function(t){var e,o,i,r=this;(e=this._unsubscribeMousemove)===null||e===void 0||e.call(this),(o=this._unsubscribeMouseWheel)===null||o===void 0||o.call(this),(i=this._unsubscribeContextMenu)===null||i===void 0||i.call(this);var a=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){r._target.removeEventListener("mousemove",a)},this._target.addEventListener("mousemove",a);var s=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){r._target.removeEventListener("wheel",s)},this._target.addEventListener("wheel",s,{passive:!1});var l=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){r._target.removeEventListener("contextmenu",l)},this._target.addEventListener("contextmenu",l,{passive:!1}),this._firesTouchEvents(t)||(this._processEvent(this._makeCompatEvent(t),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},n.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:-1/0,y:1/0}},n.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:-1/0,y:1/0}},n.prototype._mouseMoveHandler=function(t){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(t)||(this._processEvent(this._makeCompatEvent(t),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},n.prototype._mouseWheelHandler=function(t){if(Math.abs(t.deltaX)>Math.abs(t.deltaY)){if(this._handler.mouseWheelHortEvent===void 0||(this._preventDefault(t),Math.abs(t.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(t),-t.deltaX)}else{if(this._handler.mouseWheelVertEvent===void 0)return;var e=-t.deltaY/100;if(e===0)return;switch(this._preventDefault(t),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120;break;case t.DOM_DELTA_LINE:e*=32}if(e!==0){var o=Math.sign(e)*Math.min(1,Math.abs(e));this._handler.mouseWheelVertEvent(this._makeCompatEvent(t),o)}}},n.prototype._contextMenuHandler=function(t){this._preventDefault(t)},n.prototype._touchMoveHandler=function(t){var e=this._touchWithId(t.changedTouches,this._activeTouchId);if(e!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(t),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var o=this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._touchMoveStartCoordinate),i=o.yOffset;if(this._touchMoveExceededManhattanDistance||o.manhattanDistance>=5){if(!this._touchMoveExceededManhattanDistance){var r=.5*o.xOffset,a=i>=r&&!this._options.treatVertDragAsPageScroll(),s=r>i&&!this._options.treatHorzDragAsPageScroll();a||s||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(t,e),this._handler.touchMoveEvent)}}},n.prototype._mouseMoveWithDownHandler=function(t){t.button===0&&(5>this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._mouseMoveStartCoordinate).manhattanDistance||(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(t),this._handler.pressedMouseMoveEvent))},n.prototype._mouseTouchMoveWithDownInfo=function(t,e){var o=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return{xOffset:o,yOffset:i,manhattanDistance:o+i}},n.prototype._touchEndHandler=function(t){var e=this._touchWithId(t.changedTouches,this._activeTouchId);if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(t),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var o=this._makeCompatEvent(t,e);this._processEvent(o,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1?(30>this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._tapCoordinate).manhattanDistance&&!this._cancelTap&&this._processEvent(o,this._handler.doubleTapEvent),this._resetTapTimeout()):this._cancelTap||(this._processEvent(o,this._handler.tapEvent),this._handler.tapEvent!==void 0&&this._preventDefault(t)),this._tapCount===0&&this._preventDefault(t),t.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(t))}},n.prototype._mouseUpHandler=function(t){if(t.button===0){var e=this._makeCompatEvent(t);this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),pi()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._firesTouchEvents(t)||(this._processEvent(e,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1?(5>this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._clickCoordinate).manhattanDistance&&!this._cancelClick&&this._processEvent(e,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(e,this._handler.mouseClickEvent))}},n.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},n.prototype._touchStartHandler=function(t){if(this._activeTouchId===null){var e=t.changedTouches[0];this._activeTouchId=e.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(t);var o=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(e),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var i=this._touchMoveHandler.bind(this),r=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){o.removeEventListener("touchmove",i),o.removeEventListener("touchend",r)},o.addEventListener("touchmove",i,{passive:!1}),o.addEventListener("touchend",r,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,t),500),this._processEvent(this._makeCompatEvent(t,e),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(e))}},n.prototype._mouseDownHandler=function(t){if(t.button===2)return this._preventDefault(t),void this._processEvent(this._makeCompatEvent(t),this._handler.mouseRightClickEvent);if(t.button===0){var e=this._target.ownerDocument.documentElement;pi()&&e.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);var o=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){e.removeEventListener("mousemove",o),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",o),e.addEventListener("mouseup",i),this._mousePressed=!0,this._firesTouchEvents(t)||(this._processEvent(this._makeCompatEvent(t),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(t)))}},n.prototype._init=function(){var t=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var e=this._target.ownerDocument,o=function(i){t._handler.mouseDownOutsideEvent!=null&&(i.composed&&t._target.contains(i.composedPath()[0])||i.target!==null&&t._target.contains(i.target)||t._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){e.removeEventListener("touchstart",o)},this._unsubscribeOutsideMouseEvents=function(){e.removeEventListener("mousedown",o)},e.addEventListener("mousedown",o),e.addEventListener("touchstart",o,{passive:!0}),ye()&&(this._unsubscribeMobileSafariEvents=function(){t._target.removeEventListener("dblclick",t._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(i){if(i.button===1)return i.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},n.prototype._initPinch=function(){var t=this;this._handler.pinchStartEvent===void 0&&this._handler.pinchEvent===void 0&&this._handler.pinchEndEvent===void 0||(this._target.addEventListener("touchstart",function(e){return t._checkPinchState(e.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(e){if(e.touches.length===2&&t._startPinchMiddleCoordinate!==null&&t._handler.pinchEvent!==void 0){var o=t._getTouchDistance(e.touches[0],e.touches[1])/t._startPinchDistance;t._handler.pinchEvent(P(P({},t._startPinchMiddleCoordinate),{pageX:0,pageY:0}),o),t._preventDefault(e)}},{passive:!1}),this._target.addEventListener("touchend",function(e){t._checkPinchState(e.touches)}))},n.prototype._checkPinchState=function(t){t.length===1&&(this._pinchPrevented=!1),t.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(t)},n.prototype._startPinch=function(t){var e,o=(e=this._target.getBoundingClientRect())!==null&&e!==void 0?e:{left:0,top:0};this._startPinchMiddleCoordinate={x:(t[0].clientX-o.left+(t[1].clientX-o.left))/2,y:(t[0].clientY-o.top+(t[1].clientY-o.top))/2},this._startPinchDistance=this._getTouchDistance(t[0],t[1]),this._handler.pinchStartEvent!==void 0&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},n.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,this._handler.pinchEndEvent!==void 0&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},n.prototype._mouseLeaveHandler=function(t){var e,o,i;(e=this._unsubscribeMousemove)===null||e===void 0||e.call(this),(o=this._unsubscribeMouseWheel)===null||o===void 0||o.call(this),(i=this._unsubscribeContextMenu)===null||i===void 0||i.call(this),this._firesTouchEvents(t)||this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!ye())},n.prototype._longTapHandler=function(t){var e=this._touchWithId(t.touches,this._activeTouchId);e!==null&&(this._processEvent(this._makeCompatEvent(t,e),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},n.prototype._firesTouchEvents=function(t){var e;return((e=t.sourceCapabilities)===null||e===void 0?void 0:e.firesTouchEvents)!==void 0?t.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(t)<this._lastTouchEventTimeStamp+500},n.prototype._processEvent=function(t,e){e?.call(this._handler,t)},n.prototype._makeCompatEvent=function(t,e){var o,i=this,r=e??t,a=(o=this._target.getBoundingClientRect())!==null&&o!==void 0?o:{left:0,top:0};return{x:r.clientX-a.left,y:r.clientY-a.top,pageX:r.pageX,pageY:r.pageY,isTouch:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",preventDefault:function(){t.type!=="touchstart"&&i._preventDefault(t)}}},n.prototype._getTouchDistance=function(t,e){var o=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(o*o+i*i)},n.prototype._preventDefault=function(t){t.cancelable&&t.preventDefault()},n.prototype._getCoordinate=function(t){return{x:t.pageX,y:t.pageY}},n.prototype._eventTimeStamp=function(t){var e;return(e=t.timeStamp)!==null&&e!==void 0?e:performance.now()},n.prototype._touchWithId=function(t,e){for(var o=0;t.length>o;++o)if(t[o].identifier===e)return t[o];return null},n}(),Do=function(){function n(t,e){var o=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(i){if(i.shiftKey)switch(i.code){case"Equal":o._chart.getChartStore().getTimeScaleStore().zoom(.5);break;case"Minus":o._chart.getChartStore().getTimeScaleStore().zoom(-.5);break;case"ArrowLeft":(r=o._chart.getChartStore().getTimeScaleStore()).startScroll(),r.scroll(-3*r.getBarSpace().bar);break;case"ArrowRight":var r;(r=o._chart.getChartStore().getTimeScaleStore()).startScroll(),r.scroll(3*r.getBarSpace().bar)}},this._container=t,this._chart=e,this._event=new Io(t,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),t.addEventListener("keydown",this._boundKeyBoardDownEvent)}return n.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},n.prototype.pinchEvent=function(t,e){var o=this._findWidgetByEvent(t),i=o.pane,r=o.widget;if(i?.getId()!==R.XAXIS&&r?.getName()===K){var a=this._makeWidgetEvent(t,r),s=5*(e-this._pinchScale);return this._pinchScale=e,this._chart.getChartStore().getTimeScaleStore().zoom(s,{x:a.x,y:a.y}),!0}return!1},n.prototype.mouseWheelHortEvent=function(t,e){var o=this._chart.getChartStore().getTimeScaleStore();return o.startScroll(),o.scroll(e),!0},n.prototype.mouseWheelVertEvent=function(t,e){var o,i,r=this._findWidgetByEvent(t).widget,a=(o=t.isTouch)!==null&&o!==void 0&&o,s=this._makeWidgetEvent(t,r),l=null,u=r?.getName();if(a)if(u===K||u===ct)l={x:s.x,y:s.y};else{var c=(i=this._chart.getPaneById(R.CANDLE))===null||i===void 0?void 0:i.getBounding();l={x:c.width/2,y:c.height/2}}else u===K&&(l={x:s.x,y:s.y});return l!==null&&(this._chart.getChartStore().getTimeScaleStore().zoom(e,{x:s.x,y:s.y}),!0)},n.prototype.mouseDownEvent=function(t){var e,o,i=this._findWidgetByEvent(t),r=i.pane,a=i.widget;if(this._mouseDownWidget=a,a!==null){var s=this._makeWidgetEvent(t,a);switch(a.getName()){case Nt:return a.dispatchEvent("mouseDownEvent",s);case K:var l=(e=r?.getAxisComponent().getExtremum())!==null&&e!==void 0?e:null;return this._prevYAxisExtremum=l===null?l:P({},l),this._startScrollCoordinate={x:s.x,y:s.y},this._chart.getChartStore().getTimeScaleStore().startScroll(),a.dispatchEvent("mouseDownEvent",s);case ct:return(u=a.dispatchEvent("mouseDownEvent",s))&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:s.x,y:s.y},this._xAxisStartScaleDistance=s.pageX,u;case ht:var u;return(u=a.dispatchEvent("mouseDownEvent",s))&&this._chart.updatePane(1),l=(o=r?.getAxisComponent().getExtremum())!==null&&o!==void 0?o:null,this._prevYAxisExtremum=l===null?l:P({},l),this._yAxisStartScaleDistance=s.pageY,u}}return!1},n.prototype.mouseMoveEvent=function(t){var e,o,i,r=this._findWidgetByEvent(t),a=r.pane,s=r.widget,l=this._makeWidgetEvent(t,s);if(((e=this._mouseMoveTriggerWidgetInfo.pane)===null||e===void 0?void 0:e.getId())===a?.getId()&&((o=this._mouseMoveTriggerWidgetInfo.widget)===null||o===void 0?void 0:o.getName())===s?.getName()||(s?.dispatchEvent("mouseEnterEvent",l),(i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0||i.dispatchEvent("mouseLeaveEvent",l),this._mouseMoveTriggerWidgetInfo={pane:a,widget:s}),s!==null)switch(s.getName()){case K:var u=s.dispatchEvent("mouseMoveEvent",l),c=this._chart.getChartStore(),h={x:l.x,y:l.y,paneId:a?.getId()};return u&&c.getTooltipStore().getActiveIcon()!==null&&(h=void 0,s!==null&&(s.getContainer().style.cursor="pointer")),this._chart.getChartStore().getTooltipStore().setCrosshair(h),u;case Nt:case ct:case ht:return u=s.dispatchEvent("mouseMoveEvent",l),this._chart.getChartStore().getTooltipStore().setCrosshair(),u}return!1},n.prototype.pressedMouseMoveEvent=function(t){var e,o,i,r,a;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===Nt)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",t);var s=this._findWidgetByEvent(t),l=s.pane,u=s.widget;if(u!==null&&((e=this._mouseDownWidget)===null||e===void 0?void 0:e.getPane().getId())===l?.getId()&&((o=this._mouseDownWidget)===null||o===void 0?void 0:o.getName())===u.getName()){var c=this._makeWidgetEvent(t,u);switch(u.getName()){case K:var h=u.getBounding();if(!(C=u.dispatchEvent("pressedMouseMoveEvent",c))&&this._startScrollCoordinate!==null){var d=l?.getAxisComponent();if(this._prevYAxisExtremum!==null&&!d.getAutoCalcTickFlag()&&d.getScrollZoomEnabled()){var p=this._prevYAxisExtremum,v=p.min,g=p.max+(w=(T=p.range)*(b=((i=d?.isReverse())!==null&&i!==void 0&&i?this._startScrollCoordinate.y-c.y:c.y-this._startScrollCoordinate.y)/h.height)),f=d.convertToRealValue(I=v+w),y=d.convertToRealValue(g);d.setExtremum({min:I,max:g,range:g-I,realMin:f,realMax:y,realRange:y-f})}var _=c.x-this._startScrollCoordinate.x;this._chart.getChartStore().getTimeScaleStore().scroll(_)}return this._chart.getChartStore().getTooltipStore().setCrosshair({x:c.x,y:c.y,paneId:l?.getId()}),C;case ct:if(C=u.dispatchEvent("pressedMouseMoveEvent",c))this._chart.updatePane(1);else{var x=l?.getAxisComponent();if((r=x?.getScrollZoomEnabled())===null||r===void 0||r){var S=10*((b=this._xAxisStartScaleDistance/c.pageX)-this._xAxisScale);this._xAxisScale=b,this._chart.getChartStore().getTimeScaleStore().zoom(S,(a=this._xAxisStartScaleCoordinate)!==null&&a!==void 0?a:void 0)}}return C;case ht:var C;if(C=u.dispatchEvent("pressedMouseMoveEvent",c))this._chart.updatePane(1);else if(d=l?.getAxisComponent(),this._prevYAxisExtremum!==null&&d.getScrollZoomEnabled()){var T,b,w,E=this._prevYAxisExtremum,D=(T=E.range)*(b=c.pageY/this._yAxisStartScaleDistance),I=(v=E.min)-(w=(D-T)/2),M=(g=E.max+w,l?.getAxisComponent());f=M.convertToRealValue(I),y=M.convertToRealValue(g),M.setExtremum({min:I,max:g,range:D,realMin:f,realMax:y,realRange:y-f}),this._chart.adjustPaneViewport(!1,!0,!0,!0)}return C}}return!1},n.prototype.mouseUpEvent=function(t){var e=this._findWidgetByEvent(t).widget,o=!1;if(e!==null){var i=this._makeWidgetEvent(t,e);switch(e.getName()){case K:case Nt:case ct:case ht:o=e.dispatchEvent("mouseUpEvent",i)}o&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,o},n.prototype.mouseClickEvent=function(t){var e=this._findWidgetByEvent(t).widget;if(e!==null){var o=this._makeWidgetEvent(t,e);return e.dispatchEvent("mouseClickEvent",o)}return!1},n.prototype.mouseRightClickEvent=function(t){var e=this._findWidgetByEvent(t).widget,o=!1;if(e!==null){var i=this._makeWidgetEvent(t,e);switch(e.getName()){case K:case ct:case ht:o=e.dispatchEvent("mouseRightClickEvent",i)}o&&this._chart.updatePane(1)}return!1},n.prototype.mouseDoubleClickEvent=function(t){var e=this._findWidgetByEvent(t),o=e.pane,i=e.widget;if(i!==null)switch(i.getName()){case K:var r=this._makeWidgetEvent(t,i);return i.dispatchEvent("mouseDoubleClickEvent",r);case ht:var a=o?.getAxisComponent();if(!a.getAutoCalcTickFlag())return a.setAutoCalcTickFlag(!0),this._chart.adjustPaneViewport(!1,!0,!0,!0),!0}return!1},n.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().getTooltipStore().setCrosshair(),!0},n.prototype.touchStartEvent=function(t){var e=this._findWidgetByEvent(t),o=e.pane,i=e.widget;if(i!==null){var r=this._makeWidgetEvent(t,i);switch(i.getName()){case K:var a=this._chart.getChartStore(),s=a.getTooltipStore();if(i.dispatchEvent("mouseDownEvent",r))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,s.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._flingScrollRequestId!==null&&(Kt(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime(),this._startScrollCoordinate={x:r.x,y:r.y},a.getTimeScaleStore().startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var l=r.x-this._touchCoordinate.x,u=r.y-this._touchCoordinate.y;10>Math.sqrt(l*l+u*u)?(this._touchCoordinate={x:r.x,y:r.y},s.setCrosshair({x:r.x,y:r.y,paneId:o?.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,s.setCrosshair())}return!0;case ct:case ht:var c=i.dispatchEvent("mouseDownEvent",r);return c&&this._chart.updatePane(1),c}}return!1},n.prototype.touchMoveEvent=function(t){var e,o,i,r=this._findWidgetByEvent(t),a=r.pane,s=r.widget;if(s!==null){var l=this._makeWidgetEvent(t,s),u=s.getName(),c=this._chart.getChartStore(),h=c.getTooltipStore();switch(u){case K:if(s.dispatchEvent("pressedMouseMoveEvent",l))return(e=l.preventDefault)===null||e===void 0||e.call(l),h.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._touchCoordinate!==null)(o=l.preventDefault)===null||o===void 0||o.call(l),h.setCrosshair({x:l.x,y:l.y,paneId:a?.getId()});else if(this._startScrollCoordinate!==null&&Math.abs(this._startScrollCoordinate.x-l.x)>this._startScrollCoordinate.y-l.y){var d=l.x-this._startScrollCoordinate.x;c.getTimeScaleStore().scroll(d)}return!0;case ct:case ht:var p=s.dispatchEvent("pressedMouseMoveEvent",l);return p&&((i=l.preventDefault)===null||i===void 0||i.call(l),this._chart.updatePane(1)),p}}return!1},n.prototype.touchEndEvent=function(t){var e=this,o=this._findWidgetByEvent(t).widget;if(o!==null){var i=this._makeWidgetEvent(t,o);switch(o.getName()){case K:if(o.dispatchEvent("mouseUpEvent",i),this._startScrollCoordinate!==null){var r=new Date().getTime()-this._flingStartTime,a=(i.x-this._startScrollCoordinate.x)/(r>0?r:1)*20;if(200>r&&Math.abs(a)>0){var s=this._chart.getChartStore().getTimeScaleStore(),l=function(){e._flingScrollRequestId=pe(function(){s.startScroll(),s.scroll(a),1>Math.abs(a*=.975)?e._flingScrollRequestId!==null&&(Kt(e._flingScrollRequestId),e._flingScrollRequestId=null):l()})};l()}}return!0;case ct:case ht:o.dispatchEvent("mouseUpEvent",i)&&this._chart.updatePane(1)}}return!1},n.prototype.tapEvent=function(t){var e=this._findWidgetByEvent(t),o=e.pane,i=e.widget,r=!1;if(i!==null){var a=this._makeWidgetEvent(t,i),s=i.dispatchEvent("mouseClickEvent",a);if(i.getName()===K){var l=this._makeWidgetEvent(t,i),u=this._chart.getChartStore().getTooltipStore();s?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,u.setCrosshair(void 0,!0),r=!0):(this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:l.x,y:l.y},u.setCrosshair({x:l.x,y:l.y,paneId:o?.getId()},!0),r=!0),this._touchCancelCrosshair=!1)}(r||s)&&this._chart.updatePane(1)}return r},n.prototype.doubleTapEvent=function(t){return this.mouseDoubleClickEvent(t)},n.prototype.longTapEvent=function(t){var e=this._findWidgetByEvent(t),o=e.pane,i=e.widget;if(i!==null&&i.getName()===K){var r=this._makeWidgetEvent(t,i);return this._touchCoordinate={x:r.x,y:r.y},this._chart.getChartStore().getTooltipStore().setCrosshair({x:r.x,y:r.y,paneId:o?.getId()}),!0}return!1},n.prototype._findWidgetByEvent=function(t){var e,o,i=this._chart.getAllPanes(),r=t.x,a=t.y,s=null;try{for(var l=Lt(i),u=l.next();!u.done;u=l.next()){var c=G(u.value,2)[1],h=c.getBounding();if(!(h.left>r||r>h.left+h.width||h.top>a||a>h.top+h.height)){s=c;break}}}catch(x){e={error:x}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(e)throw e.error}}s===null&&(s=this._chart.getPaneById(R.XAXIS));var d=null;if(s!==null){var p=s.getSeparatorWidget();if(p!==null){var v=p.getBounding();v.left>r||r>v.left+v.width||v.top>a||a>v.top+7||(d=p)}if(d===null){var g=s.getMainWidget(),f=g.getBounding();f.left>r||r>f.left+f.width||f.top>a||a>f.top+f.height||(d=g)}if(d===null){var y=s.getYAxisWidget();if(y!==null){var _=y.getBounding();_.left>r||r>_.left+_.width||_.top>a||a>_.top+_.height||(d=y)}}}return{pane:s,widget:d}},n.prototype._makeWidgetEvent=function(t,e){var o,i,r,a=(o=e?.getBounding())!==null&&o!==void 0?o:null;return P(P({},t),{x:t.x-((i=a?.left)!==null&&i!==void 0?i:0),y:t.y-((r=a?.top)!==null&&r!==void 0?r:0)})},n.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},n}();m.DomPosition=void 0,(_e=m.DomPosition||(m.DomPosition={})).Root="root",_e.Main="main",_e.YAxis="yAxis";var vi=function(){function n(t,e){this._panes=new Map,this._initContainer(t),this._chartEvent=new Do(this._chartContainer,this),this._chartStore=new to(this,e),this._xAxisPane=new Eo(this._chartContainer,this,R.XAXIS),this._panes.set(R.CANDLE,new xo(this._chartContainer,this,R.CANDLE)),this.adjustPaneViewport(!0,!0,!0)}return n.prototype._initContainer=function(t){this._container=t,this._chartContainer=ut("div",{position:"relative",width:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,t.appendChild(this._chartContainer)},n.prototype._measurePaneHeight=function(){var t,e=this._container.offsetHeight,o=this._xAxisPane.getAxisComponent().getAutoSize(),i=e-o;0>i&&(i=0);var r=0;this._panes.forEach(function(l){if(l.getId()!==R.CANDLE){var u=l.getBounding().height,c=l.getOptions().minHeight;c>u&&(u=c),r+u>i?u=Math.max(i-(r=i),0):r+=u,l.setBounding({height:u})}});var a=i-r;(t=this._panes.get(R.CANDLE))===null||t===void 0||t.setBounding({height:a});var s=0;this._panes.forEach(function(l){l.setBounding({top:s}),s+=l.getBounding().height}),this._xAxisPane.setBounding({height:o,top:s})},n.prototype._measurePaneWidth=function(){var t=this._chartStore.getStyles().yAxis,e=t.position===m.YAxisPosition.Left,o=!t.inside,i=this._container.offsetWidth,r=0,a=Number.MIN_SAFE_INTEGER,s=0,l=0;this._panes.forEach(function(d){a=Math.max(a,d.getAxisComponent().getAutoSize())}),a>i&&(a=i),o?(r=i-a,e?(s=0,l=a):(s=i-a,l=0)):(r=i,l=0,s=e?0:i-a),this._chartStore.getTimeScaleStore().setTotalBarSpace(r);var u={width:i},c={width:r,left:l},h={width:a,left:s};this._panes.forEach(function(d){d.setBounding(u,c,h)}),this._xAxisPane.setBounding(u,c,h)},n.prototype._setPaneOptions=function(t,e){var o,i,r=this._panes.get((o=t?.id)!==null&&o!==void 0?o:""),a=!1;if(r!==void 0){var s=e;if(t.id!==R.CANDLE&&t.height!==void 0&&t.height>0){var l=Math.max((i=t.minHeight)!==null&&i!==void 0?i:r.getOptions().minHeight,0);r.setBounding({height:Math.max(l,t.height)}),s=!0,a=!0}r.setOptions(t),s&&this.adjustPaneViewport(a,!0,!0,!0,!0)}},n.prototype.getContainer=function(){return this._container},n.prototype.getChartStore=function(){return this._chartStore},n.prototype.getAllPanes=function(){return this._panes},n.prototype.adjustPaneViewport=function(t,e,o,i,r){t&&this._measurePaneHeight();var a=e,s=r!=null&&r;(i!=null&&i||s)&&this._panes.forEach(function(l){var u=l.getAxisComponent().buildTicks(s);a||(a=u)}),a&&this._measurePaneWidth(),o!=null&&o&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4))},n.prototype.updatePane=function(t,e){var o;e!==void 0?(o=this.getPaneById(e))===null||o===void 0||o.update(t):(this._xAxisPane.update(t),this._panes.forEach(function(i){i.update(t)}))},n.prototype.getPaneById=function(t){var e;return t===R.XAXIS?this._xAxisPane:(e=this._panes.get(t))!==null&&e!==void 0?e:null},n.prototype.crosshairChange=function(t){var e=this,o=this._chartStore.getActionStore();if(o.has(m.ActionType.OnCrosshairChange)){var i={};this._panes.forEach(function(r,a){var s={};e._chartStore.getIndicatorStore().getInstances(a).forEach(function(l){var u,c=l.result;s[l.name]=c[(u=t.dataIndex)!==null&&u!==void 0?u:c.length-1]}),i[a]=s}),t.paneId!==void 0&&o.execute(m.ActionType.OnCrosshairChange,P(P({},t),{indicatorData:i}))}},n.prototype.getDom=function(t,e){var o,i;if(t===void 0)return this._chartContainer;var r=this.getPaneById(t);if(r!==null)switch(e??m.DomPosition.Root){case m.DomPosition.Root:return r.getContainer();case m.DomPosition.Main:return r.getMainWidget().getContainer();case m.DomPosition.YAxis:return(i=(o=r.getYAxisWidget())===null||o===void 0?void 0:o.getContainer())!==null&&i!==void 0?i:null}return null},n.prototype.getSize=function(t,e){var o,i;if(t===void 0)return{width:this._chartContainer.offsetWidth,height:this._chartContainer.offsetHeight,left:0,top:0,right:0,bottom:0};var r=this.getPaneById(t);if(r!==null)switch(e??m.DomPosition.Root){case m.DomPosition.Root:return r.getBounding();case m.DomPosition.Main:return r.getMainWidget().getBounding();case m.DomPosition.YAxis:return(i=(o=r.getYAxisWidget())===null||o===void 0?void 0:o.getBounding())!==null&&i!==void 0?i:null}return null},n.prototype.setStyles=function(t){var e,o,i;this._chartStore.setOptions({styles:t}),((e=(i=rt(t)?Ze(t):t)==null?void 0:i.yAxis)===null||e===void 0?void 0:e.type)!==void 0&&((o=this.getPaneById(R.CANDLE))===null||o===void 0||o.getAxisComponent().setAutoCalcTickFlag(!0)),this.adjustPaneViewport(!0,!0,!0,!0,!0)},n.prototype.getStyles=function(){return this._chartStore.getStyles()},n.prototype.setLocale=function(t){this._chartStore.setOptions({locale:t}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},n.prototype.getLocale=function(){return this._chartStore.getLocale()},n.prototype.setCustomApi=function(t){this._chartStore.setOptions({customApi:t}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},n.prototype.setPriceVolumePrecision=function(t,e){this._chartStore.setPrecision({price:t,volume:e})},n.prototype.getPriceVolumePrecision=function(){return this._chartStore.getPrecision()},n.prototype.setTimezone=function(t){this._chartStore.setOptions({timezone:t}),this._xAxisPane.getAxisComponent().buildTicks(!0),this._xAxisPane.update(3)},n.prototype.getTimezone=function(){return this._chartStore.getTimeScaleStore().getTimezone()},n.prototype.setOffsetRightDistance=function(t){this._chartStore.getTimeScaleStore().setOffsetRightDistance(t,!0)},n.prototype.getOffsetRightDistance=function(){return this._chartStore.getTimeScaleStore().getOffsetRightDistance()},n.prototype.setLeftMinVisibleBarCount=function(t){t>0&&this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(t))},n.prototype.setRightMinVisibleBarCount=function(t){t>0&&this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(t))},n.prototype.setBarSpace=function(t){this._chartStore.getTimeScaleStore().setBarSpace(t)},n.prototype.getBarSpace=function(){return this._chartStore.getTimeScaleStore().getBarSpace().bar},n.prototype.getVisibleRange=function(){return this._chartStore.getTimeScaleStore().getVisibleRange()},n.prototype.clearData=function(){this._chartStore.clear()},n.prototype.getDataList=function(){return this._chartStore.getDataList()},n.prototype.applyNewData=function(t,e,o){this._chartStore.clear(),t.length===0?this.adjustPaneViewport(!1,!0,!0,!0):this.applyMoreData(t,e,o)},n.prototype.applyMoreData=function(t,e,o){var i=this;this._chartStore.addData(t,0,e),t.length>0&&this._chartStore.getIndicatorStore().calcInstance().then(function(r){i.adjustPaneViewport(!1,!0,!0,!0),o?.()}).catch(function(r){})},n.prototype.updateData=function(t,e){var o=this,i=this._chartStore.getDataList(),r=i.length,a=t.timestamp,s=W(i[r-1],"timestamp",0);if(a>=s){var l=r;a===s&&(l=r-1),this._chartStore.addData(t,l),this._chartStore.getIndicatorStore().calcInstance().then(function(u){o.adjustPaneViewport(!1,!0,!0,!0),e?.()}).catch(function(u){})}},n.prototype.loadMore=function(t){this._chartStore.getTimeScaleStore().setLoadMoreCallback(t)},n.prototype.createIndicator=function(t,e,o,i){var r,a,s,l=this,u=rt(t)?{name:t}:t;if(Le(u.name)===null)return null;if(z(o)&&rt(o?.id)&&this._panes.has(o.id))s=o.id,this._chartStore.getIndicatorStore().addInstance(u,s,e!=null&&e).then(function(p){var v,g;l._setPaneOptions(o,(g=(v=l._panes.get(s))===null||v===void 0?void 0:v.getAxisComponent().buildTicks(!0))!==null&&g!==void 0&&g)}).catch(function(p){});else{s=(r=o?.id)!==null&&r!==void 0?r:Me(R.INDICATOR);var c=Array.from(this._panes.values()).pop(),h=new di(this._chartContainer,this,s,c);c.setBottomPane(h);var d=(a=o?.height)!==null&&a!==void 0?a:100;h.setBounding({height:d}),z(o)&&h.setOptions(o),this._panes.set(s,h),this._chartStore.getIndicatorStore().addInstance(u,s,e!=null&&e).finally(function(){l.adjustPaneViewport(!0,!0,!0,!0,!0),i?.()})}return s},n.prototype.overrideIndicator=function(t,e,o){var i=this;this._chartStore.getIndicatorStore().override(t,e??null).then(function(r){var a=G(r,2),s=a[1];(a[0]||s)&&(i.adjustPaneViewport(!1,s,!0,s),o?.())}).catch(function(){})},n.prototype.getIndicatorByPaneId=function(t,e){return this._chartStore.getIndicatorStore().getInstanceByPaneId(t,e)},n.prototype.removeIndicator=function(t,e){var o=this._chartStore.getIndicatorStore();if(o.removeInstance(t,e)){var i=!1;if(t!==R.CANDLE&&!o.hasInstances(t)){var r=this._panes.get(t);if(r!==void 0){i=!0;var a=r.getTopPane(),s=r.getBottomPane();s?.setTopPane(a),a?.setBottomPane(s),r?.destroy(),this._panes.delete(t)}}this.adjustPaneViewport(i,!0,!0,!0,!0)}},n.prototype.createOverlay=function(t,e){var o=[];rt(t)?o=[{name:t}]:ot(t)?o=t.map(function(a){return rt(a)?{name:a}:a}):o=[t];var i=!0;e!==void 0&&this.getPaneById(e)!==null||(e=R.CANDLE,i=!1);var r=this._chartStore.getOverlayStore().addInstances(o,e,i);return ot(t)?r:r[0]},n.prototype.getOverlayById=function(t){return this._chartStore.getOverlayStore().getInstanceById(t)},n.prototype.overrideOverlay=function(t){this._chartStore.getOverlayStore().override(t)},n.prototype.removeOverlay=function(t){var e;t!==void 0&&(e=rt(t)?{id:t}:t),this._chartStore.getOverlayStore().removeInstance(e)},n.prototype.setPaneOptions=function(t){this._setPaneOptions(t,!1)},n.prototype.setZoomEnabled=function(t){this._chartStore.getTimeScaleStore().setZoomEnabled(t)},n.prototype.isZoomEnabled=function(){return this._chartStore.getTimeScaleStore().getZoomEnabled()},n.prototype.setScrollEnabled=function(t){this._chartStore.getTimeScaleStore().setScrollEnabled(t)},n.prototype.isScrollEnabled=function(){return this._chartStore.getTimeScaleStore().getScrollEnabled()},n.prototype.scrollByDistance=function(t,e){var o=e===void 0||0>e?0:e,i=this._chartStore.getTimeScaleStore();if(o>0){i.startScroll();var r=new Date().getTime(),a=function(){var s=(new Date().getTime()-r)/o,l=s>=1;i.scroll(l?t:t*s),l||requestAnimationFrame(a)};a()}else i.startScroll(),i.scroll(t)},n.prototype.scrollToRealTime=function(t){var e=this._chartStore.getTimeScaleStore(),o=e.getBarSpace().bar,i=e.getOffsetRightBarCount()-e.getInitialOffsetRightDistance()/o;this.scrollByDistance(i*o,t)},n.prototype.scrollToDataIndex=function(t,e){var o=this._chartStore.getTimeScaleStore(),i=(o.getOffsetRightBarCount()+(this.getDataList().length-1-t))*o.getBarSpace().bar;this.scrollByDistance(i,e)},n.prototype.scrollToTimestamp=function(t,e){var o=se(this.getDataList(),"timestamp",t);this.scrollToDataIndex(o,e)},n.prototype.zoomAtCoordinate=function(t,e,o){var i=o===void 0||0>o?0:o,r=this._chartStore.getTimeScaleStore();if(i>0){var a=r.getBarSpace().bar,s=a*t-a,l=new Date().getTime(),u=function(){var c=(new Date().getTime()-l)/i,h=c>=1;r.zoom((h?s:s*c)/a,e),h||requestAnimationFrame(u)};u()}else r.zoom(t,e)},n.prototype.zoomAtDataIndex=function(t,e,o){var i=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(e);this.zoomAtCoordinate(t,{x:i,y:0},o)},n.prototype.zoomAtTimestamp=function(t,e,o){var i=se(this.getDataList(),"timestamp",e);this.zoomAtDataIndex(t,i,o)},n.prototype.convertToPixel=function(t,e){var o,i=e.paneId,r=i===void 0?R.CANDLE:i,a=e.absolute,s=a!==void 0&&a,l=[];if(r!==R.XAXIS){var u=this.getPaneById(r);if(u!==null){var c=this._chartStore.getTimeScaleStore(),h=u.getBounding(),d=[].concat(t),p=this._xAxisPane.getAxisComponent(),v=u.getAxisComponent();l=d.map(function(g){var f={},y=g.dataIndex;if(g.timestamp!==void 0&&(y=c.timestampToDataIndex(g.timestamp)),y!==void 0&&(f.x=p?.convertToPixel(y)),g.value!==void 0){var _=v?.convertToPixel(g.value);f.y=s?h.top+_:_}return f})}}return ot(t)?l:(o=l[0])!==null&&o!==void 0?o:{}},n.prototype.convertFromPixel=function(t,e){var o,i=e.paneId,r=i===void 0?R.CANDLE:i,a=e.absolute,s=a!==void 0&&a,l=[];if(r!==R.XAXIS){var u=this.getPaneById(r);if(u!==null){var c=this._chartStore.getTimeScaleStore(),h=u.getBounding(),d=[].concat(t),p=this._xAxisPane.getAxisComponent(),v=u.getAxisComponent();l=d.map(function(g){var f,y={};if(g.x!==void 0){var _=p.convertFromPixel(g.x);y.dataIndex=_,y.timestamp=(f=c.dataIndexToTimestamp(_))!==null&&f!==void 0?f:void 0}return g.y!==void 0&&(y.value=v.convertFromPixel(s?g.y-h.top:g.y)),y})}}return ot(t)?l:(o=l[0])!==null&&o!==void 0?o:{}},n.prototype.executeAction=function(t,e){var o;if(t===m.ActionType.OnCrosshairChange){var i=P({},e);i.paneId=(o=i.paneId)!==null&&o!==void 0?o:R.CANDLE,this._chartStore.getTooltipStore().setCrosshair(i)}},n.prototype.subscribeAction=function(t,e){this._chartStore.getActionStore().subscribe(t,e)},n.prototype.unsubscribeAction=function(t,e){this._chartStore.getActionStore().unsubscribe(t,e)},n.prototype.getConvertPictureUrl=function(t,e,o){var i=this._chartContainer.offsetWidth,r=this._chartContainer.offsetHeight,a=ut("canvas",{width:"".concat(i,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),l=xt(a);a.width=i*l,a.height=r*l,s.scale(l,l),s.fillStyle=o??"#FFFFFF",s.fillRect(0,0,i,r);var u=t!=null&&t;this._panes.forEach(function(h){var d=h.getBounding();s.drawImage(h.getImage(u),0,d.top,i,d.height)});var c=this._xAxisPane.getBounding();return s.drawImage(this._xAxisPane.getImage(u),0,c.top,i,c.height),a.toDataURL("image/".concat(e??"jpeg"))},n.prototype.resize=function(){this.adjustPaneViewport(!0,!0,!0,!0,!0)},n.prototype.destroy=function(){this._chartEvent.destroy(),this._panes.forEach(function(t){t.destroy()}),this._panes.clear(),this._xAxisPane.destroy(),this._container.removeChild(this._chartContainer)},n}(),$t=new Map,Po=1,Mo={clone:te,merge:U,isString:rt,isNumber:It,isValid:z,isObject:nt,isArray:ot,isFunction:Et,isBoolean:Ce,formatValue:W,formatPrecision:Y,formatBigNumber:Ie,formatDate:Ee,formatThousands:j,calcTextWidth:Rt,getLinearSlopeIntercept:Ut,getLinearYFromSlopeIntercept:de,getLinearYFromCoordinates:Ot,checkCoordinateOnArc:ii,checkCoordinateOnCircle:Ge,checkCoordinateOnLine:Ne,checkCoordinateOnPolygon:Ke,checkCoordinateOnRect:Je,checkCoordinateOnText:ti,drawArc:oi,drawCircle:Ue,drawLine:We,drawPolygon:qe,drawRect:ge,drawText:fe,drawRectText:no};m.dispose=function(n){var t,e,o;if(n instanceof vi)o=n.id;else{var i=void 0;o=(t=(i=rt(n)?document.getElementById(n):n)==null?void 0:i.getAttribute("k-line-chart-id"))!==null&&t!==void 0?t:null}o!==null&&((e=$t.get(o))===null||e===void 0||e.destroy(),$t.delete(o))},m.getFigureClass=function(n){var t;return(t=Wt[n])!==null&&t!==void 0?t:null},m.getOverlayClass=function(n){var t;return(t=Vt[n])!==null&&t!==void 0?t:null},m.getSupportedFigures=function(){return Object.keys(Wt)},m.getSupportedIndicators=function(){return Object.keys(Gt)},m.getSupportedLocales=function(){return Object.keys(qt)},m.getSupportedOverlays=function(){return Object.keys(Vt)},m.init=function(n,t){var e;if((e=rt(n)?document.getElementById(n):n)===null)return null;var o=$t.get(e.id);if(o!==void 0)return o;var i="k_line_chart_".concat(Po++);return(o=new vi(e,t)).id=i,e.setAttribute("k-line-chart-id",i),$t.set(i,o),o},m.registerFigure=function(n){Wt[n.name]=Oe.extend(n)},m.registerIndicator=function(n){Gt[n.name]=Fe.extend(n)},m.registerLocale=function(n,t){qt[n]=P(P({},qt[n]),t)},m.registerOverlay=function(n){Vt[n.name]=Be.extend(n)},m.registerStyles=function(n,t){je[n]=t},m.utils=Mo,m.version=function(){return"9.5.4"}});</script>
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f5f0d6d79a8fb0825e285ab72dc542cb";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/en-US/" data-v-86d1bed8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.svg" alt data-v-8426fc1a><!--]--><!--[-->KLineChart<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a0fd61f4><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en-US/guide/what-is-klinechart.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://pro.klinecharts.com/en-US" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Pro</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://preview.klinecharts.com/#en-US" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Preview</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en-US/sponsor.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Sponsor</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>V9.5.4</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://v8.klinecharts.com" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->V8 Docs<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-a0fd61f4 data-v-74abcbb9 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-9c007e85><span class="text" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-9c007e85><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg><!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><div class="items" data-v-74abcbb9><p class="title" data-v-74abcbb9>English</p><!--[--><div class="VPMenuLink" data-v-74abcbb9 data-v-43f1e123><a class="VPLink link" href="/sample/basic.html" data-v-43f1e123><!--[-->简体中文<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e6aabb21 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a0fd61f4 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/liihuu/KLineChart" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://t.me/+098syuQtzI0yNzll" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg viewBox="0 0 1024 1024"><path d="M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z"/></svg></a><a class="VPSocialLink no-icon" href="https://discord.gg/7YjHYgvvvZ" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><a class="VPSocialLink no-icon" href="/en-US/guide/feedback" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg viewBox="0 0 1193 1024"><path d="M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z" p-id="3781"></path><path d="M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z"/></svg></a><a class="VPSocialLink no-icon" href="https://twitter.com/klinecharts" aria-label="twitter" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-40855f84 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><div class="group translations" data-v-40855f84><p class="trans-title" data-v-40855f84>English</p><!--[--><div class="VPMenuLink" data-v-40855f84 data-v-43f1e123><a class="VPLink link" href="/sample/basic.html" data-v-43f1e123><!--[-->简体中文<!--]--></a></div><!--]--></div><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/liihuu/KLineChart" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://t.me/+098syuQtzI0yNzll" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg viewBox="0 0 1024 1024"><path d="M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z"/></svg></a><a class="VPSocialLink no-icon" href="https://discord.gg/7YjHYgvvvZ" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><a class="VPSocialLink no-icon" href="/en-US/guide/feedback" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg viewBox="0 0 1193 1024"><path d="M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z" p-id="3781"></path><path d="M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z"/></svg></a><a class="VPSocialLink no-icon" href="https://twitter.com/klinecharts" aria-label="twitter" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 has-active" data-v-b00e2fdd data-v-e31bd47b><!----><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/basic.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Basic</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/candle-type.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Candle Type</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/indicator.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Indicator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/axis.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Axis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/tooltip.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Tooltip</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/overlay.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Overlay</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/data.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Data</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/theme.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Theme</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/timezone.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Timezone</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/en-US/sample/i18n.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>I18n</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><!----><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _en-US_sample_basic" data-v-6b87e69f><div><h1 id="basic" tabindex="-1">Basic <a class="header-anchor" href="#basic" aria-label="Permalink to &quot;Basic&quot;">​</a></h1><div class="chart sample-chart" data-v-7e3a062d><div id="container" class="chart-container" data-v-7e3a062d></div><div class="code-action-container" data-v-7e3a062d><form action="https://codesandbox.io/api/v1/sandboxes/define" method="POST" target="_blank" data-v-7e3a062d><input type="hidden" name="parameters" value="N4IgZglgNgpgziAXKCA7AJjAHgOgFYLIgDGA9qgC4yVIgA6qEAtgA6kBOFABMF2hNwC-XMO1JMuAcgDWUNDGIALAIac4khgzABXVMQoRyXAObUAIsorKuACgNN4V1lwC8XVDADuXC1RsBKHFMKABVmGACAGi5YVGMKRVcuAA4ABlT_HgYuGJhuACNlOBgABXYIYhgkgFZ01Oyue0dlZzcAWUtFHDAoUg47cLgnFi4Aei4ARjqxrgA2DK4AKjnUpcnpgFpcuIS1-bWp9IayVCGudEtlABkIM7cAbQBdBrAOW1huCCTUgG4-LgAPNt4oo_hAANTgzLABo5E5nFjlSpwJJPWEiN42D5cPDfP64oEAFnxkOh6JyiIq8BwLG0cEUNkKxTKVK44K4HQSOHYygw4gCe1WWwAzBl0YJ0ZTkTg4BwKAF0fDuKQWNQkuCbFL4PdOV0xLp0DZddzeeh-ZllsL_I8cBRSAAxCBYGCGgBM_n8ivIZ0UEGMiTcGq1cHuwptdsdzrdHq9p24vW8gc1SO1qXDDqdLps7s9qBycO93GIvWK6uTVJDxv1GCNnRNfKYAst1ttGaj2ZjefzSq4ADdSFBtA4klXSAba1yeQ2m-sFuyprGzhRtOxUKRezB2EkbCq1ezff62TFSN52cXSMVMuNCWt-4OHOiLlYbkMaXSGbwmkMWixorvUNEB6KJECbROexTRHeQ4wNEy6ruum5cIIubokypQpkk4EwOiX7DGybj7Mshz1F2EpduweQrnmT7XLcFAMGRDA9koqjcG4_DyjIGxyB4GwsZwki5vxFA4MoLAsFAACeAByXi-MoNimKg8kBLmICCJEIBoJguCKBQTBQEgoAnFQNCIPQqAAugEC9nw6AuHQIDSNx8h8SonCOVwQySbADkgIoMB-npiCEqKLBYI5owAHwMOpmnadgODEHAhDABpIAsMoxDSMopj4LKqBGSQ5CmRQRUGBQsC0AAQkUFRcFssjyMJcAAAIAJw4NUOCpCAmmYKqGDUMQEDwEVTUeC1tCdd1vWCPN81AA" data-v-7e3a062d><button type="submit" data-v-7e3a062d><div class="tooltip" data-v-7e3a062d data-v-002f285a><span class="body" data-v-002f285a><!--[--><svg width="14" height="16" viewBox="0 0 14 16" data-v-7e3a062d><path d="M10.8369,2.19231L10.8447,2.18846L10.8485,2.18846L7,0L3.1534,2.18846L3.14951,2.18846L3.16311,2.19423L0,4L0,12L7,16L14,12L14,4L10.8369,2.19231ZM6.43107,14.3769L3.65243,12.7885L3.65243,10.1038L1.13592,8.68846L1.13592,5.325L6.43107,8.35L6.43107,14.3769ZM1.6835,4.33654L4.29903,2.84038L6.99612,4.37308L9.69709,2.83654L12.3223,4.33654L7.00389,7.375L1.6835,4.33654ZM12.8641,8.69808L10.3631,10.1038L10.3631,12.7788L7.56893,14.375L7.56893,8.35385L12.8641,5.32885L12.8641,8.69808Z" data-v-7e3a062d></path></svg><!--]--></span><div class="tip-container" data-v-002f285a><span class="tip" data-v-002f285a>Open in CodeSandbox</span></div></div></button></form><form action="https://codepen.io/pen/define" method="POST" target="_blank" data-v-7e3a062d><input type="hidden" name="data" value="{&quot;title&quot;:&quot;Basic - klinecharts@9.5.0&quot;,&quot;html&quot;:&quot;\n&lt;div id=\&quot;k-line-chart\&quot; style=\&quot;height:430px\&quot;/&gt;\n&quot;,&quot;js&quot;:&quot;\nconst { init } = klinecharts\n\nfunction genData (timestamp = new Date().getTime(), length = 800) {\n  let basePrice = 5000\n  timestamp = Math.floor(timestamp / 1000 / 60) * 60 * 1000 - length * 60 * 1000\n  const dataList = []\n  for (let i = 0; i &lt; length; i++) {\n    const prices = []\n    for (let j = 0; j &lt; 4; j++) {\n      prices.push(basePrice + Math.random() * 60 - 30)\n    }\n    prices.sort()\n    const open = +(prices[Math.round(Math.random() * 3)].toFixed(2))\n    const high = +(prices[3].toFixed(2))\n    const low = +(prices[0].toFixed(2))\n    const close = +(prices[Math.round(Math.random() * 3)].toFixed(2))\n    const volume = Math.round(Math.random() * 100) + 10\n    const turnover = (open + high + low + close) / 4 * volume\n    dataList.push({ timestamp, open, high,low, close, volume, turnover })\n\n    basePrice = close\n    timestamp += 60 * 1000\n  }\n  return dataList\n}\n\nconst chart = init(&#39;k-line-chart&#39;)\nchart.applyNewData(genData())\n&quot;,&quot;js_external&quot;:&quot;https://unpkg.com/klinecharts@9.5.0/dist/klinecharts.min.js&quot;}" data-v-7e3a062d><button type="submit" data-v-7e3a062d><div class="tooltip" data-v-7e3a062d data-v-002f285a><span class="body" data-v-002f285a><!--[--><svg width="16" height="16" viewBox="0 0 16 16" data-v-7e3a062d><path d="M15.988,5.46909L15.982,5.43907C15.978,5.41906,15.976,5.40104,15.97,5.38103C15.966,5.36902,15.962,5.35902,15.96,5.34701C15.954,5.331,15.95,5.31299,15.942,5.29698C15.938,5.28497,15.932,5.27496,15.926,5.26295C15.918,5.24694,15.91,5.23293,15.9021,5.21692C15.8961,5.20692,15.8901,5.19491,15.8821,5.1849C15.8661,5.16089,15.8481,5.13687,15.8301,5.11285C15.8201,5.10085,15.8081,5.08684,15.7961,5.07483C15.7881,5.06482,15.7781,5.05682,15.7681,5.04881C15.7561,5.03681,15.7421,5.0268,15.7301,5.01679C15.7201,5.00879,15.7101,5.00078,15.6982,4.99278C15.6942,4.99077,15.6902,4.98677,15.6862,4.98477L8.37981,0.115576C8.14993,-0.0385253,7.84808,-0.0385253,7.61819,0.115576L0.307846,4.98877C0.303848,4.99077,0.29985,4.99478,0.295852,4.99678C0.285857,5.00478,0.275862,5.01279,0.263868,5.02079C0.249875,5.0308,0.237881,5.04281,0.225887,5.05282C0.215892,5.06082,0.207896,5.07083,0.197901,5.07883C0.185907,5.09084,0.173913,5.10285,0.163918,5.11686C0.143928,5.13887,0.127936,5.16289,0.111944,5.1889C0.105947,5.19891,0.0979512,5.20892,0.0919542,5.22093C0.0839581,5.23494,0.0759621,5.25095,0.0679662,5.26696C0.0619691,5.27696,0.0579712,5.28897,0.0519741,5.30098C0.0459771,5.31699,0.0399802,5.335,0.0339831,5.35101C0.0299852,5.36302,0.0259871,5.37303,0.0239881,5.38503C0.0199902,5.40305,0.0159921,5.42306,0.0119941,5.44307L0.00599706,5.47309C0.00199912,5.50311,0,5.53313,0,5.56315L0,10.4363C0,10.4664,0.00199897,10.4964,0.00599706,10.5264L0.0119941,10.5564C0.0159921,10.5764,0.0199902,10.5945,0.0239881,10.6145C0.027986,10.6265,0.0299852,10.6365,0.0339831,10.6485C0.0399802,10.6665,0.0459771,10.6825,0.0519741,10.6985C0.0559721,10.7105,0.0619691,10.7205,0.0679662,10.7325C0.0759622,10.7486,0.0819592,10.7626,0.0919542,10.7786C0.0979512,10.7886,0.103948,10.8006,0.111944,10.8106C0.121939,10.8246,0.129935,10.8386,0.141929,10.8526L0.165917,10.8826C0.175912,10.8946,0.187906,10.9087,0.1999,10.9207C0.207896,10.9307,0.217891,10.9387,0.227886,10.9467C0.23988,10.9587,0.253873,10.9687,0.265867,10.9787C0.275862,10.9867,0.285857,10.9947,0.297851,11.0027C0.301849,11.0047,0.305847,11.0087,0.309845,11.0107L7.61819,15.8839C7.73014,15.96,7.86407,16,8,16C8.13194,16,8.26587,15.962,8.38181,15.8839L15.6902,11.0107C15.6942,11.0087,15.6982,11.0047,15.7022,11.0027C15.7121,10.9947,15.7221,10.9867,15.7341,10.9787C15.7481,10.9687,15.7601,10.9567,15.7721,10.9467C15.7821,10.9387,15.7901,10.9287,15.8001,10.9207C15.8121,10.9087,15.8241,10.8967,15.8341,10.8826L15.8581,10.8526L15.8881,10.8106C15.8941,10.8006,15.9021,10.7906,15.908,10.7786C15.916,10.7626,15.924,10.7486,15.932,10.7325C15.938,10.7225,15.942,10.7105,15.948,10.6985C15.954,10.6825,15.96,10.6645,15.966,10.6485C15.97,10.6385,15.974,10.6265,15.976,10.6145C15.982,10.5965,15.984,10.5764,15.988,10.5564L15.994,10.5264C15.998,10.4964,16,10.4664,16,10.4363L16,5.55915C15.994,5.52913,15.992,5.49911,15.988,5.46909ZM8.68566,1.97079L14.071,5.56115L11.6662,7.17021L8.68766,5.1769L8.68766,1.97079L8.68566,1.97079ZM7.31035,1.97079L7.31035,5.1769L4.33184,7.17021L1.92704,5.56115L7.31035,1.97079ZM1.37531,6.84599L3.09445,7.99675L1.37531,9.1475L1.37531,6.84599ZM7.31035,14.0207L1.92704,10.4303L4.33184,8.82129L7.31035,10.8146L7.31035,14.0207ZM7.998,9.62181L5.56722,7.99675L7.998,6.36968L10.4288,7.99475L7.998,9.62181ZM8.68566,14.0207L8.68566,10.8146L11.6642,8.82129L14.069,10.4303L8.68566,14.0207ZM14.6207,9.1455L12.9016,7.99475L14.6207,6.84399L14.6207,9.1455Z" data-v-7e3a062d></path></svg><!--]--></span><div class="tip-container" data-v-002f285a><span class="tip" data-v-002f285a>Open in CodePen</span></div></div></button></form><button data-v-7e3a062d><div class="tooltip" data-v-7e3a062d data-v-002f285a><span class="body" data-v-002f285a><!--[--><svg width="12" height="16" viewBox="0 0 12 16" data-v-7e3a062d><path d="M5.13686,9.45472L0,9.45472L9.39094,0L6.86314,6.54528L12,6.54528L2.60837,16L5.13686,9.45472L5.13686,9.45472Z" data-v-7e3a062d></path></svg><!--]--></span><div class="tip-container" data-v-002f285a><span class="tip" data-v-002f285a>Open in StackBlitz</span></div></div></button><a target="_blank" data-v-7e3a062d><div class="tooltip" data-v-7e3a062d data-v-002f285a><span class="body" data-v-002f285a><!--[--><svg width="15" height="15" viewBox="0 0 16 16" data-v-7e3a062d><path d="M3.63636,3.63636L3.63636,1.81818C3.63636,0.814546,4.45164,3.90139e-7,5.45455,3.90139e-7L14.1818,3.90139e-7C15.1855,3.90139e-7,16,0.815273,16,1.81818L16,10.5455C16,11.5491,15.1847,12.3636,14.1818,12.3636L12.3636,12.3636L12.3636,14.1818C12.3636,15.1855,11.5484,16,10.5455,16L1.81818,16C0.814546,16,3.90139e-7,15.1847,3.90139e-7,14.1818L3.90139e-7,5.45455C3.90139e-7,4.45091,0.815273,3.63636,1.81818,3.63636L3.63636,3.63636ZM3.63636,5.09091L1.81818,5.09091C1.61818,5.09091,1.45455,5.25455,1.45455,5.45455L1.45455,14.1818C1.45455,14.3818,1.61818,14.5455,1.81818,14.5455L10.5455,14.5455C10.7455,14.5455,10.9091,14.3818,10.9091,14.1818L10.9091,12.3636L5.45455,12.3636C4.45091,12.3636,3.63636,11.5484,3.63636,10.5455L3.63636,5.09091ZM5.09091,1.81818L5.09091,10.5455C5.09091,10.7455,5.25455,10.9091,5.45455,10.9091L14.1818,10.9091C14.3818,10.9091,14.5455,10.7455,14.5455,10.5455L14.5455,1.81818C14.5455,1.61818,14.3818,1.45455,14.1818,1.45455L5.45455,1.45455C5.25455,1.45455,5.09091,1.61818,5.09091,1.81818Z" data-v-7e3a062d></path></svg><!--]--></span><div class="tip-container" data-v-002f285a><span class="tip" data-v-002f285a>Open in a new window</span></div></div></a></div></div><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-BeIZS" id="tab-oRFMHfW" checked="checked"><label for="tab-oRFMHfW">JavaScript</label><input type="radio" name="group-BeIZS" id="tab-ki1tQa1"><label for="tab-ki1tQa1">HTML</label></div><div class="blocks"><div class="language-js vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">init</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">klinecharts</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">genData</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">timestamp</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTime</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">length</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">800</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">basePrice</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">5000</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">timestamp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">timestamp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">60</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">60</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">60</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">dataList</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">length</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">prices</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">j</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">j</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">j</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">prices</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">basePrice</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">60</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">30</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">prices</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sort</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">open</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">prices</span><span style="color:#F07178;">[</span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">round</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">)]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toFixed</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">high</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">prices</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toFixed</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">low</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">prices</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toFixed</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">close</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">prices</span><span style="color:#F07178;">[</span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">round</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">)]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toFixed</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">volume</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">round</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">100</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">turnover</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">open</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">high</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">low</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">close</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">4</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">volume</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">dataList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">timestamp</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">open</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">high</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;">low</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">close</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">volume</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">turnover</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">basePrice</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">close</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">timestamp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">60</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">dataList</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> chart </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">init</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">k-line-chart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">chart</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">applyNewData</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">genData</span><span style="color:#BABED8;">())</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { init } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;klinecharts&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">genData</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">timestamp</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">getTime</span><span style="color:#24292E;">(), </span><span style="color:#E36209;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">800</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> basePrice </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5000</span></span>
<span class="line"><span style="color:#24292E;">  timestamp </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">floor</span><span style="color:#24292E;">(timestamp </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">60</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">60</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> length </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">60</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">dataList</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> length; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">prices</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> j </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; j </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#24292E;">; j</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      prices.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(basePrice </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">random</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">60</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    prices.</span><span style="color:#6F42C1;">sort</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">open</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;">(prices[Math.</span><span style="color:#6F42C1;">round</span><span style="color:#24292E;">(Math.</span><span style="color:#6F42C1;">random</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">)].</span><span style="color:#6F42C1;">toFixed</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">high</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;">(prices[</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">toFixed</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">low</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;">(prices[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">toFixed</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">close</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;">(prices[Math.</span><span style="color:#6F42C1;">round</span><span style="color:#24292E;">(Math.</span><span style="color:#6F42C1;">random</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">)].</span><span style="color:#6F42C1;">toFixed</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">volume</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">round</span><span style="color:#24292E;">(Math.</span><span style="color:#6F42C1;">random</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">turnover</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (open </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> high </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> low </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> close) </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> volume</span></span>
<span class="line"><span style="color:#24292E;">    dataList.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">({ timestamp, open, high,low, close, volume, turnover })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    basePrice </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> close</span></span>
<span class="line"><span style="color:#24292E;">    timestamp </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">60</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> dataList</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">chart</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">init</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;k-line-chart&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">chart.</span><span style="color:#6F42C1;">applyNewData</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">genData</span><span style="color:#24292E;">())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">k-line-chart</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">height:430px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;k-line-chart&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;height:430px&quot;</span><span style="color:#B31D28;font-style:italic;">/</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><div class="edit-info" data-v-ef5dee53><!----><div class="last-updated" data-v-ef5dee53><p class="VPLastUpdated" data-v-ef5dee53 data-v-7e05ebdb>Last updated: <time datetime="2023-10-31T20:31:22.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><!----></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/en-US/sample/candle-type.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Next page</span><span class="title" data-v-ef5dee53>Candle Type</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e03eb2e1><div class="container" data-v-e03eb2e1><p class="message" data-v-e03eb2e1>Released under the Apache License V2.</p><p class="copyright" data-v-e03eb2e1>Copyright © 2018-present liihuu</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"components_sample_data_index.md\":\"7dfa20e6\",\"components_sample_basic_index.md\":\"0f2b9a3e\",\"components_sample_candle-type_index.md\":\"c9d4a4b7\",\"components_sample_axis_index.md\":\"de1055b1\",\"components_sample_i18n_index.md\":\"8ed87aa7\",\"components_sample_indicator_index.md\":\"7f178871\",\"en-us_guide_environment.md\":\"0f83ea9b\",\"en-us_guide_datasource.md\":\"f97736fc\",\"en-us_guide_feedback.md\":\"2f466906\",\"components_sample_timezone_index.md\":\"01d1e31d\",\"en-us_guide_changelog.md\":\"dda31407\",\"components_sample_overlay_index.md\":\"80c1a44d\",\"en-us_guide_faq.md\":\"63dc70d4\",\"components_sample_tooltip_index.md\":\"01467383\",\"components_sample_theme_index.md\":\"b864fd33\",\"en-us_guide_i18n.md\":\"25595837\",\"en-us_guide_hot-key.md\":\"14e37aaf\",\"en-us_guide_figure.md\":\"5d79e97e\",\"en-us_guide_indicator.md\":\"0a45fae0\",\"en-us_guide_what-is-klinechart.md\":\"10ec6daf\",\"en-us_index.md\":\"e4f4918d\",\"en-us_guide_v8-to-v9.md\":\"ef7af630\",\"en-us_guide_getting-started.md\":\"9ca97539\",\"en-us_guide_chart-api.md\":\"f4b42497\",\"en-us_guide_overlay.md\":\"900f764f\",\"en-us_guide_styles.md\":\"bd349e8d\",\"en-us_guide_instance-api.md\":\"0a2be7c1\",\"en-us_sample_basic.md\":\"a20f4ddd\",\"en-us_sample_axis.md\":\"28f57e25\",\"en-us_sample_candle-type.md\":\"f057a0d8\",\"en-us_sample_data.md\":\"d50fd3e1\",\"en-us_sample_i18n.md\":\"1ad12f8b\",\"en-us_sample_indicator.md\":\"1705d7aa\",\"en-us_sponsor.md\":\"d3aa79c8\",\"en-us_sample_overlay.md\":\"e4d9ba54\",\"guide_changelog.md\":\"56c3cde0\",\"guide_feedback.md\":\"b66138e1\",\"guide_datasource.md\":\"878f563b\",\"guide_faq.md\":\"7b4ce143\",\"guide_environment.md\":\"75d9b8de\",\"en-us_sample_theme.md\":\"d1dbc68f\",\"en-us_sample_timezone.md\":\"6e8af94e\",\"guide_hot-key.md\":\"61038319\",\"guide_i18n.md\":\"626dfb35\",\"guide_chart-api.md\":\"fecebb39\",\"guide_figure.md\":\"b58230f4\",\"en-us_sample_tooltip.md\":\"f745fdf1\",\"guide_indicator.md\":\"2e1a6254\",\"guide_what-is-klinechart.md\":\"5254bff0\",\"index.md\":\"54b9731b\",\"guide_v8-to-v9.md\":\"e897a36e\",\"guide_overlay.md\":\"0f5f5841\",\"guide_getting-started.md\":\"7021aecf\",\"guide_styles.md\":\"9416915c\",\"guide_instance-api.md\":\"6ef1c08a\",\"sample_basic.md\":\"80007630\",\"sample_axis.md\":\"b22b37e6\",\"sample_candle-type.md\":\"cddd1021\",\"sample_data.md\":\"2938204b\",\"sample_i18n.md\":\"92637d54\",\"sample_overlay.md\":\"f27fefab\",\"sample_indicator.md\":\"9f30f27b\",\"sponsor.md\":\"0af0564d\",\"sample_timezone.md\":\"c7962eed\",\"sample_theme.md\":\"3fc59377\",\"sample_tooltip.md\":\"761071df\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"KLineChart\",\"description\":\"💹📈 可高度自定义的专业级轻量金融图表。\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/images/logo.svg\",\"search\":{\"provider\":\"local\",\"options\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}},\"locales\":{\"en-US\":{\"translations\":{\"button\":{\"buttonText\":\"Search\",\"buttonAriaLabel\":\"Search\"},\"modal\":{\"noResultsText\":\"No results for\",\"resetButtonTitle\":\"Reset search\",\"footer\":{\"selectText\":\"to select\",\"navigateText\":\"to navigate\"}}}}}}},\"footer\":{\"message\":\"Released under the Apache License V2.\",\"copyright\":\"Copyright © 2018-present liihuu\"}},\"locales\":{\"root\":{\"label\":\"简体中文\",\"lang\":\"zh-CN\",\"link\":\"/\",\"themeConfig\":{\"nav\":[{\"text\":\"指南\",\"link\":\"/guide/what-is-klinechart\",\"activeMatch\":\"guide\"},{\"text\":\"示例\",\"link\":\"/sample/basic\",\"activeMatch\":\"sample\"},{\"text\":\"Pro\",\"link\":\"https://pro.klinecharts.com\"},{\"text\":\"预览\",\"link\":\"https://preview.klinecharts.com\"},{\"text\":\"赞助\",\"link\":\"/sponsor\"},{\"text\":\"V9.5.4\",\"items\":[{\"text\":\"V8 文档\",\"link\":\"https://v8.klinecharts.com/zh-CN\"}]}],\"sidebar\":{\"/guide/\":[{\"text\":\"介绍\",\"collapsed\":false,\"items\":[{\"text\":\"什么是KLineChart？\",\"link\":\"/guide/what-is-klinechart\"}]},{\"text\":\"基础篇\",\"collapsed\":false,\"items\":[{\"text\":\"快速开始\",\"link\":\"/guide/getting-started\"},{\"text\":\"样式配置\",\"link\":\"/guide/styles\"},{\"text\":\"数据\",\"link\":\"/guide/datasource\"},{\"text\":\"环境要求\",\"link\":\"/guide/environment\"},{\"text\":\"快捷键\",\"link\":\"/guide/hot-key\"},{\"text\":\"国际化\",\"link\":\"/guide/i18n\"}]},{\"text\":\"进阶篇\",\"collapsed\":false,\"items\":[{\"text\":\"基础图形\",\"link\":\"/guide/figure\"},{\"text\":\"技术指标\",\"link\":\"/guide/indicator\"},{\"text\":\"覆盖物\",\"link\":\"/guide/overlay\"}]},{\"text\":\"API\",\"collapsed\":false,\"items\":[{\"text\":\"图表API\",\"link\":\"/guide/chart-api\"},{\"text\":\"实例API\",\"link\":\"/guide/instance-api\"}]},{\"text\":\"其它\",\"collapsed\":false,\"items\":[{\"text\":\"常见问题\",\"link\":\"/guide/faq\"},{\"text\":\"从v8到v9\",\"link\":\"/guide/v8-to-v9\"},{\"text\":\"更新日志\",\"link\":\"/guide/changelog\"},{\"text\":\"反馈和共建\",\"link\":\"/guide/feedback\"}]}],\"/sample/\":[{\"text\":\"基础展示\",\"link\":\"/sample/basic\"},{\"text\":\"蜡烛图类型\",\"link\":\"/sample/candle-type\"},{\"text\":\"技术指标\",\"link\":\"/sample/indicator\"},{\"text\":\"坐标轴\",\"link\":\"/sample/axis\"},{\"text\":\"提示条\",\"link\":\"/sample/tooltip\"},{\"text\":\"覆盖物\",\"link\":\"/sample/overlay\"},{\"text\":\"数据加载\",\"link\":\"/sample/data\"},{\"text\":\"主题\",\"link\":\"/sample/theme\"},{\"text\":\"时区\",\"link\":\"/sample/timezone\"},{\"text\":\"多语言\",\"link\":\"/sample/i18n\"}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/liihuu/KLineChart\"},{\"icon\":{\"svg\":\"<svg viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z\\\"/></svg>\"},\"link\":\"https://t.me/+098syuQtzI0yNzll\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/7YjHYgvvvZ\"},{\"icon\":{\"svg\":\"<svg viewBox=\\\"0 0 1193 1024\\\"><path d=\\\"M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z\\\" p-id=\\\"3781\\\"></path><path d=\\\"M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z\\\"/></svg>\"},\"link\":\"/guide/feedback\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/klinecharts\"}],\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"editLink\":{\"pattern\":\"https://github.com/liihuu/KLineChart/edit/main/docs/:path\",\"text\":\"为此页提供修改建议\"},\"lastUpdatedText\":\"最后更新时间\",\"sidebarMenuLabel\":\"菜单\",\"darkModeSwitchLabel\":\"主题\",\"outlineTitle\":\"本页目录\",\"returnToTopLabel\":\"返回顶部\"}},\"en-US\":{\"label\":\"English\",\"lang\":\"en-US\",\"link\":\"/en-US/\",\"themeConfig\":{\"nav\":[{\"text\":\"Guide\",\"link\":\"/en-US/guide/what-is-klinechart\",\"activeMatch\":\"guide\"},{\"text\":\"Pro\",\"link\":\"https://pro.klinecharts.com/en-US\"},{\"text\":\"Preview\",\"link\":\"https://preview.klinecharts.com/#en-US\"},{\"text\":\"Sponsor\",\"link\":\"/en-US/sponsor\"},{\"text\":\"V9.5.4\",\"items\":[{\"text\":\"V8 Docs\",\"link\":\"https://v8.klinecharts.com\"}]}],\"sidebar\":{\"/en-US/guide/\":[{\"text\":\"Introduction\",\"collapsed\":false,\"items\":[{\"text\":\"What is KLineChart?\",\"link\":\"/en-US/guide/what-is-klinechart\"}]},{\"text\":\"Basic\",\"collapsed\":false,\"items\":[{\"text\":\"Getting Started\",\"link\":\"/en-US/guide/getting-started\"},{\"text\":\"Style Configuration\",\"link\":\"/en-US/guide/styles\"},{\"text\":\"Datasource\",\"link\":\"/en-US/guide/datasource\"},{\"text\":\"Environment\",\"link\":\"/en-US/guide/environment\"},{\"text\":\"Hot Key\",\"link\":\"/en-US/guide/hot-key\"},{\"text\":\"Internationalization\",\"link\":\"/en-US//guide/i18n\"}]},{\"text\":\"Advanced\",\"collapsed\":false,\"items\":[{\"text\":\"Figure\",\"link\":\"/en-US/guide/figure\"},{\"text\":\"Indicator\",\"link\":\"/en-US/guide/indicator\"},{\"text\":\"Overlay\",\"link\":\"/en-US/guide/overlay\"}]},{\"text\":\"API\",\"collapsed\":false,\"items\":[{\"text\":\"Chart API\",\"link\":\"/en-US/guide/chart-api\"},{\"text\":\"Instance API\",\"link\":\"/en-US/guide/instance-api\"}]},{\"text\":\"Others\",\"collapsed\":false,\"items\":[{\"text\":\"FAQ\",\"link\":\"/en-US/guide/faq\"},{\"text\":\"V8 To V9\",\"link\":\"/en-US/guide/v8-to-v9\"},{\"text\":\"Changelog\",\"link\":\"/en-US/guide/changelog\"},{\"text\":\"Feedback\",\"link\":\"/en-US/guide/feedback\"}]}],\"/en-US/sample/\":[{\"text\":\"Basic\",\"link\":\"/en-US/sample/basic\"},{\"text\":\"Candle Type\",\"link\":\"/en-US/sample/candle-type\"},{\"text\":\"Indicator\",\"link\":\"/en-US/sample/indicator\"},{\"text\":\"Axis\",\"link\":\"/en-US/sample/axis\"},{\"text\":\"Tooltip\",\"link\":\"/en-US/sample/tooltip\"},{\"text\":\"Overlay\",\"link\":\"/en-US/sample/overlay\"},{\"text\":\"Data\",\"link\":\"/en-US/sample/data\"},{\"text\":\"Theme\",\"link\":\"/en-US/sample/theme\"},{\"text\":\"Timezone\",\"link\":\"/en-US/sample/timezone\"},{\"text\":\"I18n\",\"link\":\"/en-US/sample/i18n\"}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/liihuu/KLineChart\"},{\"icon\":{\"svg\":\"<svg viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z\\\"/></svg>\"},\"link\":\"https://t.me/+098syuQtzI0yNzll\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/7YjHYgvvvZ\"},{\"icon\":{\"svg\":\"<svg viewBox=\\\"0 0 1193 1024\\\"><path d=\\\"M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z\\\" p-id=\\\"3781\\\"></path><path d=\\\"M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z\\\"/></svg>\"},\"link\":\"/en-US/guide/feedback\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/klinecharts\"}],\"editLink\":{\"pattern\":\"https://github.com/liihuu/KLineChart/edit/main/docs/:path\"}}}},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>